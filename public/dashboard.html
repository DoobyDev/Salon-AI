<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Salon Receptionist | Salon Dashboard</title>
    <link rel="stylesheet" href="/styles.css" />
    <style>
      .dash {
        width: min(1160px, 92vw);
        margin: 2rem auto;
        display: grid;
        gap: 1.1rem;
      }
      .dash-top {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 1.25rem;
      }
      .workspace-actions {
        display: grid;
        gap: 0.85rem;
      }
      .workspace-actions-head {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.65rem;
        flex-wrap: wrap;
      }
      .workspace-actions-head h2 {
        margin: 0;
        font-size: 1.08rem;
        letter-spacing: -0.02em;
      }
      .workspace-actions-head p {
        margin: 0.22rem 0 0;
        color: var(--muted);
        font-size: 0.86rem;
        max-width: 60ch;
      }
      .workspace-actions-badge {
        display: inline-flex;
        align-items: center;
        border-radius: 999px;
        border: 1px solid rgba(124, 234, 216, 0.2);
        background: rgba(124, 234, 216, 0.06);
        color: #d7fff4;
        padding: 0.22rem 0.52rem;
        font-size: 0.7rem;
        letter-spacing: 0.03em;
        text-transform: uppercase;
        white-space: nowrap;
      }
      .workspace-actions-meta {
        display: flex;
        align-items: center;
        gap: 0.45rem;
        flex-wrap: wrap;
      }
      .workspace-back-btn {
        display: none;
        align-items: center;
        gap: 0.35rem;
        min-height: 30px;
        padding: 0.28rem 0.55rem;
        font-size: 0.74rem;
      }
      .workspace-back-btn.is-visible {
        display: inline-flex;
      }
      .workspace-actions-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(168px, 1fr));
        gap: 0.6rem;
      }
      .workspace-star-panel {
        border: 1px solid rgba(124, 234, 216, 0.18);
        border-radius: 18px;
        background:
          radial-gradient(circle at 100% -6%, rgba(124, 234, 216, 0.1), transparent 38%),
          linear-gradient(160deg, rgba(12, 20, 36, 0.96), rgba(9, 15, 28, 0.9));
        padding: 0.85rem;
        display: grid;
        gap: 0.75rem;
      }
      .workspace-star-head {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.6rem;
        flex-wrap: wrap;
      }
      .workspace-star-kicker {
        margin: 0;
        color: #9bd2ff;
        font-size: 0.68rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }
      .workspace-star-head h3 {
        margin: 0.12rem 0 0;
        font-size: 1.02rem;
        letter-spacing: -0.02em;
      }
      .workspace-star-head > div > p:last-child {
        margin: 0.18rem 0 0;
        color: var(--muted);
        font-size: 0.78rem;
        line-height: 1.35;
        max-width: 58ch;
      }
      .workspace-star-actions {
        display: flex;
        gap: 0.4rem;
        flex-wrap: wrap;
      }
      .workspace-star-actions .btn {
        min-height: 32px;
        padding: 0.24rem 0.55rem;
        font-size: 0.72rem;
      }
      .workspace-star-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
        gap: 0.55rem;
      }
      .workspace-star-card {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 14px;
        background: rgba(255,255,255,0.03);
        padding: 0.7rem;
        display: grid;
        gap: 0.18rem;
        min-width: 0;
      }
      .workspace-star-card p {
        margin: 0;
        color: var(--muted);
        font-size: 0.67rem;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }
      .workspace-star-card strong {
        color: #e7f4ff;
        font-size: 0.84rem;
        line-height: 1.28;
      }
      .workspace-star-card small {
        color: var(--muted);
        font-size: 0.69rem;
        line-height: 1.3;
      }
      .workspace-action-btn {
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 12px;
        background:
          radial-gradient(circle at 92% -6%, rgba(109, 185, 255, 0.08), transparent 42%),
          rgba(9, 15, 28, 0.72);
        color: var(--ink);
        text-align: left;
        padding: 0.8rem 0.85rem;
        display: grid;
        gap: 0.28rem;
        cursor: pointer;
        transition: transform 0.18s ease, border-color 0.18s ease, background 0.18s ease;
      }
      .workspace-action-btn:hover {
        transform: translateY(-1px);
        border-color: rgba(124, 234, 216, 0.24);
        background:
          radial-gradient(circle at 92% -6%, rgba(124, 234, 216, 0.08), transparent 42%),
          rgba(9, 15, 28, 0.8);
      }
      .workspace-action-btn strong {
        font-size: 0.92rem;
        line-height: 1.16;
        letter-spacing: -0.015em;
      }
      .workspace-action-btn small {
        color: var(--muted);
        font-size: 0.76rem;
        line-height: 1.3;
      }
      body[data-role="customer"] #dashboardQuickActionsSection,
      body[data-role="subscriber"] #dashboardQuickActionsSection,
      body[data-role="admin"] #dashboardQuickActionsSection {
        display: none !important;
      }
      .admin-scope {
        margin-top: 0.55rem;
        display: none;
        align-items: center;
        gap: 0.55rem;
        flex-wrap: wrap;
      }
      .admin-scope label {
        color: var(--muted);
        font-size: 0.82rem;
      }
      .admin-scope select {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.42rem 0.55rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
        min-width: 240px;
      }
      .admin-scope small {
        color: var(--muted);
      }
      .dash-grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 0.8rem;
      }
      body[data-role="customer"] #socialMediaSection,
      body[data-role="customer"] #accountingIntegrationsSection,
      body[data-role="customer"] #metricsGrid,
      body[data-role="customer"] #staffRosterSection,
      body[data-role="customer"] #waitlistSection,
      body[data-role="customer"] #revenueAttributionSection,
      body[data-role="customer"] #profitabilitySection {
        display: none !important;
      }
      .mobile-bottom-nav {
        display: none;
      }
      .mobile-bottom-nav-item.admin-only,
      .mobile-bottom-nav-item.subscriber-only,
      .mobile-bottom-nav-item.customer-only {
        display: none;
      }
      .mobile-bottom-nav-item.quick-action {
        display: none;
      }
      body[data-role="admin"] .mobile-bottom-nav-item.admin-only {
        display: grid;
      }
      body[data-role="subscriber"] .mobile-bottom-nav-item.subscriber-only {
        display: grid;
      }
      body[data-role="subscriber"] .mobile-bottom-nav-item.quick-action {
        display: grid;
      }
      body[data-role="customer"] .mobile-bottom-nav-item.customer-only {
        display: grid;
      }
      .mobile-quick-sheet-overlay {
        display: none;
      }
      body[data-role="subscriber"] #customerJourneyActionsSection,
      body[data-role="admin"] #customerJourneyActionsSection {
        display: none !important;
      }
      body[data-role="customer"] .dash {
        width: min(1320px, 95vw);
        margin: 1.1rem auto 1.6rem;
        gap: 0.85rem;
      }
      body[data-role="customer"] {
        background:
          radial-gradient(circle at 8% -10%, rgba(109, 185, 255, 0.14), transparent 34%),
          radial-gradient(circle at 92% -8%, rgba(124, 234, 216, 0.12), transparent 34%),
          linear-gradient(180deg, #050a13 0%, #070d18 45%, #050911 100%);
      }
      body[data-role="customer"] .dash > .panel {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 16px;
        background:
          radial-gradient(circle at 92% -12%, rgba(124, 234, 216, 0.05), transparent 42%),
          linear-gradient(160deg, rgba(15, 23, 41, 0.92), rgba(8, 13, 23, 0.94));
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.03),
          0 14px 30px rgba(0,0,0,0.24);
      }
      body[data-role="customer"] .dash > .dash-top {
        position: sticky;
        top: 0.7rem;
        z-index: 42;
        background:
          radial-gradient(circle at 85% -10%, rgba(109, 185, 255, 0.12), transparent 46%),
          radial-gradient(circle at 12% -18%, rgba(124, 234, 216, 0.08), transparent 40%),
          rgba(8, 13, 23, 0.92);
        border-color: rgba(124, 234, 216, 0.18);
        box-shadow: 0 18px 34px rgba(0,0,0,0.3);
        backdrop-filter: blur(10px);
        padding: 0.85rem 0.9rem;
      }
      body[data-role="customer"] .dash > .dash-top h1 {
        font-size: 1.24rem;
      }
      body[data-role="customer"] .dash > .dash-top .billing-actions {
        gap: 0.45rem;
      }
      body[data-role="customer"] .dash > .dash-top .billing-actions .btn,
      body[data-role="customer"] .dash > .dash-top .billing-actions select {
        min-height: 38px;
        border-radius: 10px;
        background: rgba(9, 15, 28, 0.84);
        border-color: rgba(255,255,255,0.08);
      }
      .customer-journey-actions {
        display: grid;
        gap: 0.65rem;
      }
      .customer-journey-head {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.65rem;
        flex-wrap: wrap;
      }
      .customer-journey-head h2 {
        margin: 0;
        font-size: 0.98rem;
      }
      .customer-journey-head p {
        margin: 0.18rem 0 0;
        color: var(--muted);
        font-size: 0.82rem;
      }
      .customer-journey-grid {
        display: grid;
        grid-template-columns: repeat(5, minmax(0, 1fr));
        gap: 0.5rem;
      }
      .customer-journey-link {
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 12px;
        background:
          radial-gradient(circle at 92% -6%, rgba(109, 185, 255, 0.08), transparent 42%),
          rgba(9, 15, 28, 0.72);
        color: var(--ink);
        text-align: left;
        padding: 0.55rem 0.6rem;
        display: grid;
        gap: 0.18rem;
        transition: transform 0.18s ease, border-color 0.18s ease, background 0.18s ease;
      }
      .customer-journey-link:hover {
        transform: translateY(-2px);
        border-color: rgba(124, 234, 216, 0.24);
        background:
          radial-gradient(circle at 92% -6%, rgba(124, 234, 216, 0.08), transparent 42%),
          rgba(9, 15, 28, 0.8);
      }
      .customer-journey-link strong {
        font-size: 0.82rem;
      }
      .customer-journey-link small {
        color: var(--muted);
        font-size: 0.72rem;
      }
      body[data-role="subscriber"] .dash > .dash-top,
      body[data-role="admin"] .dash > .dash-top {
        order: 1;
      }
      body[data-role="subscriber"] .dash > #dashboardQuickActionsSection,
      body[data-role="admin"] .dash > #dashboardQuickActionsSection {
        order: 2;
      }
      body[data-role="subscriber"] .dash > #subscriberFullDemoModeSection {
        order: 2.5;
      }
      body[data-role="subscriber"] .dash > #subscriberCalendarSection,
      body[data-role="admin"] .dash > #subscriberCalendarSection {
        order: 3;
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection,
      body[data-role="admin"] .dash > #adminCopilotSection {
        order: 4;
      }
      body[data-role="subscriber"] .dash > #businessGrowthSection,
      body[data-role="admin"] .dash > #businessGrowthSection {
        order: 6;
      }
      body[data-role="subscriber"] .dash > #subscriberExecutivePulseSection,
      body[data-role="admin"] .dash > #subscriberExecutivePulseSection {
        order: 5;
      }
      body[data-role="customer"] .dash > .dash-top { order: 1; }
      body[data-role="customer"] .dash > #customerJourneyActionsSection { order: 2; }
      body[data-role="customer"] .dash > #customerSearchSection { order: 3; }
      body[data-role="customer"] .dash > #customerReceptionSection { order: 4; }
      body[data-role="customer"] .dash > #customerLexiCalendarSection { order: 5; }
      body[data-role="customer"] .dash > #customerSlotsSection { order: 6; }
      body[data-role="customer"] .dash > #customerHistorySection { order: 7; }
      body[data-role="customer"] .dash > #customerAnalyticsSection { order: 8; }
      body[data-role="customer"] #subscriberFullDemoModeSection,
      body[data-role="admin"] #subscriberFullDemoModeSection {
        display: none !important;
      }
      body[data-role="subscriber"],
      body[data-role="admin"] {
        background:
          radial-gradient(circle at 8% -10%, rgba(109, 185, 255, 0.14), transparent 34%),
          radial-gradient(circle at 92% -8%, rgba(124, 234, 216, 0.12), transparent 34%),
          linear-gradient(180deg, #050a13 0%, #070d18 45%, #050911 100%);
      }
      body[data-role="subscriber"] .dash,
      body[data-role="admin"] .dash {
        width: min(1420px, 95vw);
        margin: 1.1rem auto 1.6rem;
        gap: 0.85rem;
      }
      body[data-role="subscriber"] .dash > .panel,
      body[data-role="admin"] .dash > .panel {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 16px;
        background:
          radial-gradient(circle at 92% -12%, rgba(124, 234, 216, 0.05), transparent 42%),
          linear-gradient(160deg, rgba(15, 23, 41, 0.92), rgba(8, 13, 23, 0.94));
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.03),
          0 14px 30px rgba(0,0,0,0.24);
      }
      body[data-role="subscriber"] .dash > .dash-top,
      body[data-role="admin"] .dash > .dash-top {
        position: sticky;
        top: 0.7rem;
        z-index: 42;
        display: grid;
        grid-template-columns: minmax(0, 1fr) auto;
        align-items: start;
        gap: 0.85rem;
        padding: 0.85rem 0.9rem;
        background:
          radial-gradient(circle at 85% -10%, rgba(109, 185, 255, 0.12), transparent 46%),
          radial-gradient(circle at 12% -18%, rgba(124, 234, 216, 0.08), transparent 40%),
          rgba(8, 13, 23, 0.92);
        border-color: rgba(124, 234, 216, 0.18);
        box-shadow: 0 18px 34px rgba(0,0,0,0.3);
        backdrop-filter: blur(10px);
      }
      body[data-role="subscriber"] .dash > .dash-top h1,
      body[data-role="admin"] .dash > .dash-top h1 {
        font-size: 1.28rem;
        letter-spacing: 0.01em;
      }
      body[data-role="subscriber"] .dash > .dash-top #dashUser,
      body[data-role="admin"] .dash > .dash-top #dashUser {
        color: #dce8fc;
        font-weight: 500;
      }
      body[data-role="subscriber"] .dash > .dash-top #dashRoleHint,
      body[data-role="admin"] .dash > .dash-top #dashRoleHint {
        color: #ffffff;
        background: transparent;
        border: 0;
        border-radius: 0;
        padding: 0;
        display: block;
        width: auto;
      }
      body[data-role="subscriber"] .dash > .dash-top .billing-actions,
      body[data-role="admin"] .dash > .dash-top .billing-actions {
        max-width: 780px;
        justify-content: flex-end;
        gap: 0.45rem;
        align-content: start;
      }
      body[data-role="subscriber"] .dash > .dash-top .billing-actions .btn,
      body[data-role="admin"] .dash > .dash-top .billing-actions .btn,
      body[data-role="subscriber"] .dash > .dash-top .billing-actions select,
      body[data-role="admin"] .dash > .dash-top .billing-actions select {
        min-height: 38px;
        border-radius: 10px;
        border-color: rgba(255,255,255,0.08);
        background: rgba(9, 15, 28, 0.84);
      }
      .subscription-quick-panel {
        display: grid;
        gap: 0.55rem;
        min-width: 320px;
        padding: 0.55rem 0.65rem;
        border-radius: 12px;
        border: 1px solid rgba(255,255,255,0.08);
        background:
          radial-gradient(circle at 90% -10%, rgba(124, 234, 216, 0.08), transparent 45%),
          rgba(9, 15, 28, 0.72);
      }
      .subscription-plan-row {
        display: grid;
        grid-template-columns: minmax(0, 1fr) auto;
        gap: 0.6rem;
        align-items: center;
      }
      .subscription-current-summary {
        display: grid;
        gap: 0.16rem;
        min-width: 0;
      }
      .subscription-mini-label {
        color: var(--muted);
        font-size: 0.68rem;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }
      .subscription-current-summary strong {
        font-size: 0.92rem;
        color: #f7fbff;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .subscription-current-summary small:last-child {
        color: var(--muted);
        font-size: 0.73rem;
      }
      .subscription-auto-renew {
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        color: #dce8fc;
        font-size: 0.76rem;
        white-space: nowrap;
      }
      .subscription-auto-renew input[type="checkbox"] {
        width: 14px;
        height: 14px;
        accent-color: #7cead8;
      }
      .subscription-plan-actions {
        display: grid;
        grid-template-columns: minmax(0, 1fr) auto auto;
        gap: 0.45rem;
        align-items: end;
      }
      .subscription-provider-connect {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.45rem;
      }
      .subscription-provider-connect .btn {
        min-height: 36px;
      }
      .subscription-provider-connect-note {
        margin: 0;
        color: var(--muted);
        font-size: 0.74rem;
        line-height: 1.35;
      }
      .subscription-plan-select-wrap {
        display: grid;
        gap: 0.22rem;
        min-width: 0;
      }
      .subscription-plan-select-wrap select {
        width: 100%;
      }
      .contact-admin-modal {
        width: min(560px, calc(100vw - 1.2rem));
        max-height: calc(100vh - 2rem);
        overflow: auto;
        border: 1px solid rgba(109, 185, 255, 0.18);
        border-radius: 16px;
        background:
          radial-gradient(circle at 92% -10%, rgba(109, 185, 255, 0.12), transparent 42%),
          radial-gradient(circle at 12% -14%, rgba(124, 234, 216, 0.08), transparent 42%),
          rgba(8, 13, 24, 0.97);
        box-shadow: 0 24px 48px rgba(0,0,0,0.42);
        padding: 0.8rem;
        display: grid;
        gap: 0.7rem;
      }
      .contact-admin-modal-head {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.65rem;
      }
      .contact-admin-modal-head h3 {
        margin: 0;
      }
      .contact-admin-modal-head p {
        margin: 0.25rem 0 0;
        color: var(--muted);
        line-height: 1.4;
      }
      .contact-admin-note {
        margin: 0;
        color: #b7d9d1;
        border: 1px solid rgba(124, 234, 216, 0.12);
        background: rgba(124, 234, 216, 0.04);
        border-radius: 12px;
        padding: 0.55rem 0.65rem;
        font-size: 0.82rem;
        line-height: 1.35;
      }
      .contact-admin-form {
        display: grid;
        gap: 0.55rem;
      }
      .contact-admin-form input,
      .contact-admin-form textarea {
        width: 100%;
        border: 1px solid rgba(109, 185, 255, 0.16);
        border-radius: 12px;
        padding: 0.7rem;
        background: rgba(7, 11, 21, 0.88);
        color: var(--ink);
      }
      .contact-admin-form textarea {
        min-height: 120px;
        resize: vertical;
      }
      .contact-admin-form input:focus,
      .contact-admin-form textarea:focus {
        outline: none;
        border-color: rgba(124, 234, 216, 0.45);
        box-shadow: 0 0 0 3px rgba(124, 234, 216, 0.12);
      }
      .contact-admin-status {
        min-height: 1rem;
        color: var(--muted);
        font-size: 0.78rem;
      }
      .contact-admin-status.is-error {
        color: #ffb7c1;
      }
      .contact-admin-actions {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.55rem;
        flex-wrap: wrap;
      }
      .contact-admin-actions small {
        color: var(--muted);
      }
      body.dashboard-light-mode .contact-admin-modal {
        border-color: rgba(145, 114, 144, 0.14) !important;
        background:
          radial-gradient(circle at 92% -10%, rgba(157, 195, 255, 0.16), transparent 42%),
          radial-gradient(circle at 12% -14%, rgba(184, 231, 221, 0.12), transparent 42%),
          rgba(255,255,255,0.98) !important;
      }
      body.dashboard-light-mode .contact-admin-modal-head p,
      body.dashboard-light-mode .contact-admin-actions small,
      body.dashboard-light-mode .contact-admin-status {
        color: #6f6278 !important;
      }
      body.dashboard-light-mode .contact-admin-note {
        color: #5d6f68 !important;
        border-color: rgba(145, 114, 144, 0.1) !important;
        background: rgba(184, 231, 221, 0.1) !important;
      }
      body.dashboard-light-mode .contact-admin-form input,
      body.dashboard-light-mode .contact-admin-form textarea {
        background: rgba(255,255,255,0.96) !important;
        border-color: rgba(145, 114, 144, 0.12) !important;
        color: #302734 !important;
      }
      body[data-role="subscriber"] .dash > #dashboardQuickActionsSection,
      body[data-role="admin"] .dash > #dashboardQuickActionsSection {
        border-color: rgba(109, 185, 255, 0.18);
        background:
          radial-gradient(circle at 8% 0%, rgba(109, 185, 255, 0.12), transparent 34%),
          radial-gradient(circle at 94% -10%, rgba(124, 234, 216, 0.08), transparent 34%),
          linear-gradient(160deg, rgba(15, 23, 41, 0.95), rgba(9, 14, 26, 0.95));
      }
      body[data-role="subscriber"] .workspace-actions-grid,
      body[data-role="admin"] .workspace-actions-grid {
        gap: 0.55rem;
      }
      body[data-role="subscriber"] .workspace-action-btn,
      body[data-role="admin"] .workspace-action-btn {
        min-height: 78px;
        border-radius: 13px;
        border-color: rgba(255,255,255,0.07);
        background:
          radial-gradient(circle at 90% -8%, rgba(124, 234, 216, 0.06), transparent 40%),
          rgba(9, 15, 28, 0.66);
      }
      body[data-role="subscriber"] .workspace-action-btn:hover,
      body[data-role="admin"] .workspace-action-btn:hover {
        transform: translateY(-2px);
        border-color: rgba(124, 234, 216, 0.28);
        box-shadow: 0 10px 22px rgba(0,0,0,0.2);
      }
      body[data-role="subscriber"] .dash > #subscriberCalendarSection,
      body[data-role="admin"] .dash > #subscriberCalendarSection,
      body[data-role="subscriber"] .dash > #subscriberCopilotSection,
      body[data-role="admin"] .dash > #adminCopilotSection {
        border-radius: 18px;
        border-color: rgba(124, 234, 216, 0.12);
        background:
          radial-gradient(circle at 94% -12%, rgba(124, 234, 216, 0.07), transparent 40%),
          linear-gradient(160deg, rgba(12, 19, 35, 0.95), rgba(7, 12, 22, 0.96));
      }
      body[data-role="subscriber"] .dash > #subscriberCalendarSection .calendar-head,
      body[data-role="admin"] .dash > #subscriberCalendarSection .calendar-head {
        padding-bottom: 0.45rem;
        border-bottom: 1px solid rgba(255,255,255,0.05);
      }
      body[data-role="subscriber"] .dash > #subscriberCalendarSection .calendar-label,
      body[data-role="admin"] .dash > #subscriberCalendarSection .calendar-label {
        font-weight: 600;
        color: #dce8fc;
      }
      body[data-role="subscriber"] .dash > #subscriberCalendarSection .calendar-legend,
      body[data-role="admin"] .dash > #subscriberCalendarSection .calendar-legend {
        color: var(--muted);
      }
      body[data-role="subscriber"] .dash > #subscriberCalendarSection .calendar-grid,
      body[data-role="admin"] .dash > #subscriberCalendarSection .calendar-grid {
        border: 1px solid rgba(255,255,255,0.04);
        border-radius: 14px;
        padding: 0.35rem;
        background: rgba(8, 13, 23, 0.55);
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-shell,
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-shell {
        background: rgba(8, 13, 23, 0.3);
        border: 1px solid rgba(255,255,255,0.04);
        border-radius: 14px;
        padding: 0.55rem;
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection {
        border-color: rgba(109, 185, 255, 0.18);
        background:
          radial-gradient(circle at 92% -10%, rgba(109, 185, 255, 0.1), transparent 40%),
          radial-gradient(circle at 12% -14%, rgba(124, 234, 216, 0.07), transparent 42%),
          linear-gradient(160deg, rgba(11, 18, 34, 0.95), rgba(8, 13, 24, 0.96));
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-shell {
        gap: 0.65rem;
        border-color: rgba(109, 185, 255, 0.14);
        background:
          radial-gradient(circle at 95% -10%, rgba(109, 185, 255, 0.1), transparent 46%),
          rgba(8, 13, 23, 0.45);
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-head {
        padding: 0.1rem 0 0.45rem;
        border-bottom: 1px solid rgba(109, 185, 255, 0.14);
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-head h2 {
        letter-spacing: 0.01em;
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-head p {
        color: #b9cbe6;
        max-width: 62ch;
        line-height: 1.4;
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .live-pill {
        border-color: rgba(109, 185, 255, 0.24);
        background: rgba(109, 185, 255, 0.1);
        color: #dce8fc;
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-form {
        border: 1px solid rgba(109, 185, 255, 0.12);
        border-radius: 12px;
        padding: 0.55rem;
        background: rgba(7, 11, 21, 0.46);
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-form textarea {
        min-height: 96px;
        border-color: rgba(109, 185, 255, 0.18);
        background:
          radial-gradient(circle at 92% -10%, rgba(109, 185, 255, 0.06), transparent 48%),
          rgba(7, 11, 21, 0.88);
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-form textarea:focus {
        outline: none;
        border-color: rgba(124, 234, 216, 0.45);
        box-shadow: 0 0 0 3px rgba(124, 234, 216, 0.12);
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-form-actions {
        gap: 0.45rem;
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-form-actions .btn {
        min-height: 36px;
        border-radius: 10px;
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-form-actions .btn:not(.btn-ghost) {
        background: linear-gradient(180deg, rgba(109, 185, 255, 0.95), rgba(70, 145, 224, 0.95));
        border-color: rgba(109, 185, 255, 0.35);
        color: #f6fbff;
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-guardrail {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.28rem 0.45rem;
        border: 1px solid rgba(124, 234, 216, 0.12);
        border-radius: 999px;
        background: rgba(124, 234, 216, 0.04);
        color: #b7d9d1;
        font-size: 0.75rem;
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-result {
        border-color: rgba(109, 185, 255, 0.18);
        background:
          radial-gradient(circle at 92% -12%, rgba(109, 185, 255, 0.08), transparent 44%),
          rgba(9, 15, 28, 0.78);
        padding: 0.8rem;
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-result h3 {
        font-size: 0.86rem;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        color: #cfe1fb;
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-answer {
        color: #e6f0ff;
        line-height: 1.55;
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-answer-links {
        margin-top: 0.65rem;
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-answer-links .btn {
        border-color: rgba(109, 185, 255, 0.16);
        background: rgba(109, 185, 255, 0.07);
      }
      body[data-role="admin"] .dash > #adminCopilotSection {
        border-color: rgba(109, 185, 255, 0.18);
        background:
          radial-gradient(circle at 92% -10%, rgba(109, 185, 255, 0.1), transparent 40%),
          radial-gradient(circle at 12% -14%, rgba(124, 234, 216, 0.07), transparent 42%),
          linear-gradient(160deg, rgba(11, 18, 34, 0.95), rgba(8, 13, 24, 0.96));
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-shell {
        gap: 0.65rem;
        border-color: rgba(109, 185, 255, 0.14);
        background:
          radial-gradient(circle at 95% -10%, rgba(109, 185, 255, 0.1), transparent 46%),
          rgba(8, 13, 23, 0.45);
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-head {
        padding: 0.1rem 0 0.45rem;
        border-bottom: 1px solid rgba(109, 185, 255, 0.14);
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-head h2 {
        letter-spacing: 0.01em;
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-head p {
        color: #b9cbe6;
        max-width: 62ch;
        line-height: 1.4;
      }
      body[data-role="admin"] .dash > #adminCopilotSection .live-pill {
        border-color: rgba(109, 185, 255, 0.24);
        background: rgba(109, 185, 255, 0.1);
        color: #dce8fc;
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-form {
        border: 1px solid rgba(109, 185, 255, 0.12);
        border-radius: 12px;
        padding: 0.55rem;
        background: rgba(7, 11, 21, 0.46);
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-form textarea {
        min-height: 96px;
        border-color: rgba(109, 185, 255, 0.18);
        background:
          radial-gradient(circle at 92% -10%, rgba(109, 185, 255, 0.06), transparent 48%),
          rgba(7, 11, 21, 0.88);
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-form textarea:focus {
        outline: none;
        border-color: rgba(124, 234, 216, 0.45);
        box-shadow: 0 0 0 3px rgba(124, 234, 216, 0.12);
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-form-actions {
        gap: 0.45rem;
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-form-actions .btn {
        min-height: 36px;
        border-radius: 10px;
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-form-actions .btn:not(.btn-ghost) {
        background: linear-gradient(180deg, rgba(109, 185, 255, 0.95), rgba(70, 145, 224, 0.95));
        border-color: rgba(109, 185, 255, 0.35);
        color: #f6fbff;
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-guardrail {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.28rem 0.45rem;
        border: 1px solid rgba(124, 234, 216, 0.12);
        border-radius: 999px;
        background: rgba(124, 234, 216, 0.04);
        color: #b7d9d1;
        font-size: 0.75rem;
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-result {
        border-color: rgba(109, 185, 255, 0.18);
        background:
          radial-gradient(circle at 92% -12%, rgba(109, 185, 255, 0.08), transparent 44%),
          rgba(9, 15, 28, 0.78);
        padding: 0.8rem;
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-result h3 {
        font-size: 0.86rem;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        color: #cfe1fb;
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-answer {
        color: #e6f0ff;
        line-height: 1.55;
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-answer-links {
        margin-top: 0.65rem;
      }
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-answer-links .btn {
        border-color: rgba(109, 185, 255, 0.16);
        background: rgba(109, 185, 255, 0.07);
      }
      body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-head,
      body[data-role="admin"] .dash > #adminCopilotSection .copilot-head {
        border-bottom: 1px solid rgba(255,255,255,0.05);
        padding-bottom: 0.45rem;
      }
      body[data-role="subscriber"] .dash > #businessGrowthSection,
      body[data-role="admin"] .dash > #businessGrowthSection {
        border-color: rgba(124, 234, 216, 0.15);
        background:
          radial-gradient(circle at 8% -12%, rgba(124, 234, 216, 0.08), transparent 36%),
          radial-gradient(circle at 94% -8%, rgba(109, 185, 255, 0.08), transparent 36%),
          linear-gradient(160deg, rgba(12, 19, 35, 0.95), rgba(8, 12, 22, 0.97));
      }
      body[data-role="subscriber"] #businessSetupHubCard,
      body[data-role="admin"] #businessSetupHubCard {
        border-color: rgba(124, 234, 216, 0.24);
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.03),
          0 20px 34px rgba(0,0,0,0.24);
      }
      body[data-role="subscriber"] .hub-module-shell,
      body[data-role="admin"] .hub-module-shell {
        border-color: rgba(124, 234, 216, 0.2);
        background:
          radial-gradient(circle at 92% -4%, rgba(109, 185, 255, 0.08), transparent 42%),
          rgba(9, 15, 28, 0.58);
      }
      body[data-role="subscriber"] .dash > #subscriberExecutivePulseSection,
      body[data-role="admin"] .dash > #subscriberExecutivePulseSection {
        border-color: rgba(109, 185, 255, 0.14);
        opacity: 0.98;
      }
      .dash-card {
        border: 1px solid var(--line);
        border-radius: 14px;
        background: linear-gradient(150deg, var(--surface), var(--surface-2));
        padding: 0.8rem;
      }
      .dash-card p {
        margin: 0;
        color: var(--muted);
      }
      .dash-card strong {
        display: block;
        margin-top: 0.2rem;
        font-size: 1.4rem;
      }
      .bookings-list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.6rem;
      }
      .bookings-list li {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.65rem;
      }
      .bookings-list li.booking-row-pending {
        border-color: rgba(255, 199, 92, 0.45);
        background: rgba(255, 199, 92, 0.06);
        box-shadow: inset 0 0 0 1px rgba(255, 199, 92, 0.08);
      }
      .booking-row-head {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.6rem;
      }
      .booking-row-head small {
        color: var(--muted);
      }
      .booking-status-badge {
        display: inline-flex;
        align-items: center;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.08);
        background: rgba(255,255,255,0.03);
        color: var(--ink);
        padding: 0.2rem 0.55rem;
        font-size: 0.72rem;
        font-weight: 700;
        white-space: nowrap;
      }
      .booking-status-badge.pending {
        border-color: rgba(255, 199, 92, 0.44);
        background: rgba(255, 199, 92, 0.1);
        color: #ffe3a8;
      }
      .booking-pending-note {
        margin-top: 0.42rem;
        color: #ffd98e;
        font-size: 0.78rem;
        font-weight: 600;
      }
      .booking-pending-banner {
        border: 1px solid rgba(255, 199, 92, 0.38);
        border-radius: 12px;
        background:
          radial-gradient(circle at 100% 0%, rgba(255, 199, 92, 0.08), transparent 44%),
          rgba(20, 16, 8, 0.66);
        padding: 0.65rem 0.75rem;
        display: grid;
        gap: 0.2rem;
      }
      .booking-pending-banner strong {
        color: #ffe2a3;
      }
      .booking-pending-banner small {
        color: #d9c9a7;
      }
      .booking-tools {
        display: grid;
        gap: 0.7rem;
      }
      .booking-filters {
        display: grid;
        grid-template-columns: 1.3fr 1fr 1fr;
        gap: 0.6rem;
      }
      .booking-filters input,
      .booking-filters select {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.6rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
      }
      .status-chips {
        display: flex;
        flex-wrap: wrap;
        gap: 0.45rem;
      }
      .status-chip {
        border: 1px solid var(--line);
        border-radius: 999px;
        padding: 0.35rem 0.75rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
        cursor: pointer;
      }
      .status-chip.active {
        border-color: rgba(124, 234, 216, 0.6);
        background: rgba(124, 234, 216, 0.12);
      }
      .booking-pager {
        margin-top: 0.8rem;
        display: flex;
        align-items: center;
        gap: 0.6rem;
      }
      .booking-pager small {
        color: var(--muted);
      }
      .billing-actions {
        display: flex;
        gap: 0.7rem;
        flex-wrap: wrap;
        align-items: center;
        justify-content: flex-end;
      }
      .billing-actions .btn {
        margin: 0.15rem;
      }
      .dash-role-hint {
        margin: 0.3rem 0 0;
        color: #ffffff;
        font-size: 0.83rem;
      }
      .dash-action-status {
        margin: 0.25rem 0 0;
        color: var(--muted);
        font-size: 0.8rem;
        min-height: 1rem;
      }
      .module-navigator {
        display: grid;
        gap: 0.8rem;
        position: sticky;
        top: 5.2rem;
        z-index: 35;
        border-color: rgba(124, 234, 216, 0.4);
      }
      .module-navigator-inline {
        position: static;
        top: auto;
        z-index: auto;
        margin-top: 0.32rem;
        padding: 0.9rem;
        border: 1px solid rgba(124, 234, 216, 0.16);
        border-radius: 18px;
        background:
          radial-gradient(circle at 96% 0%, rgba(124, 234, 216, 0.08), transparent 38%),
          rgba(9, 15, 28, 0.62);
      }
      .module-navigator-inline .module-grid {
        gap: 0.45rem;
      }
      .module-navigator-inline .module-info {
        background: rgba(9, 15, 28, 0.68);
      }
      .hub-accordion {
        display: grid;
        gap: 0.45rem;
        margin-top: 0.45rem;
      }
      .hub-fold {
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.58);
        overflow: clip;
      }
      .hub-fold[open] {
        border-color: rgba(124, 234, 216, 0.18);
        background:
          radial-gradient(circle at 92% -8%, rgba(124, 234, 216, 0.06), transparent 42%),
          rgba(9, 15, 28, 0.66);
      }
      .hub-fold summary {
        list-style: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.7rem;
        padding: 0.62rem 0.72rem;
      }
      .hub-fold summary::-webkit-details-marker {
        display: none;
      }
      .hub-fold summary > span {
        display: block;
        color: var(--ink);
        font-weight: 600;
        line-height: 1.2;
      }
      .hub-fold summary > small {
        color: var(--muted);
        font-size: 0.74rem;
        line-height: 1.3;
        margin-right: auto;
      }
      .hub-fold summary::after {
        content: "+";
        width: 1.4rem;
        height: 1.4rem;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.1);
        color: #d7fff4;
        background: rgba(255,255,255,0.03);
        flex-shrink: 0;
        font-weight: 600;
      }
      .hub-fold[open] summary::after {
        content: "-";
        border-color: rgba(124, 234, 216, 0.24);
        background: rgba(124, 234, 216, 0.08);
      }
      .hub-fold-body {
        padding: 0 0.72rem 0.72rem;
        border-top: 1px solid rgba(255,255,255,0.05);
      }
      .hub-fold-body > *:first-child {
        margin-top: 0.55rem;
      }
      .hub-fold-body .onboarding-list {
        margin-top: 0;
      }
      .hub-fold-body .onboarding-step,
      .hub-fold-body .onboarding-summary {
        margin: 0;
      }
      .hub-module-shell {
        margin-top: 0.15rem;
        border: 1px solid rgba(124, 234, 216, 0.16);
        border-radius: 18px;
        background:
          radial-gradient(circle at 96% -2%, rgba(124, 234, 216, 0.08), transparent 40%),
          rgba(9, 15, 28, 0.58);
        padding: 0.85rem;
        display: grid;
        gap: 0.75rem;
      }
      .hub-module-head {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.6rem;
        flex-wrap: wrap;
      }
      .hub-module-head h4 {
        margin: 0;
        color: var(--ink);
        font-size: 0.9rem;
      }
      .hub-module-head p {
        margin: 0.2rem 0 0;
        color: var(--muted);
        font-size: 0.78rem;
        line-height: 1.35;
      }
      .hub-module-badge {
        display: inline-flex;
        align-items: center;
        border-radius: 999px;
        border: 1px solid rgba(124, 234, 216, 0.18);
        background: rgba(124, 234, 216, 0.06);
        color: #d7fff4;
        padding: 0.16rem 0.45rem;
        font-size: 0.7rem;
        white-space: nowrap;
      }
      .hub-command-deck {
        margin-top: 0.5rem;
        border: 1px solid rgba(124, 234, 216, 0.18);
        border-radius: 16px;
        background:
          radial-gradient(circle at 92% -8%, rgba(124, 234, 216, 0.08), transparent 42%),
          radial-gradient(circle at 10% -10%, rgba(109, 185, 255, 0.08), transparent 42%),
          rgba(8, 14, 26, 0.64);
        padding: 0.65rem;
        display: grid;
        gap: 0.55rem;
      }
      .hub-command-head {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.6rem;
        flex-wrap: wrap;
      }
      .hub-command-head h4 {
        margin: 0;
        color: var(--ink);
        font-size: 0.92rem;
      }
      .hub-command-head p {
        margin: 0.2rem 0 0;
        color: var(--muted);
        font-size: 0.78rem;
        line-height: 1.35;
      }
      .hub-command-signal-grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 0.45rem;
      }
      .hub-command-signal {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 14px;
        background: rgba(255,255,255,0.03);
        padding: 0.48rem 0.55rem;
        display: grid;
        gap: 0.16rem;
      }
      .hub-command-signal p {
        margin: 0;
        font-size: 0.68rem;
        color: var(--muted);
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }
      .hub-command-signal strong {
        color: #e7f4ff;
        font-size: 0.92rem;
        line-height: 1.15;
      }
      .hub-command-signal small {
        color: var(--muted);
        font-size: 0.7rem;
        line-height: 1.25;
      }
      .hub-command-columns {
        display: grid;
        grid-template-columns: 1.1fr 1.2fr;
        gap: 0.55rem;
      }
      .hub-command-panel {
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        background: rgba(255,255,255,0.03);
        padding: 0.58rem;
        display: grid;
        gap: 0.45rem;
        min-height: 0;
      }
      .hub-command-panel-head {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.45rem;
      }
      .hub-command-panel-head h5 {
        margin: 0;
        color: var(--ink);
        font-size: 0.82rem;
      }
      .hub-command-panel-head small {
        display: block;
        margin-top: 0.18rem;
        color: var(--muted);
        line-height: 1.3;
      }
      .hub-command-pill {
        display: inline-flex;
        align-items: center;
        padding: 0.14rem 0.42rem;
        border-radius: 999px;
        border: 1px solid rgba(124, 234, 216, 0.16);
        background: rgba(124, 234, 216, 0.06);
        color: #d7fff4;
        font-size: 0.68rem;
        white-space: nowrap;
      }
      .hub-command-pill.muted {
        color: var(--muted);
        border-color: rgba(255,255,255,0.08);
        background: rgba(255,255,255,0.02);
      }
      .hub-report-actions {
        display: flex;
        gap: 0.28rem;
        flex-wrap: wrap;
        align-items: center;
        justify-content: flex-start;
      }
      .hub-report-actions .btn {
        min-height: 36px;
      }
      #hubPrintReportBtn,
      #hubEmailReportBtn {
        min-height: 30px !important;
        height: 30px !important;
        padding: 0.2rem 0.72rem !important;
        font-size: 0.82rem !important;
        line-height: 1 !important;
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        align-self: center !important;
        margin-top: 0.05rem;
      }
      .hub-command-list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.34rem;
      }
      .hub-command-list li {
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 12px;
        background: rgba(255,255,255,0.02);
        padding: 0.42rem 0.5rem;
        display: grid;
        gap: 0.14rem;
      }
      .hub-command-list li strong {
        font-size: 0.77rem;
        color: var(--ink);
      }
      .hub-command-list li small {
        color: var(--muted);
        line-height: 1.32;
        font-size: 0.71rem;
      }
      .hub-command-list li.is-critical { border-color: rgba(255,148,156,0.26); background: rgba(255,148,156,0.05); }
      .hub-command-list li.is-risk { border-color: rgba(255,188,107,0.24); background: rgba(255,188,107,0.05); }
      .hub-command-list li.is-focus { border-color: rgba(109,185,255,0.2); background: rgba(109,185,255,0.05); }
      .hub-command-note {
        margin: 0;
        color: var(--muted);
        font-size: 0.74rem;
        line-height: 1.35;
      }
      .hub-auto-routines {
        display: grid;
        gap: 0.35rem;
      }
      .hub-auto-routine {
        border: 1px solid rgba(124, 234, 216, 0.14);
        border-radius: 12px;
        background: rgba(124, 234, 216, 0.03);
        padding: 0.42rem 0.5rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.4rem;
      }
      .hub-auto-routine-copy {
        display: grid;
        gap: 0.12rem;
        min-width: 0;
      }
      .hub-auto-routine-copy strong {
        font-size: 0.76rem;
      }
      .hub-auto-routine-copy small {
        color: var(--muted);
        font-size: 0.7rem;
      }
      .hub-auto-routine button {
        min-height: 30px;
        padding: 0.22rem 0.45rem;
        font-size: 0.7rem;
      }
      .module-grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 0.55rem;
      }
      .module-group {
        grid-column: 1 / -1;
        border: 1px solid rgba(124, 234, 216, 0.14);
        border-radius: 14px;
        background:
          linear-gradient(180deg, rgba(12, 20, 36, 0.86), rgba(9, 15, 28, 0.8));
        padding: 0.48rem;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
      }
      .module-group + .module-group {
        margin-top: 0.05rem;
      }
      .module-group-head {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin: 0 0 0.34rem;
        padding: 0.06rem 0.08rem 0.28rem;
        border-bottom: 1px solid rgba(124, 234, 216, 0.1);
      }
      .module-group-head h3 {
        margin: 0;
        font-size: 0.76rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: #c8f7ee;
      }
      .module-group-grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 0.42rem;
      }
      .module-card {
        border: 1px solid var(--line);
        border-radius: 14px;
        background: rgba(11, 18, 32, 0.86);
        padding: 0.72rem;
        text-align: left;
        color: var(--ink);
        cursor: pointer;
        transition: border-color 0.18s ease, transform 0.18s ease, background 0.18s ease;
      }
      .module-card:hover {
        border-color: rgba(124, 234, 216, 0.58);
        transform: translateY(-1px);
      }
      .module-card strong {
        display: block;
        margin-bottom: 0.18rem;
        font-size: 0.92rem;
        letter-spacing: -0.015em;
      }
      .module-card small {
        color: var(--muted);
        display: block;
        line-height: 1.4;
      }
      .module-card .module-card-summary {
        margin-top: 0.04rem;
        min-height: 2.2em;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
      .module-card .module-card-usage {
        margin-top: 0.18rem;
        font-size: 0.72rem;
      }
      .module-card-meta {
        display: flex;
        align-items: center;
        gap: 0.35rem;
        flex-wrap: wrap;
        margin-top: 0.34rem;
      }
      .module-card-pill {
        display: inline-flex;
        align-items: center;
        border-radius: 999px;
        border: 1px solid rgba(124, 234, 216, 0.16);
        background: rgba(124, 234, 216, 0.06);
        color: #d7fff4;
        padding: 0.12rem 0.42rem;
        font-size: 0.7rem;
        line-height: 1.1;
      }
      .module-card-pill.accent {
        border-color: rgba(109, 185, 255, 0.22);
        background: rgba(109, 185, 255, 0.08);
        color: #d7e7ff;
      }
      .module-card-pill.soft {
        border-color: rgba(255,255,255,0.08);
        background: rgba(255,255,255,0.03);
        color: var(--muted);
      }
      .module-card-status {
        display: inline-flex;
        align-items: center;
        border-radius: 999px;
        padding: 0.14rem 0.46rem;
        font-size: 0.68rem;
        line-height: 1.1;
        border: 1px solid rgba(255,255,255,0.08);
        background: rgba(255,255,255,0.03);
        color: var(--muted);
      }
      .module-card-status.is-compact {
        font-size: 0.66rem;
      }
      .module-card-status.is-good {
        border-color: rgba(124, 234, 216, 0.2);
        background: rgba(124, 234, 216, 0.08);
        color: #d7fff4;
      }
      .module-card-status.is-attention {
        border-color: rgba(255, 187, 120, 0.22);
        background: rgba(255, 187, 120, 0.08);
        color: #ffe7c5;
      }
      .module-card-status.is-setup {
        border-color: rgba(109, 185, 255, 0.2);
        background: rgba(109, 185, 255, 0.08);
        color: #dceeff;
      }
      .module-card.active {
        border-color: rgba(124, 234, 216, 0.65);
        background: rgba(124, 234, 216, 0.1);
      }
      .module-info {
        border: 1px solid var(--line);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.82);
        padding: 0.7rem;
      }
      .module-info p {
        margin: 0.2rem 0 0;
        color: var(--muted);
      }
      .executive-pulse {
        border-color: rgba(124, 234, 216, 0.34);
        background:
          radial-gradient(circle at 12% -10%, rgba(85, 168, 255, 0.12), transparent 32%),
          radial-gradient(circle at 96% 0%, rgba(124, 234, 216, 0.12), transparent 34%),
          linear-gradient(160deg, rgba(14, 23, 42, 0.96), rgba(9, 15, 28, 0.98));
        display: grid;
        gap: 0.95rem;
      }
      .executive-pulse-head {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 0.8rem;
        flex-wrap: wrap;
      }
      .executive-pulse-subtitle {
        margin: 0.35rem 0 0;
        color: var(--muted);
        max-width: 74ch;
      }
      .executive-pulse-badge {
        display: flex;
        align-items: center;
      }
      .executive-signal-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 0.65rem;
      }
      .executive-signal-card {
        border: 1px solid var(--line);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.82);
        padding: 0.7rem;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
      }
      .executive-signal-card p {
        margin: 0;
        color: var(--muted);
        font-size: 0.8rem;
      }
      .executive-signal-card strong {
        display: block;
        margin-top: 0.18rem;
        font-size: 1.2rem;
      }
      .executive-signal-card small {
        display: inline-block;
        margin-top: 0.28rem;
        color: #d7fff4;
      }
      .executive-signal-card small.down {
        color: #ffb8bf;
      }
      .executive-pulse-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 0.7rem;
      }
      .executive-card {
        border: 1px solid rgba(167, 193, 255, 0.2);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.72);
        padding: 0.82rem;
        display: grid;
        gap: 0.6rem;
      }
      .executive-card-primary {
        border-color: rgba(124, 234, 216, 0.28);
        background:
          radial-gradient(circle at top right, rgba(124, 234, 216, 0.1), transparent 52%),
          rgba(9, 15, 28, 0.78);
      }
      .executive-card-head {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        gap: 0.5rem;
        flex-wrap: wrap;
      }
      .executive-card-head h3 {
        margin: 0;
      }
      .executive-card-head small {
        color: var(--muted);
      }
      .executive-gauge-grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 0.55rem;
      }
      .executive-gauge {
        border: 1px solid var(--line);
        border-radius: 10px;
        background: rgba(9, 15, 28, 0.72);
        padding: 0.55rem;
        display: grid;
        place-items: center;
        gap: 0.35rem;
      }
      .executive-gauge .gauge-ring {
        width: 92px;
      }
      .executive-gauge .gauge-ring::before {
        width: 64px;
      }
      .executive-gauge-label {
        color: var(--muted);
        text-align: center;
        font-size: 0.75rem;
      }
      .executive-gauge-sub {
        color: #d7fff4;
        text-align: center;
        font-size: 0.76rem;
        font-weight: 700;
      }
      .executive-bars {
        min-height: 166px;
        display: grid;
        grid-template-columns: repeat(7, minmax(0, 1fr));
        align-items: end;
        gap: 0.38rem;
      }
      .executive-bar-col {
        display: grid;
        gap: 0.28rem;
        justify-items: center;
      }
      .executive-bar {
        width: min(24px, 100%);
        min-height: 8px;
        height: var(--exec-bar-height, 12px);
        border-radius: 8px 8px 4px 4px;
        background: linear-gradient(180deg, rgba(109,185,255,0.98), rgba(78,217,199,0.42));
        box-shadow: inset 0 -7px 12px rgba(7, 20, 42, 0.28);
      }
      .executive-bar-col small {
        color: var(--muted);
        font-size: 0.68rem;
      }
      .executive-action-list {
        margin: 0;
        padding: 0;
        list-style: none;
        display: grid;
        gap: 0.45rem;
      }
      .executive-action-list li {
        border: 1px solid var(--line);
        border-radius: 10px;
        background: rgba(9, 15, 28, 0.72);
        padding: 0.55rem;
        display: grid;
        gap: 0.18rem;
      }
      .executive-action-list strong {
        font-size: 0.88rem;
      }
      .executive-action-list small {
        color: var(--muted);
        line-height: 1.35;
      }
      .executive-pulse-toolbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.65rem;
        flex-wrap: wrap;
        border: 1px solid rgba(167, 193, 255, 0.16);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.66);
        padding: 0.68rem 0.72rem;
      }
      .executive-pulse-range-tabs {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        border: 1px solid rgba(167, 193, 255, 0.14);
        border-radius: 999px;
        background: rgba(7, 12, 22, 0.52);
        padding: 0.22rem;
      }
      .executive-pulse-range-tabs button {
        border: 1px solid transparent;
        background: transparent;
        color: var(--muted);
        border-radius: 999px;
        padding: 0.34rem 0.72rem;
        font-weight: 700;
        font-size: 0.78rem;
        cursor: pointer;
      }
      .executive-pulse-range-tabs button.is-active {
        background: rgba(109, 185, 255, 0.15);
        border-color: rgba(109, 185, 255, 0.34);
        color: #eef6ff;
      }
      .executive-pulse-toolbar-actions {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        flex-wrap: wrap;
        justify-content: flex-end;
      }
      .executive-pulse-range-meta {
        font-size: 0.78rem;
        color: var(--muted);
        border: 1px solid rgba(167, 193, 255, 0.12);
        border-radius: 999px;
        padding: 0.28rem 0.55rem;
        background: rgba(255,255,255,0.02);
      }
      .executive-pulse-deep-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 0.7rem;
      }
      .executive-card-finance {
        border-color: rgba(109, 185, 255, 0.22);
        background:
          radial-gradient(circle at 98% -8%, rgba(109, 185, 255, 0.1), transparent 42%),
          rgba(9, 15, 28, 0.74);
      }
      .executive-card-snapshots {
        border-color: rgba(214, 181, 106, 0.22);
        background:
          radial-gradient(circle at 92% -8%, rgba(214, 181, 106, 0.08), transparent 46%),
          rgba(9, 15, 28, 0.7);
      }
      .executive-finance-stats {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 0.55rem;
      }
      .executive-finance-stat {
        border: 1px solid var(--line);
        border-radius: 10px;
        background: rgba(9, 15, 28, 0.62);
        padding: 0.58rem;
        display: grid;
        gap: 0.16rem;
      }
      .executive-finance-stat p {
        margin: 0;
        color: var(--muted);
        font-size: 0.74rem;
      }
      .executive-finance-stat strong {
        font-size: 1rem;
      }
      .executive-finance-stat small {
        color: var(--muted);
        font-size: 0.72rem;
      }
      .executive-finance-stat.negative strong {
        color: #ffb8bf;
      }
      .executive-finance-stat.positive strong {
        color: #d7fff4;
      }
      .executive-mini-charts {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.55rem;
      }
      .executive-mini-chart-card {
        border: 1px solid var(--line);
        border-radius: 10px;
        background: rgba(9, 15, 28, 0.58);
        padding: 0.55rem;
        display: grid;
        gap: 0.5rem;
      }
      .executive-mini-chart-head {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 0.35rem;
        flex-wrap: wrap;
      }
      .executive-mini-chart-head strong {
        font-size: 0.84rem;
      }
      .executive-mini-chart-head small {
        color: var(--muted);
      }
      .executive-mini-bars {
        min-height: 132px;
        display: grid;
        grid-template-columns: repeat(8, minmax(0, 1fr));
        align-items: end;
        gap: 0.28rem;
      }
      .executive-mini-bar-col {
        display: grid;
        gap: 0.22rem;
        justify-items: center;
      }
      .executive-mini-bar {
        width: min(18px, 100%);
        min-height: 6px;
        height: var(--exec-mini-bar-height, 8px);
        border-radius: 7px 7px 4px 4px;
        background: linear-gradient(180deg, rgba(109,185,255,0.95), rgba(80,157,255,0.35));
      }
      .executive-mini-bars-profit .executive-mini-bar {
        background: linear-gradient(180deg, rgba(244,125,181,0.95), rgba(244,125,181,0.28));
      }
      .executive-mini-bar-col small {
        color: var(--muted);
        font-size: 0.66rem;
        text-align: center;
      }
      .executive-snapshot-list {
        display: grid;
        gap: 0.45rem;
        max-height: 255px;
        overflow: auto;
        padding-right: 0.15rem;
      }
      .executive-snapshot-empty {
        border: 1px dashed rgba(167, 193, 255, 0.18);
        border-radius: 10px;
        padding: 0.7rem;
        color: var(--muted);
        background: rgba(255,255,255,0.02);
      }
      .executive-snapshot-item {
        border: 1px solid var(--line);
        border-radius: 10px;
        background: rgba(9, 15, 28, 0.62);
        padding: 0.6rem;
        display: grid;
        gap: 0.28rem;
      }
      .executive-snapshot-item-head {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 0.35rem;
      }
      .executive-snapshot-item-head strong {
        font-size: 0.82rem;
      }
      .executive-snapshot-item-head small,
      .executive-snapshot-item p,
      .executive-snapshot-item ul {
        color: var(--muted);
      }
      .executive-snapshot-item p {
        margin: 0;
        font-size: 0.76rem;
        line-height: 1.35;
      }
      .executive-snapshot-item ul {
        margin: 0;
        padding-left: 1rem;
        display: grid;
        gap: 0.18rem;
        font-size: 0.74rem;
      }
      .booking-range-toolbar {
        margin-top: 0.55rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.55rem;
        flex-wrap: wrap;
      }
      .booking-range-toolbar .btn {
        padding: 0.3rem 0.55rem;
        font-size: 0.78rem;
      }
      .booking-range-toolbar .btn.active {
        border-color: rgba(124, 234, 216, 0.6);
        background: rgba(124, 234, 216, 0.14);
        color: #d7fff4;
      }
      .copilot-shell {
        display: grid;
        gap: 0.75rem;
      }
      .copilot-head {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.7rem;
        flex-wrap: wrap;
      }
      .copilot-head p {
        margin: 0.35rem 0 0;
        color: var(--muted);
        max-width: 78ch;
      }
      .copilot-form {
        display: grid;
        gap: 0.55rem;
      }
      .copilot-form textarea {
        border: 1px solid var(--line);
        border-radius: 12px;
        padding: 0.75rem;
        min-height: 88px;
        resize: vertical;
        background: rgba(9, 15, 28, 0.9);
        color: var(--ink);
      }
      .copilot-form input {
        border: 1px solid var(--line);
        border-radius: 14px;
        padding: 0.7rem 0.85rem;
        min-height: 48px;
        background: rgba(9, 15, 28, 0.9);
        color: var(--ink);
      }
      .copilot-form-actions {
        display: flex;
        gap: 0.55rem;
        align-items: center;
        flex-wrap: wrap;
      }
      .copilot-guardrail {
        color: var(--muted);
        font-size: 0.8rem;
      }
      .copilot-launch-row {
        display: flex;
        gap: 0.55rem;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        border: 1px solid rgba(167, 193, 255, 0.16);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.42);
        padding: 0.65rem;
      }
      .copilot-chat-popup-overlay {
        position: fixed;
        inset: 0;
        z-index: 1400;
        display: none;
        align-items: center;
        justify-content: center;
        background: rgba(2, 5, 10, 0.72);
        backdrop-filter: blur(4px);
        padding: 1rem;
      }
      .copilot-chat-popup-overlay.is-open {
        display: flex;
      }
      .copilot-chat-popup {
        width: min(880px, 96vw);
        height: min(92vh, 1040px);
        max-height: min(92vh, 1040px);
        overflow: hidden;
        border: 1px solid rgba(167, 193, 255, 0.24);
        border-radius: 16px;
        background:
          linear-gradient(180deg, rgba(10, 16, 29, 0.97), rgba(7, 11, 21, 0.97)),
          radial-gradient(circle at 100% 0, rgba(85, 168, 255, 0.08), transparent 52%);
        box-shadow: 0 30px 70px rgba(0, 0, 0, 0.55);
        padding: 0.85rem;
        display: grid;
        grid-template-rows: auto minmax(0, 1fr) auto minmax(0, 0.75fr);
        gap: 0.7rem;
      }
      .copilot-chat-popup-head {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 0.65rem;
      }
      .copilot-chat-popup-head h3 {
        margin: 0;
      }
      .copilot-chat-popup-head p {
        margin: 0.2rem 0 0;
        color: var(--muted);
        font-size: 0.86rem;
      }
      .copilot-chat-messages {
        border: 1px solid rgba(167, 193, 255, 0.18);
        border-radius: 12px;
        background-color: rgba(255,255,255,0.06);
        background-image: url("/Salon_AI_IMG.png");
        background-position: center 18%;
        background-size: cover;
        background-repeat: no-repeat;
        background-blend-mode: screen;
        padding: 0.65rem;
        display: grid;
        align-content: end;
        gap: 0.5rem;
        min-height: 0;
        max-height: none;
        overflow: auto;
        position: relative;
        isolation: isolate;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.06);
      }
      .copilot-chat-messages::before {
        display: none;
      }
      .copilot-chat-messages > * {
        position: relative;
        z-index: 1;
      }
      .copilot-chat-message {
        display: grid;
        gap: 0.25rem;
        justify-items: start;
      }
      .copilot-chat-message.is-user {
        justify-items: end;
      }
      .copilot-chat-message-meta {
        color: var(--muted);
        font-size: 0.72rem;
        letter-spacing: 0.03em;
        text-transform: uppercase;
      }
      .copilot-chat-bubble {
        max-width: min(72ch, 100%);
        border-radius: 12px;
        padding: 0.6rem 0.7rem;
        line-height: 1.45;
        white-space: pre-wrap;
      }
      .copilot-chat-message.is-assistant .copilot-chat-bubble {
        background: transparent;
        border: none;
        color: #060b13;
        font-weight: 700;
        text-shadow: none;
      }
      .copilot-chat-message.is-user .copilot-chat-bubble {
        background: transparent;
        border: none;
        color: #060b13;
        font-weight: 700;
        text-shadow: none;
      }
      .copilot-chat-messages .copilot-chat-message.is-assistant:last-child .copilot-chat-bubble {
  text-shadow: none;
}
.copilot-chat-messages .copilot-chat-message.is-user:last-child .copilot-chat-bubble {
  text-shadow: none;
}
      .copilot-chat-message.is-pending .copilot-chat-bubble {
        opacity: 0.85;
      }
      .copilot-chat-popup.home-lexi-popup {
        width: min(1100px, calc(100vw - 2rem));
        max-height: min(88vh, 860px);
        padding: 1.1rem;
        display: grid;
        grid-template-rows: auto minmax(0, 1fr);
        gap: 1rem;
      }
      .copilot-chat-popup.home-lexi-popup .home-lexi-popup-body {
        display: grid;
        grid-template-columns: minmax(280px, 320px) minmax(0, 1fr);
        gap: 1rem;
        min-height: 0;
      }
      .copilot-chat-popup.home-lexi-popup .business-lexi-popup-chat-slot {
        min-height: 0;
      }
      .copilot-chat-popup.home-lexi-popup .copilot-chat-popup-head,
      .copilot-chat-popup.home-lexi-popup .copilot-chat-message-meta,
      .copilot-chat-popup.home-lexi-popup .copilot-chat-bubble,
      .copilot-chat-popup.home-lexi-popup .copilot-answer,
      .copilot-chat-popup.home-lexi-popup .copilot-result,
      .copilot-chat-popup.home-lexi-popup .copilot-result h3,
      .copilot-chat-popup.home-lexi-popup .copilot-card,
      .copilot-chat-popup.home-lexi-popup .copilot-card li,
      .copilot-chat-popup.home-lexi-popup .copilot-guardrail,
      .copilot-chat-popup.home-lexi-popup .copilot-form input,
      .copilot-chat-popup.home-lexi-popup .copilot-form textarea,
      .home-lexi-popup .customer-chat-msg,
      .home-lexi-popup .customer-chat-head strong,
      .home-lexi-popup .customer-chat-head small,
      .home-lexi-popup .customer-chat-form input {
        color: #111111;
      }
      .copilot-chat-popup.home-lexi-popup .business-lexi-popup-chat-slot .copilot-result {
        display: none;
      }
      @media (max-width: 980px) {
        .copilot-chat-popup.home-lexi-popup .home-lexi-popup-body {
          grid-template-columns: 1fr;
        }
      }
      .lexi-pending-popup {
        position: fixed;
        right: 1rem;
        bottom: 1rem;
        z-index: 1350;
        width: min(420px, calc(100vw - 1.2rem));
        border: 1px solid rgba(255, 199, 92, 0.38);
        border-radius: 16px;
        background: rgba(8, 12, 20, 0.86);
        box-shadow: 0 22px 44px rgba(0, 0, 0, 0.45);
        display: none;
        overflow: hidden;
      }
      .lexi-pending-popup.is-open {
        display: block;
      }
      .lexi-pending-popup-media {
        position: relative;
        min-height: 124px;
        padding: 0.8rem;
        display: grid;
        align-content: end;
        border-bottom: 1px solid rgba(255,255,255,0.06);
      }
      .lexi-pending-popup-media::before {
        content: "";
        position: absolute;
        inset: 0;
        background: url("/Salon_AI_IMG.png") center 18% / cover no-repeat;
        filter: brightness(1.1) saturate(1.15) contrast(1.04);
      }
      .lexi-pending-popup-media::after {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(6, 10, 18, 0.06);
      }
      .lexi-pending-popup-label,
      .lexi-pending-popup-title {
        position: relative;
        z-index: 1;
        color: #060b13;
        font-weight: 800;
        text-shadow:
          0 1px 0 rgba(255,255,255,0.96),
          0 0 12px rgba(255,255,255,0.78),
          0 0 20px rgba(255,255,255,0.4);
      }
      .lexi-pending-popup-label {
        margin: 0;
        font-size: 0.72rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }
      .lexi-pending-popup-title {
        margin: 0.18rem 0 0;
        font-size: 1.02rem;
        line-height: 1.2;
      }
      .lexi-pending-popup-body {
        padding: 0.75rem;
        display: grid;
        gap: 0.6rem;
      }
      .lexi-pending-popup-details {
        border: 1px solid rgba(255, 199, 92, 0.2);
        border-radius: 12px;
        background: rgba(255, 199, 92, 0.05);
        padding: 0.6rem;
        color: #f1f5ff;
        display: grid;
        gap: 0.25rem;
      }
      .lexi-pending-popup-details strong {
        color: #ffe3aa;
      }
      .lexi-pending-popup-details small {
        color: #c4cfdf;
      }
      .lexi-pending-popup-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 0.45rem;
      }
      .lexi-pending-popup-actions .btn {
        min-height: 40px;
      }
      @media (max-width: 640px) {
        .lexi-pending-popup {
          right: 0.6rem;
          left: 0.6rem;
          width: auto;
          bottom: 0.7rem;
        }
        .lexi-pending-popup-actions {
          display: grid;
          grid-template-columns: 1fr;
        }
      }
      .copilot-result {
        border: 1px solid rgba(167, 193, 255, 0.22);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.72);
        padding: 0.75rem;
        display: grid;
        gap: 0.7rem;
      }
      .copilot-result h3 {
        margin: 0;
        font-size: 0.95rem;
      }
      .copilot-result-popup {
        padding: 0.65rem;
        min-height: 0;
        overflow: auto;
      }
      .copilot-answer {
        color: #dce8fc;
        line-height: 1.5;
        white-space: pre-wrap;
      }
      .copilot-answer-links {
        margin-top: 0.55rem;
        display: none;
        gap: 0.45rem;
        flex-wrap: wrap;
        align-items: center;
      }
      .copilot-answer-links.is-visible {
        display: flex;
      }
      .copilot-answer-links-label {
        color: var(--muted);
        font-size: 0.78rem;
        margin-right: 0.2rem;
      }
      .copilot-answer-links .btn {
        padding: 0.3rem 0.55rem;
        font-size: 0.76rem;
      }
      .copilot-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.65rem;
      }
      .copilot-card {
        border: 1px solid var(--line);
        border-radius: 10px;
        background: rgba(9, 15, 28, 0.68);
        padding: 0.65rem;
      }
      .copilot-card ul {
        margin: 0.35rem 0 0;
        padding-left: 1rem;
        color: var(--muted);
        display: grid;
        gap: 0.28rem;
      }
      .copilot-card li {
        line-height: 1.35;
      }
      .copilot-snapshot {
        border-top: 1px solid rgba(167, 193, 255, 0.16);
        padding-top: 0.6rem;
        display: grid;
        gap: 0.35rem;
      }
      .copilot-snapshot-grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 0.45rem;
      }
      .copilot-snapshot-grid article {
        border: 1px solid var(--line);
        border-radius: 10px;
        background: rgba(9, 15, 28, 0.55);
        padding: 0.5rem;
      }
      .copilot-snapshot-grid p {
        margin: 0;
        color: var(--muted);
        font-size: 0.75rem;
      }
      .copilot-snapshot-grid strong {
        display: block;
        margin-top: 0.2rem;
      }
      body[data-density="compact"] .dash {
        gap: 0.72rem;
      }
      body[data-density="compact"] .panel {
        padding: 0.72rem;
      }
      body[data-density="compact"] .module-grid {
        gap: 0.42rem;
      }
      body[data-density="compact"] .module-card {
        padding: 0.48rem;
      }
      body[data-density="compact"] .bookings-list,
      body[data-density="compact"] .staff-list,
      body[data-density="compact"] .waitlist-list,
      body[data-density="compact"] .crm-list,
      body[data-density="compact"] .commercial-list,
      body[data-density="compact"] .revenue-list,
      body[data-density="compact"] .profit-list {
        gap: 0.42rem;
      }
      .growth-grid {
        display: grid;
        grid-template-columns: repeat(12, minmax(0, 1fr));
        gap: 0.65rem;
        align-items: start;
      }
      .growth-card {
        border: 1px solid var(--line);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.82);
        padding: 0.65rem;
        display: grid;
        gap: 0.45rem;
      }
      .growth-card h3 {
        margin: 0;
      }
      .growth-card-feature {
        grid-column: 1 / -1;
      }
      .growth-card-compact {
        grid-column: span 6;
        padding: 0.55rem;
        gap: 0.34rem;
        align-content: start;
      }
      .growth-card-compact h3 {
        font-size: 0.9rem;
      }
      .growth-card-compact small {
        line-height: 1.25;
      }
      .growth-card-subscription {
        border-color: rgba(109, 185, 255, 0.18);
        background:
          radial-gradient(circle at 90% -2%, rgba(109, 185, 255, 0.08), transparent 42%),
          rgba(9, 15, 28, 0.78);
      }
      #subscriberSubscriptionSection,
      #first7DaysSnapshotSection {
        display: none;
      }
      .subscription-popup-shell,
      .snapshot-popup-shell {
        display: grid;
        gap: 0.7rem;
      }
      .snapshot-popup-shell .growth-kpis {
        margin-top: 0.05rem;
      }
      .snapshot-popup-note {
        margin: 0;
        color: var(--muted);
        font-size: 0.8rem;
        line-height: 1.35;
      }
      .growth-card-snapshot {
        border-color: rgba(124, 234, 216, 0.16);
        background:
          radial-gradient(circle at 88% -6%, rgba(124, 234, 216, 0.08), transparent 42%),
          rgba(9, 15, 28, 0.78);
      }
      .growth-card-onboarding {
        border-color: rgba(124, 234, 216, 0.2);
        background:
          radial-gradient(circle at 92% 0%, rgba(124, 234, 216, 0.08), transparent 42%),
          radial-gradient(circle at 8% -8%, rgba(109, 185, 255, 0.08), transparent 38%),
          rgba(9, 15, 28, 0.84);
        grid-column: 1 / -1;
        align-content: start;
      }
      .growth-list {
        margin: 0;
        padding-left: 1rem;
        color: var(--muted);
        display: grid;
        gap: 0.28rem;
      }
      .growth-list li {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.5rem;
        flex-wrap: wrap;
      }
      .onboarding-list {
        list-style: none;
        padding-left: 0;
        gap: 0.5rem;
        margin-top: 0.2rem;
        color: inherit;
      }
      .onboarding-list li {
        width: 100%;
      }
      .onboarding-list > li.onboarding-summary,
      .onboarding-list > li.onboarding-step {
        display: grid;
        align-items: initial;
        justify-content: initial;
        gap: 0.42rem;
        flex-wrap: nowrap;
      }
      .onboarding-summary {
        border: 1px solid rgba(124, 234, 216, 0.18);
        border-radius: 12px;
        background:
          radial-gradient(circle at 92% -4%, rgba(124, 234, 216, 0.09), transparent 42%),
          rgba(9, 15, 28, 0.74);
        padding: 0.72rem;
        display: grid;
        gap: 0.5rem;
      }
      .onboarding-summary-head {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.6rem;
      }
      .onboarding-summary-head strong {
        display: block;
        font-size: 1rem;
        color: var(--ink);
      }
      .onboarding-summary-head small {
        color: var(--muted);
      }
      .onboarding-score-pill {
        display: inline-flex;
        align-items: center;
        border: 1px solid rgba(124, 234, 216, 0.22);
        border-radius: 999px;
        padding: 0.2rem 0.5rem;
        background: rgba(124, 234, 216, 0.06);
        color: #d7fff4;
        font-size: 0.76rem;
        white-space: nowrap;
      }
      .onboarding-progress-track {
        width: 100%;
        height: 9px;
        border-radius: 999px;
        background: rgba(255,255,255,0.06);
        overflow: hidden;
        border: 1px solid rgba(255,255,255,0.04);
      }
      .onboarding-progress-fill {
        height: 100%;
        width: var(--onboarding-progress, 0%);
        border-radius: inherit;
        background: linear-gradient(90deg, rgba(109,185,255,0.85), rgba(124,234,216,0.95));
      }
      .onboarding-summary-note {
        color: var(--muted);
        font-size: 0.78rem;
        line-height: 1.35;
      }
      .onboarding-step {
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 11px;
        background: rgba(9, 15, 28, 0.62);
        padding: 0.62rem;
        display: grid;
        gap: 0.42rem;
      }
      .onboarding-step.is-done {
        border-color: rgba(124, 234, 216, 0.16);
        background: rgba(124, 234, 216, 0.035);
      }
      .onboarding-step-head {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.5rem;
        flex-wrap: wrap;
      }
      .onboarding-step-title {
        color: var(--ink);
        font-weight: 600;
        line-height: 1.25;
      }
      .onboarding-step-note {
        color: var(--muted);
        font-size: 0.76rem;
        line-height: 1.35;
      }
      .onboarding-step-actions {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.45rem;
        flex-wrap: wrap;
      }
      .onboarding-step-actions .onboarding-summary-note {
        margin-right: auto;
      }
      .onboarding-step-actions .btn {
        padding: 0.28rem 0.55rem;
        font-size: 0.74rem;
      }
      .onboarding-badge {
        display: inline-flex;
        align-items: center;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.08);
        background: rgba(255,255,255,0.03);
        color: var(--muted);
        padding: 0.14rem 0.42rem;
        font-size: 0.72rem;
      }
      .onboarding-badge.done {
        border-color: rgba(124, 234, 216, 0.2);
        background: rgba(124, 234, 216, 0.07);
        color: #d7fff4;
      }
      .onboarding-badge.pending {
        border-color: rgba(255, 198, 130, 0.2);
        background: rgba(255, 198, 130, 0.06);
        color: #ffe8c6;
      }
      .onboarding-quick-actions {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 0.4rem;
        margin-top: 0.05rem;
      }
      .onboarding-quick-btn {
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 10px;
        background: rgba(255,255,255,0.02);
        color: var(--ink);
        padding: 0.5rem 0.55rem;
        text-align: left;
        cursor: pointer;
        display: grid;
        gap: 0.18rem;
      }
      .onboarding-quick-btn:hover {
        border-color: rgba(124, 234, 216, 0.22);
        background: rgba(124, 234, 216, 0.04);
      }
      .onboarding-quick-btn strong {
        font-size: 0.82rem;
        line-height: 1.2;
      }
      .onboarding-quick-btn small {
        color: var(--muted);
        line-height: 1.3;
      }
      .onboarding-setup-grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 0.42rem;
        margin-top: 0.02rem;
      }
      .onboarding-setup-card {
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 10px;
        background: rgba(9, 15, 28, 0.62);
        padding: 0.5rem;
        display: grid;
        gap: 0.18rem;
      }
      .onboarding-setup-card p {
        margin: 0;
        color: var(--muted);
        font-size: 0.75rem;
      }
      .onboarding-setup-card strong {
        display: block;
        margin-top: 0.08rem;
      }
      .onboarding-setup-card small {
        color: var(--muted);
        line-height: 1.28;
      }
      .growth-kpis {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.45rem;
      }
      .growth-kpis article {
        border: 1px solid var(--line);
        border-radius: 10px;
        background: rgba(9, 15, 28, 0.72);
        padding: 0.5rem;
      }
      .growth-kpis p {
        margin: 0;
        color: var(--muted);
        font-size: 0.78rem;
      }
      .growth-kpis strong {
        display: block;
        margin-top: 0.15rem;
      }
      .manage-row {
        margin-top: 0.65rem;
        display: flex;
        gap: 0.7rem;
        align-items: center;
        flex-wrap: wrap;
        justify-content: flex-start;
      }
      .manage-note {
        color: var(--muted);
        font-size: 0.82rem;
      }
      .manage-modal-overlay {
        position: fixed;
        inset: 0;
        background: rgba(3, 8, 16, 0.72);
        display: none;
        align-items: flex-start;
        justify-content: center;
        padding: 1rem;
        overflow: hidden;
        z-index: 1200;
      }
      .manage-modal {
        width: min(560px, 96vw);
        max-height: calc(100vh - 2rem);
        overflow: auto;
        border: 1px solid rgba(156, 191, 255, 0.34);
        border-radius: 14px;
        background: linear-gradient(160deg, rgba(15, 27, 50, 0.96), rgba(9, 17, 31, 0.96));
        box-shadow: 0 20px 45px rgba(0, 0, 0, 0.45);
        padding: 0.9rem;
        display: grid;
        gap: 0.7rem;
      }
      .manage-modal h3 {
        margin: 0;
      }
      .manage-modal-grid {
        display: grid;
        gap: 0.55rem;
      }
      .manage-modal-grid label {
        display: grid;
        gap: 0.28rem;
        color: var(--muted);
        font-size: 0.82rem;
      }
      .manage-modal-grid input,
      .manage-modal-grid select,
      .manage-modal-grid textarea {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.55rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
      }
      .manage-modal-actions {
        display: flex;
        justify-content: flex-end;
        gap: 0.45rem;
      }
      .module-info-modal {
        width: min(560px, 94vw);
        max-height: calc(100vh - 2rem);
        overflow: hidden;
        border: 1px solid rgba(124, 234, 216, 0.26);
        border-radius: 16px;
        background:
          radial-gradient(circle at 88% 2%, rgba(124, 234, 216, 0.1), transparent 46%),
          radial-gradient(circle at 10% -6%, rgba(109, 185, 255, 0.12), transparent 42%),
          linear-gradient(160deg, rgba(15, 27, 50, 0.97), rgba(9, 17, 31, 0.97));
        box-shadow: 0 28px 60px rgba(0, 0, 0, 0.52);
        padding: 0.8rem;
        display: grid;
        grid-template-rows: auto minmax(0, 1fr) auto;
        gap: 0.65rem;
      }
      .module-info-scroll {
        overflow: auto;
        min-height: 0;
        display: grid;
        gap: 0.65rem;
        padding-right: 0.12rem;
        overscroll-behavior: contain;
        -webkit-overflow-scrolling: touch;
      }
      .module-info-modal.size-small {
        width: min(460px, 92vw);
      }
      .module-info-modal.size-medium {
        width: min(560px, 94vw);
      }
      .module-info-modal.size-large {
        width: min(720px, 96vw);
      }
      .module-info-modal-head {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.8rem;
      }
      .module-info-modal-head h3 {
        margin: 0;
      }
      .module-info-modal-meta {
        margin: 0.25rem 0 0;
        display: flex;
        gap: 0.35rem;
        flex-wrap: wrap;
      }
      .module-chip {
        display: inline-flex;
        align-items: center;
        border: 1px solid rgba(124, 234, 216, 0.22);
        border-radius: 999px;
        padding: 0.18rem 0.48rem;
        color: #d7fff4;
        font-size: 0.72rem;
        background: rgba(124, 234, 216, 0.08);
      }
      .module-chip.muted {
        color: var(--muted);
        border-color: rgba(255,255,255,0.08);
        background: rgba(255,255,255,0.03);
      }
      .module-chip.module-chip-status.is-good {
        border-color: rgba(124, 234, 216, 0.22);
        background: rgba(124, 234, 216, 0.08);
        color: #d7fff4;
      }
      .module-chip.module-chip-status.is-attention {
        border-color: rgba(255, 187, 120, 0.24);
        background: rgba(255, 187, 120, 0.08);
        color: #ffe7c5;
      }
      .module-chip.module-chip-status.is-setup {
        border-color: rgba(109, 185, 255, 0.2);
        background: rgba(109, 185, 255, 0.08);
        color: #dceeff;
      }
      .module-purpose-strip {
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        background:
          radial-gradient(circle at 10% -14%, rgba(109, 185, 255, 0.08), transparent 42%),
          radial-gradient(circle at 92% -12%, rgba(124, 234, 216, 0.08), transparent 42%),
          rgba(8, 14, 26, 0.62);
        padding: 0.6rem;
      }
      .module-purpose-grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 0.45rem;
      }
      .module-purpose-item {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 14px;
        background: rgba(255,255,255,0.02);
        padding: 0.5rem;
        display: grid;
        gap: 0.16rem;
        min-width: 0;
      }
      .module-purpose-item p {
        margin: 0;
        color: var(--muted);
        font-size: 0.67rem;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }
      .module-purpose-item strong {
        color: #e7f4ff;
        font-size: 0.76rem;
        line-height: 1.3;
      }
      .module-purpose-item small {
        color: var(--muted);
        font-size: 0.69rem;
        line-height: 1.35;
      }
      .module-info-close {
        border: 1px solid rgba(255,255,255,0.12);
        background: rgba(255,255,255,0.04);
        color: var(--ink);
        border-radius: 10px;
        width: 38px;
        height: 38px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 1.1rem;
        line-height: 1;
      }
      .module-info-close:hover {
        border-color: rgba(124, 234, 216, 0.34);
        background: rgba(124, 234, 216, 0.08);
      }
      .module-info-pane {
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.65);
        padding: 0.6rem;
      }
      .module-lexi-brief {
        border: 1px solid rgba(124, 234, 216, 0.18);
        border-radius: 18px;
        background:
          radial-gradient(circle at 88% -8%, rgba(109, 185, 255, 0.12), transparent 42%),
          radial-gradient(circle at 8% -12%, rgba(124, 234, 216, 0.1), transparent 42%),
          rgba(8, 14, 26, 0.78);
        padding: 0.7rem;
        display: grid;
        gap: 0.6rem;
      }
      .module-lexi-brief.is-compact {
        padding: 0.62rem;
        gap: 0.5rem;
      }
      .module-lexi-brief-head {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.55rem;
      }
      .module-lexi-kicker {
        margin: 0;
        color: #9bd2ff;
        font-size: 0.71rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }
      .module-lexi-brief-head h4 {
        margin: 0.18rem 0 0;
        font-size: 0.95rem;
      }
      .module-lexi-brief-head p {
        margin: 0.2rem 0 0;
        color: var(--muted);
        font-size: 0.77rem;
        line-height: 1.38;
      }
      .module-lexi-status-stack {
        display: grid;
        gap: 0.28rem;
        justify-items: end;
        flex-shrink: 0;
      }
      .module-lexi-status-pill {
        display: inline-flex;
        align-items: center;
        border-radius: 999px;
        padding: 0.2rem 0.5rem;
        font-size: 0.7rem;
        border: 1px solid rgba(255,255,255,0.1);
        background: rgba(255,255,255,0.04);
        color: #e7f4ff;
      }
      .module-lexi-status-pill.is-active {
        border-color: rgba(124, 234, 216, 0.28);
        background: rgba(124, 234, 216, 0.08);
        color: #d7fff4;
      }
      .module-lexi-status-pill.is-attention {
        border-color: rgba(255, 187, 120, 0.3);
        background: rgba(255, 187, 120, 0.08);
        color: #ffe7c5;
      }
      .module-lexi-status-pill.is-baseline {
        border-color: rgba(109, 185, 255, 0.2);
        background: rgba(109, 185, 255, 0.07);
        color: #dceeff;
      }
      .module-lexi-brief-grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 0.48rem;
      }
      .module-lexi-brief.is-compact .module-lexi-brief-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
      .module-lexi-brief-card {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 14px;
        background: rgba(255,255,255,0.025);
        padding: 0.52rem;
        display: grid;
        gap: 0.32rem;
        min-width: 0;
      }
      .module-lexi-brief-card h5 {
        margin: 0;
        font-size: 0.75rem;
        color: #d7fff4;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }
      .module-lexi-brief-list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.28rem;
      }
      .module-lexi-brief-list li {
        border: 1px solid rgba(255,255,255,0.05);
        border-radius: 10px;
        background: rgba(255,255,255,0.02);
        padding: 0.34rem 0.4rem;
        display: grid;
        gap: 0.08rem;
      }
      .module-lexi-brief-list li strong {
        font-size: 0.72rem;
        line-height: 1.25;
      }
      .module-lexi-brief-list li small {
        color: var(--muted);
        font-size: 0.67rem;
        line-height: 1.28;
      }
      .module-lexi-brief-actions {
        display: flex;
        gap: 0.4rem;
        flex-wrap: wrap;
      }
      .module-lexi-brief-actions .btn {
        min-height: 34px;
      }
      .module-lexi-brief-foot {
        border-top: 1px solid rgba(255,255,255,0.06);
        padding-top: 0.45rem;
        font-size: 0.73rem;
        color: var(--muted);
        display: grid;
        gap: 0.18rem;
      }
      .module-lexi-brief-foot strong {
        color: #e7f4ff;
      }
      .module-operator-hero {
        border: 1px solid rgba(124, 234, 216, 0.2);
        border-radius: 18px;
        background:
          radial-gradient(circle at 92% -12%, rgba(124, 234, 216, 0.08), transparent 44%),
          radial-gradient(circle at 6% -10%, rgba(109, 185, 255, 0.1), transparent 42%),
          rgba(8, 14, 26, 0.75);
        padding: 0.7rem;
        display: grid;
        gap: 0.55rem;
      }
      .module-operator-hero.is-minimal {
        gap: 0.45rem;
        border-color: rgba(109, 185, 255, 0.18);
      }
      .module-operator-headline {
        display: grid;
        gap: 0.22rem;
      }
      .module-operator-label {
        margin: 0;
        color: #9bd2ff;
        font-size: 0.72rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }
      .module-operator-headline h4 {
        margin: 0;
        font-size: 0.95rem;
        letter-spacing: -0.01em;
      }
      .module-operator-headline p {
        margin: 0;
        color: var(--muted);
        line-height: 1.4;
        font-size: 0.8rem;
      }
      .module-operator-signal-grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 0.45rem;
      }
      .module-operator-signal {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 12px;
        background: rgba(255,255,255,0.03);
        padding: 0.48rem;
        display: grid;
        gap: 0.18rem;
      }
      .module-operator-signal p {
        margin: 0;
        color: var(--muted);
        font-size: 0.68rem;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }
      .module-operator-signal strong {
        font-size: 0.76rem;
        line-height: 1.25;
        color: #e7f4ff;
      }
      .module-operator-next {
        display: grid;
        gap: 0.32rem;
      }
      .module-operator-next h5 {
        margin: 0;
        font-size: 0.78rem;
        color: #d7fff4;
      }
      .module-operator-next .module-info-feature-list {
        gap: 0.3rem;
      }
      .module-operator-next .module-info-feature-list li {
        background: rgba(109, 185, 255, 0.04);
        border-color: rgba(109, 185, 255, 0.12);
      }
      .module-operator-actions {
        display: flex;
        gap: 0.4rem;
        flex-wrap: wrap;
      }
      .module-operator-actions .btn {
        min-height: 36px;
      }
      .module-workboard {
        border: 1px solid rgba(109, 185, 255, 0.16);
        border-radius: 18px;
        background:
          radial-gradient(circle at 8% -12%, rgba(109, 185, 255, 0.08), transparent 42%),
          radial-gradient(circle at 92% -10%, rgba(124, 234, 216, 0.07), transparent 42%),
          rgba(8, 14, 26, 0.62);
        padding: 0.62rem;
        display: grid;
        gap: 0.5rem;
      }
      .module-workboard-head {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.45rem;
      }
      .module-workboard-head h5 {
        margin: 0;
        font-size: 0.82rem;
      }
      .module-workboard-head p {
        margin: 0.16rem 0 0;
        color: var(--muted);
        font-size: 0.74rem;
        line-height: 1.35;
      }
      .module-workboard-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.45rem;
      }
      .module-workboard-pane {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 14px;
        background: rgba(255,255,255,0.02);
        padding: 0.5rem;
        display: grid;
        gap: 0.32rem;
      }
      .module-workboard-pane h6 {
        margin: 0;
        font-size: 0.75rem;
        color: #d7fff4;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }
      .module-workboard-list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.28rem;
      }
      .module-workboard-list li {
        border: 1px solid rgba(255,255,255,0.05);
        border-radius: 10px;
        background: rgba(255,255,255,0.02);
        padding: 0.34rem 0.4rem;
        display: grid;
        gap: 0.1rem;
      }
      .module-workboard-list li strong {
        font-size: 0.74rem;
        line-height: 1.28;
      }
      .module-workboard-list li small {
        color: var(--muted);
        font-size: 0.68rem;
        line-height: 1.28;
      }
      .module-workboard-automation {
        display: grid;
        gap: 0.28rem;
      }
      .module-workboard-automation-row {
        border: 1px solid rgba(124, 234, 216, 0.14);
        border-radius: 12px;
        background: rgba(124, 234, 216, 0.03);
        padding: 0.36rem 0.42rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.35rem;
      }
      .module-workboard-automation-row strong { font-size: 0.73rem; }
      .module-workboard-automation-row small { color: var(--muted); font-size: 0.67rem; }
      .module-workboard-automation-copy {
        display: grid;
        gap: 0.06rem;
        min-width: 0;
      }
      .module-workboard-automation-row .btn {
        min-height: 28px;
        padding: 0.18rem 0.42rem;
        font-size: 0.68rem;
      }
      .module-info-pane,
      .module-lexi-brief,
      .module-lexi-brief-card,
      .module-lexi-brief-list li,
      .module-operator-hero,
      .module-operator-signal,
      .module-operator-next .module-info-feature-list li,
      .module-workboard,
      .module-workboard-pane,
      .module-openclose-shell,
      .module-openclose-kpi,
      .module-openclose-lane,
      .module-openclose-exceptions,
      .openclose-check-item,
      .openclose-exception {
        border-radius: 18px;
      }
      .module-openclose-shell {
        border: 1px solid rgba(124, 234, 216, 0.18);
        background:
          radial-gradient(circle at 90% -12%, rgba(124, 234, 216, 0.08), transparent 42%),
          radial-gradient(circle at 10% -10%, rgba(109, 185, 255, 0.08), transparent 42%),
          rgba(8, 14, 26, 0.68);
        padding: 0.7rem;
        display: grid;
        gap: 0.6rem;
      }
      .module-openclose-top {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 0.45rem;
      }
      .module-openclose-kpi {
        border: 1px solid rgba(255,255,255,0.07);
        background: rgba(255,255,255,0.03);
        padding: 0.5rem 0.55rem;
        display: grid;
        gap: 0.18rem;
      }
      .module-openclose-kpi p {
        margin: 0;
        color: var(--muted);
        font-size: 0.68rem;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }
      .module-openclose-kpi strong {
        font-size: 1rem;
        color: #e7f4ff;
      }
      .module-openclose-kpi small {
        color: var(--muted);
        font-size: 0.72rem;
      }
      .module-openclose-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.55rem;
      }
      .module-openclose-lane {
        border: 1px solid rgba(255,255,255,0.07);
        background: rgba(255,255,255,0.03);
        padding: 0.55rem;
        display: grid;
        gap: 0.42rem;
      }
      .module-openclose-lane-head {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.45rem;
      }
      .module-openclose-lane-head h5 {
        margin: 0;
        font-size: 0.84rem;
      }
      .module-openclose-lane-head p {
        margin: 0.14rem 0 0;
        color: var(--muted);
        font-size: 0.72rem;
      }
      .module-openclose-lane-actions {
        display: flex;
        gap: 0.32rem;
        flex-wrap: wrap;
        justify-content: flex-end;
      }
      .module-openclose-lane-actions .btn {
        min-height: 30px;
        padding: 0.28rem 0.5rem;
        font-size: 0.7rem;
      }
      .module-openclose-progress {
        height: 7px;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.06);
        background: rgba(255,255,255,0.03);
        overflow: hidden;
      }
      .module-openclose-progress > span {
        display: block;
        height: 100%;
        width: 0;
        background: linear-gradient(90deg, rgba(109, 185, 255, 0.95), rgba(124, 234, 216, 0.95));
        border-radius: inherit;
      }
      .module-openclose-list {
        display: grid;
        gap: 0.32rem;
      }
      .openclose-check-item {
        all: unset;
        border: 1px solid rgba(255,255,255,0.06);
        background: rgba(255,255,255,0.02);
        padding: 0.42rem 0.46rem;
        display: grid;
        grid-template-columns: auto 1fr;
        gap: 0.42rem;
        align-items: flex-start;
        cursor: pointer;
        transition: border-color 140ms ease, background 140ms ease, transform 140ms ease;
      }
      .openclose-check-item:hover {
        transform: translateY(-1px);
        border-color: rgba(124, 234, 216, 0.2);
      }
      .openclose-check-item.is-complete {
        border-color: rgba(124, 234, 216, 0.26);
        background: rgba(124, 234, 216, 0.07);
      }
      .openclose-check-item.is-risk {
        border-color: rgba(255, 148, 156, 0.2);
      }
      .openclose-check-item.is-watch {
        border-color: rgba(255, 203, 107, 0.18);
      }
      .openclose-check-item.is-ready {
        border-color: rgba(109, 185, 255, 0.14);
      }
      .openclose-check-indicator {
        width: 18px;
        height: 18px;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.1);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        color: #d7fff4;
        font-size: 0.7rem;
        line-height: 1;
        margin-top: 0.05rem;
      }
      .openclose-check-item.is-complete .openclose-check-indicator {
        border-color: rgba(124, 234, 216, 0.32);
        background: rgba(124, 234, 216, 0.12);
      }
      .openclose-check-copy {
        display: grid;
        gap: 0.14rem;
        min-width: 0;
      }
      .openclose-check-copy strong {
        font-size: 0.78rem;
        line-height: 1.3;
      }
      .openclose-check-copy small {
        color: var(--muted);
        font-size: 0.68rem;
        line-height: 1.3;
      }
      .module-openclose-exceptions {
        border: 1px solid rgba(255,255,255,0.07);
        background: rgba(255,255,255,0.03);
        padding: 0.55rem;
        display: grid;
        gap: 0.4rem;
      }
      .module-openclose-exceptions-head {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.45rem;
      }
      .module-openclose-exceptions-head h5 {
        margin: 0;
        font-size: 0.82rem;
      }
      .module-openclose-exceptions-head .btn {
        min-height: 30px;
        padding: 0.28rem 0.5rem;
        font-size: 0.7rem;
      }
      .module-openclose-exceptions ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.34rem;
      }
      .openclose-exception {
        border: 1px solid rgba(255,255,255,0.06);
        background: rgba(255,255,255,0.02);
        padding: 0.42rem 0.5rem;
        display: grid;
        gap: 0.14rem;
      }
      .openclose-exception strong {
        font-size: 0.74rem;
      }
      .openclose-exception small {
        color: var(--muted);
        line-height: 1.35;
        font-size: 0.7rem;
      }
      .openclose-exception.is-critical { border-color: rgba(255, 148, 156, 0.28); background: rgba(255, 148, 156, 0.06); }
      .openclose-exception.is-risk { border-color: rgba(255, 183, 107, 0.24); background: rgba(255, 183, 107, 0.05); }
      .openclose-exception.is-warning { border-color: rgba(109, 185, 255, 0.2); background: rgba(109, 185, 255, 0.05); }
      .openclose-exception.is-good { border-color: rgba(124, 234, 216, 0.24); background: rgba(124, 234, 216, 0.05); }
      .module-info-pane h4 {
        margin: 0 0 0.35rem;
        font-size: 0.82rem;
      }
      .module-info-pane p {
        margin: 0;
        color: var(--muted);
        line-height: 1.5;
      }
      .module-info-feature-list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.4rem;
      }
      .module-info-feature-list li {
        border: 1px solid rgba(124, 234, 216, 0.12);
        border-radius: 10px;
        background: rgba(124, 234, 216, 0.04);
        padding: 0.42rem 0.52rem;
        color: #d7fff4;
        font-size: 0.8rem;
      }
      .module-info-actions {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        gap: 0.4rem;
        flex-wrap: wrap;
      }
      .manage-modal,
      .contact-admin-modal,
      .module-info-modal,
      .module-workspace-modal,
      .calendar-day-modal {
        border-radius: 18px;
      }
      .module-info-hint {
        margin-right: auto;
        color: var(--muted);
        font-size: 0.74rem;
      }
      @media (max-width: 720px) {
        .module-lexi-brief-head {
          flex-direction: column;
          align-items: stretch;
        }
        .module-lexi-status-stack {
          justify-items: start;
        }
        .module-lexi-brief-grid,
        .module-lexi-brief.is-compact .module-lexi-brief-grid {
          grid-template-columns: 1fr;
        }
        .module-purpose-grid {
          grid-template-columns: 1fr;
        }
        .module-operator-signal-grid {
          grid-template-columns: 1fr;
        }
        .module-workboard-grid {
          grid-template-columns: 1fr;
        }
        .module-openclose-top,
        .module-openclose-grid {
          grid-template-columns: 1fr;
        }
        .module-operator-actions {
          display: grid;
          grid-template-columns: 1fr;
        }
        .module-operator-actions .btn {
          width: 100%;
          justify-content: center;
        }
        .module-openclose-lane-head {
          align-items: stretch;
          flex-direction: column;
        }
        .module-openclose-lane-actions {
          justify-content: flex-start;
        }
      }
      .module-workspace-modal {
        width: min(980px, 96vw);
        max-height: min(86vh, 980px);
        overflow: hidden;
        border: 1px solid rgba(124, 234, 216, 0.24);
        border-radius: 16px;
        background:
          radial-gradient(circle at 90% 0%, rgba(124, 234, 216, 0.08), transparent 42%),
          radial-gradient(circle at 8% -6%, rgba(109, 185, 255, 0.1), transparent 40%),
          linear-gradient(160deg, rgba(15, 27, 50, 0.97), rgba(9, 17, 31, 0.97));
        box-shadow: 0 28px 60px rgba(0, 0, 0, 0.52);
        padding: 0.8rem;
        display: grid;
        grid-template-rows: auto minmax(0, 1fr) auto;
        gap: 0.65rem;
      }
      .module-workspace-modal.size-medium {
        width: min(760px, 95vw);
      }
      .module-workspace-modal.size-large {
        width: min(1140px, 97vw);
      }
      .module-workspace-modal.size-xl {
        width: min(1320px, 98vw);
        max-height: min(90vh, 1100px);
      }
      .module-workspace-head {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 0.65rem;
      }
      .module-workspace-head h3 {
        margin: 0;
      }
      .module-workspace-summary {
        margin: 0.35rem 0 0;
        color: var(--muted);
        line-height: 1.45;
        font-size: 0.86rem;
      }
      .module-workspace-body {
        overflow: auto;
        min-height: 0;
        padding-right: 0.15rem;
        display: grid;
        gap: 0.55rem;
        overscroll-behavior: contain;
        -webkit-overflow-scrolling: touch;
      }
      .module-workspace-body > .panel {
        margin: 0;
        position: static;
        top: auto;
        z-index: auto;
        width: 100%;
        max-width: 100%;
        min-width: 0;
        max-height: none !important;
        height: auto;
        overflow: visible;
        grid-column: 1 / -1 !important;
        align-self: stretch;
        box-shadow: 0 10px 24px rgba(0,0,0,0.26);
      }
      .module-workspace-body > #staffRosterSection {
        max-height: none;
        overflow: visible;
        min-height: 0;
      }
      .module-workspace-body .panel h2 {
        margin-top: 0;
      }
      .module-workspace-body .panel p {
        line-height: 1.45;
      }
      .module-popup-mounted {
        width: 100%;
        min-width: 0;
        max-width: 100%;
        max-height: none !important;
        overflow: visible;
        grid-column: 1 / -1 !important;
        align-self: stretch;
      }
      .module-workspace-body > .module-popup-mounted,
      .module-workspace-body > .module-popup-mounted > * {
        min-width: 0;
        max-width: 100%;
      }
      .module-workspace-body > .module-popup-mounted [data-scroll-lock],
      .module-workspace-body > .module-popup-mounted .panel-scroll-lock {
        max-height: none !important;
        overflow: visible !important;
      }
      .manage-modal,
      .contact-admin-modal,
      .module-info-scroll,
      .module-workspace-body,
      .calendar-day-modal-body,
      .business-profile-setup-modal {
        scrollbar-width: thin;
        scrollbar-gutter: stable;
      }
      .module-workspace-actions {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 0.45rem;
        flex-wrap: wrap;
      }
      .calendar-day-modal {
        width: min(1080px, 97vw);
        max-height: min(88vh, 980px);
        overflow: hidden;
        border: 1px solid rgba(124, 234, 216, 0.24);
        border-radius: 16px;
        background:
          radial-gradient(circle at 88% -2%, rgba(124, 234, 216, 0.08), transparent 42%),
          radial-gradient(circle at 8% -8%, rgba(109, 185, 255, 0.1), transparent 40%),
          linear-gradient(160deg, rgba(15, 27, 50, 0.97), rgba(9, 17, 31, 0.97));
        box-shadow: 0 28px 60px rgba(0, 0, 0, 0.52);
        padding: 0.8rem;
        display: grid;
        gap: 0.65rem;
      }
      .calendar-day-modal-head {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 0.75rem;
      }
      .calendar-day-modal-head h3 {
        margin: 0;
      }
      .calendar-day-modal-head p {
        margin: 0.35rem 0 0;
        color: var(--muted);
        line-height: 1.45;
        font-size: 0.86rem;
      }
      .calendar-day-modal-body {
        overflow: auto;
        min-height: 0;
        padding-right: 0.15rem;
        display: grid;
        gap: 0.7rem;
      }
      .calendar-day-summary-grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 0.55rem;
      }
      .calendar-day-stat {
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.64);
        padding: 0.6rem;
      }
      .calendar-day-stat p {
        margin: 0;
        color: var(--muted);
        font-size: 0.76rem;
      }
      .calendar-day-stat strong {
        display: block;
        margin-top: 0.25rem;
        font-size: 1.05rem;
      }
      .calendar-day-layout {
        display: grid;
        grid-template-columns: minmax(0, 1.65fr) minmax(280px, 0.85fr);
        gap: 0.65rem;
        align-items: start;
      }
      .calendar-day-pane {
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.64);
        padding: 0.65rem;
        display: grid;
        gap: 0.5rem;
      }
      .calendar-day-pane h4 {
        margin: 0;
        font-size: 0.9rem;
      }
      .calendar-day-pane p {
        margin: 0;
        color: var(--muted);
        line-height: 1.45;
      }
      .calendar-day-actions-row {
        display: flex;
        gap: 0.45rem;
        flex-wrap: wrap;
        align-items: center;
      }
      .calendar-day-actions-row .btn {
        padding: 0.34rem 0.62rem;
        font-size: 0.78rem;
      }
      .calendar-day-booking-list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.5rem;
      }
      .calendar-day-booking-card {
        border: 1px solid rgba(124, 234, 216, 0.14);
        border-radius: 12px;
        background: rgba(124, 234, 216, 0.03);
        padding: 0.55rem;
        display: grid;
        gap: 0.35rem;
      }
      .calendar-day-booking-head {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 0.6rem;
      }
      .calendar-day-booking-head strong {
        display: block;
      }
      .calendar-day-booking-head small {
        color: var(--muted);
      }
      .calendar-day-booking-chip {
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 999px;
        padding: 0.14rem 0.45rem;
        font-size: 0.72rem;
        color: var(--muted);
        background: rgba(255,255,255,0.03);
        white-space: nowrap;
      }
      .calendar-day-booking-chip.confirmed {
        color: #d7fff4;
        border-color: rgba(124, 234, 216, 0.22);
        background: rgba(124, 234, 216, 0.06);
      }
      .calendar-day-booking-chip.cancelled {
        color: #ffd2d7;
        border-color: rgba(255, 137, 160, 0.2);
        background: rgba(255, 137, 160, 0.06);
      }
      .calendar-day-booking-chip.completed {
        color: #d8e8ff;
        border-color: rgba(109, 185, 255, 0.2);
        background: rgba(109, 185, 255, 0.06);
      }
      .calendar-day-booking-meta {
        display: grid;
        gap: 0.16rem;
        color: var(--muted);
        font-size: 0.82rem;
      }
      .calendar-day-booking-actions {
        display: flex;
        gap: 0.4rem;
        flex-wrap: wrap;
      }
      .calendar-day-booking-actions .btn {
        padding: 0.3rem 0.55rem;
        font-size: 0.74rem;
      }
      .calendar-day-empty {
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.4);
        padding: 0.7rem;
        color: var(--muted);
      }
      .calendar-day-list-note {
        color: var(--muted);
        font-size: 0.78rem;
      }
      .calendar-day-revenue-gauges {
        display: grid;
        gap: 0.45rem;
      }
      .calendar-day-revenue-gauge {
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 10px;
        background: rgba(255,255,255,0.02);
        padding: 0.48rem 0.55rem;
        display: grid;
        gap: 0.28rem;
      }
      .calendar-day-revenue-gauge-top {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.45rem;
      }
      .calendar-day-revenue-gauge-top span {
        color: var(--muted);
        font-size: 0.75rem;
      }
      .calendar-day-revenue-gauge-top strong {
        font-size: 0.84rem;
      }
      .calendar-day-revenue-meter {
        height: 8px;
        border-radius: 999px;
        background: rgba(255,255,255,0.06);
        overflow: hidden;
        position: relative;
      }
      .calendar-day-revenue-meter > i {
        display: block;
        height: 100%;
        width: var(--day-gauge-width, 0%);
        border-radius: inherit;
        background: linear-gradient(90deg, rgba(109, 185, 255, 0.75), rgba(124, 234, 216, 0.92));
      }
      .calendar-day-revenue-meter.cancelled > i {
        background: linear-gradient(90deg, rgba(255, 137, 160, 0.78), rgba(255, 198, 130, 0.9));
      }
      .calendar-day-revenue-meter.confirmed > i {
        background: linear-gradient(90deg, rgba(124, 234, 216, 0.75), rgba(170, 255, 232, 0.95));
      }
      .calendar-day-revenue-meter.completed > i {
        background: linear-gradient(90deg, rgba(109, 185, 255, 0.76), rgba(181, 214, 255, 0.95));
      }
      .calendar-day-revenue-note {
        color: var(--muted);
        font-size: 0.75rem;
        line-height: 1.35;
      }
      .module-workspace-actions .module-info-hint {
        margin-right: auto;
      }
      .manage-toast-stack {
        position: fixed;
        right: 0.9rem;
        bottom: 0.9rem;
        z-index: 1250;
        display: grid;
        gap: 0.5rem;
      }
      .manage-toast {
        border: 1px solid rgba(124, 234, 216, 0.45);
        border-radius: 10px;
        background: rgba(9, 15, 28, 0.95);
        padding: 0.55rem 0.75rem;
        color: #d7fff4;
        min-width: 220px;
      }
      .manage-toast.error {
        border-color: rgba(255, 173, 181, 0.5);
        color: #ffd7dc;
      }
      .manage-only {
        display: none !important;
      }
      body[data-manage-mode="on"] .manage-only {
        display: inline-flex !important;
      }
      body[data-manage-mode="on"] .manage-row.manage-only {
        display: flex !important;
      }
      .accounting-shell {
        display: grid;
        gap: 0.9rem;
      }
      .accounting-form {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr auto;
        gap: 0.55rem;
      }
      .accounting-form input,
      .accounting-form select {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.6rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
      }
      .accounting-note {
        margin: 0;
        color: var(--muted);
      }
      .business-profile-launch {
        display: grid;
        gap: 0.8rem;
      }
      .business-profile-launch-head {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 0.8rem;
        flex-wrap: wrap;
      }
      .business-profile-launch-grid {
        display: grid;
        grid-template-columns: 1.15fr 0.95fr;
        gap: 0.7rem;
      }
      .business-profile-launch-card {
        border: 1px solid rgba(167, 193, 255, 0.16);
        border-radius: 14px;
        background: rgba(9, 15, 28, 0.56);
        padding: 0.75rem;
      }
      .business-profile-launch-card h3 {
        margin: 0;
        font-size: 0.92rem;
      }
      .business-profile-launch-card p {
        margin: 0.35rem 0 0;
        color: var(--muted);
        line-height: 1.4;
      }
      .business-profile-launch-card ul {
        margin: 0.45rem 0 0;
        padding-left: 1rem;
        color: #dce8fc;
        display: grid;
        gap: 0.28rem;
      }
      .business-profile-setup-overlay {
        position: fixed;
        inset: 0;
        z-index: 1260;
        display: none;
        align-items: center;
        justify-content: center;
        padding: 1rem;
        background: rgba(2, 6, 12, 0.78);
        backdrop-filter: blur(5px);
      }
      .business-profile-setup-overlay.is-open {
        display: flex;
      }
      .business-profile-setup-modal {
        width: min(1120px, 96vw);
        max-height: min(92vh, calc(100dvh - 1.2rem));
        overflow: auto;
        border: 1px solid rgba(167, 193, 255, 0.24);
        border-radius: 16px;
        background:
          radial-gradient(circle at 100% 0%, rgba(85, 168, 255, 0.08), transparent 42%),
          linear-gradient(160deg, rgba(14, 22, 40, 0.97), rgba(8, 13, 24, 0.97));
        box-shadow: 0 28px 68px rgba(0, 0, 0, 0.56);
        padding: 0.85rem;
        display: grid;
        gap: 0.8rem;
      }
      .business-profile-setup-head {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 0.8rem;
      }
      .business-profile-setup-head h3 {
        margin: 0;
      }
      .business-profile-setup-head p {
        margin: 0.3rem 0 0;
        color: var(--muted);
        max-width: 72ch;
      }
      .business-profile-setup-layout {
        display: grid;
        grid-template-columns: minmax(16rem, 0.82fr) minmax(0, 1.68fr);
        gap: 0.8rem;
        align-items: start;
      }
      .business-profile-setup-rail {
        display: grid;
        gap: 0.7rem;
        position: sticky;
        top: 0;
      }
      .business-profile-setup-rail-card {
        border: 1px solid rgba(167, 193, 255, 0.16);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.56);
        padding: 0.7rem;
      }
      .business-profile-setup-rail-card h4 {
        margin: 0;
        font-size: 0.84rem;
      }
      .business-profile-setup-rail-card p {
        margin: 0.35rem 0 0;
        color: var(--muted);
        line-height: 1.35;
        font-size: 0.81rem;
      }
      .business-profile-setup-rail-card ul {
        margin: 0.45rem 0 0;
        padding-left: 1rem;
        color: #dce8fc;
        display: grid;
        gap: 0.25rem;
        font-size: 0.81rem;
      }
      .business-profile-setup-form {
        border: 1px solid rgba(167, 193, 255, 0.16);
        border-radius: 14px;
        background: rgba(8, 13, 24, 0.62);
        padding: 0.8rem;
        display: grid;
        gap: 0.75rem;
      }
      .business-profile-setup-block {
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.46);
        padding: 0.7rem;
        display: grid;
        gap: 0.6rem;
      }
      .business-profile-setup-block h4 {
        margin: 0;
        font-size: 0.84rem;
      }
      .business-profile-setup-block p {
        margin: -0.15rem 0 0;
        color: var(--muted);
        font-size: 0.78rem;
      }
      .business-profile-setup-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.55rem;
      }
      .business-profile-setup-grid label,
      .business-profile-hours-grid label {
        display: grid;
        gap: 0.22rem;
        font-size: 0.79rem;
        color: #c8d6ee;
        font-weight: 700;
      }
      .business-profile-setup-grid input,
      .business-profile-setup-grid select,
      .business-profile-setup-grid textarea,
      .business-profile-hours-grid input {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.56rem 0.6rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
        font-family: inherit;
      }
      .business-profile-setup-grid textarea {
        resize: vertical;
        min-height: 84px;
      }
      .business-profile-setup-grid .span-full {
        grid-column: 1 / -1;
      }
      .business-profile-hours-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.55rem;
      }
      .business-profile-hours-grid .span-full {
        grid-column: 1 / -1;
      }
      .business-profile-services-wrap textarea {
        width: 100%;
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.6rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
        font-family: inherit;
        resize: vertical;
      }
      .business-profile-setup-actions {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 0.5rem;
      }
      @media (max-width: 1100px) {
        .business-profile-setup-layout {
          grid-template-columns: 1fr;
        }
        .business-profile-setup-rail {
          position: static;
          grid-template-columns: repeat(3, minmax(0, 1fr));
          align-items: stretch;
        }
      }
      @media (max-width: 720px) {
        .business-profile-setup-overlay {
          padding: 0.55rem;
        }
        .business-profile-setup-modal {
          width: min(1120px, 100vw);
          max-height: min(96vh, calc(100dvh - 0.5rem));
          border-radius: 14px;
          padding: 0.65rem;
        }
        .business-profile-setup-head {
          flex-direction: column;
          align-items: stretch;
        }
        .business-profile-setup-head .btn {
          align-self: flex-start;
        }
        .business-profile-setup-rail {
          grid-template-columns: 1fr;
        }
        .business-profile-setup-grid,
        .business-profile-hours-grid {
          grid-template-columns: 1fr;
        }
        .business-profile-setup-actions {
          gap: 0.45rem;
        }
        .business-profile-setup-actions #businessProfileStatus {
          margin-left: 0 !important;
          width: 100%;
          order: 4;
        }
      }
      .accounting-actions {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 0.55rem;
        flex-wrap: wrap;
      }
      .accounting-list {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.6rem;
      }
      .accounting-live {
        border: 1px solid rgba(124, 234, 216, 0.26);
        border-radius: 14px;
        background: radial-gradient(circle at top right, rgba(124, 234, 216, 0.14), rgba(9, 15, 28, 0.9) 52%);
        padding: 0.75rem;
        display: grid;
        gap: 0.75rem;
      }
      .accounting-live-head {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.6rem;
        flex-wrap: wrap;
      }
      .timeframe-switch {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        border: 1px solid var(--line);
        border-radius: 999px;
        padding: 0.2rem;
        background: rgba(9, 15, 28, 0.72);
      }
      .timeframe-switch button {
        border: 1px solid transparent;
        border-radius: 999px;
        padding: 0.25rem 0.6rem;
        background: transparent;
        color: var(--muted);
        cursor: pointer;
        font-size: 0.78rem;
      }
      .timeframe-switch button.active {
        color: #d7fff4;
        border-color: rgba(124, 234, 216, 0.55);
        background: rgba(124, 234, 216, 0.16);
      }
      .quick-filter-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.6rem;
        flex-wrap: wrap;
      }
      .quick-filter-group {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        flex-wrap: wrap;
      }
      .quick-filter-group .btn {
        padding: 0.3rem 0.6rem;
        font-size: 0.78rem;
      }
      .quick-filter-group .btn.active {
        border-color: rgba(124, 234, 216, 0.6);
        background: rgba(124, 234, 216, 0.14);
        color: #d7fff4;
      }
      .quick-filter-custom {
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        flex-wrap: wrap;
      }
      .quick-filter-custom input {
        border: 1px solid var(--line);
        border-radius: 8px;
        padding: 0.35rem 0.45rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
      }
      .accounting-live-head h3 {
        margin: 0;
      }
      .live-pill {
        display: inline-flex;
        align-items: center;
        gap: 0.3rem;
        border-radius: 999px;
        border: 1px solid rgba(124, 234, 216, 0.5);
        background: rgba(124, 234, 216, 0.12);
        color: #d7fff4;
        font-size: 0.78rem;
        padding: 0.2rem 0.55rem;
      }
      .live-dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: #7cead8;
        box-shadow: 0 0 0 0 rgba(124, 234, 216, 0.7);
        animation: livePulse 1.5s infinite;
      }
      @keyframes livePulse {
        0% {
          box-shadow: 0 0 0 0 rgba(124, 234, 216, 0.7);
        }
        70% {
          box-shadow: 0 0 0 8px rgba(124, 234, 216, 0);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(124, 234, 216, 0);
        }
      }
      .live-cards {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 0.55rem;
      }
      .live-cards article {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.55rem;
        background: rgba(9, 15, 28, 0.82);
      }
      .live-cards p {
        margin: 0;
        color: var(--muted);
      }
      .live-cards strong {
        display: block;
        margin-top: 0.2rem;
      }
      .live-grid {
        display: grid;
        grid-template-columns: 1.15fr 1.85fr;
        gap: 0.65rem;
      }
      .live-gauges {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.55rem;
      }
      .gauge-card {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.6rem;
        background: rgba(9, 15, 28, 0.82);
        display: grid;
        place-items: center;
        gap: 0.4rem;
      }
      .gauge-ring {
        width: 104px;
        aspect-ratio: 1;
        border-radius: 50%;
        background: conic-gradient(rgba(124, 234, 216, 0.95) calc(var(--gauge-progress, 0) * 1%), rgba(255, 255, 255, 0.08) 0);
        display: grid;
        place-items: center;
      }
      .gauge-ring::before {
        content: "";
        width: 74px;
        aspect-ratio: 1;
        border-radius: 50%;
        background: rgba(9, 15, 28, 0.98);
        border: 1px solid rgba(255, 255, 255, 0.06);
      }
      .gauge-ring span {
        position: absolute;
        font-weight: 700;
      }
      .gauge-card small {
        color: var(--muted);
        text-align: center;
      }
      .live-charts {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.6rem;
      }
      .live-chart {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.6rem;
        background: rgba(9, 15, 28, 0.82);
        display: grid;
        gap: 0.45rem;
      }
      .live-chart h4 {
        margin: 0;
        font-size: 0.88rem;
      }
      .live-bars {
        min-height: 136px;
        display: grid;
        grid-template-columns: repeat(6, minmax(0, 1fr));
        align-items: end;
        gap: 0.36rem;
      }
      .live-bar-col {
        display: grid;
        gap: 0.3rem;
        justify-items: center;
      }
      .live-bar {
        width: min(28px, 100%);
        height: var(--bar-height, 8px);
        min-height: 8px;
        border-radius: 8px 8px 4px 4px;
      }
      .live-bar.revenue {
        background: linear-gradient(180deg, rgba(124, 234, 216, 0.96), rgba(124, 234, 216, 0.35));
      }
      .live-bar.cancel {
        background: linear-gradient(180deg, rgba(255, 148, 156, 0.96), rgba(255, 148, 156, 0.35));
      }
      .live-bar-col small {
        color: var(--muted);
        text-align: center;
        font-size: 0.7rem;
      }
      .accounting-live-note {
        margin: 0;
        color: var(--muted);
        min-height: 1rem;
      }
      .integration-card {
        border: 1px solid var(--line);
        border-radius: 12px;
        padding: 0.75rem;
        background: linear-gradient(150deg, var(--surface), var(--surface-2));
      }
      .integration-card.connected {
        border-color: rgba(124, 234, 216, 0.55);
      }
      .integration-top {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 0.4rem;
      }
      .integration-status {
        display: inline-flex;
        border-radius: 999px;
        padding: 0.2rem 0.6rem;
        font-size: 0.76rem;
        border: 1px solid var(--line);
        color: var(--muted);
      }
      .integration-status.connected {
        border-color: rgba(124, 234, 216, 0.6);
        color: #d7fff4;
        background: rgba(124, 234, 216, 0.12);
      }
      .integration-meta {
        margin: 0.5rem 0 0;
        color: var(--muted);
      }
      .integration-actions {
        margin-top: 0.7rem;
      }
      .calendar-head {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.8rem;
        flex-wrap: wrap;
      }
      .calendar-nav {
        display: flex;
        align-items: center;
        gap: 0.45rem;
      }
      .calendar-nav button {
        min-width: 44px;
      }
      .calendar-label {
        margin: 0;
        font-weight: 700;
        letter-spacing: 0.02em;
      }
      .calendar-legend {
        margin: 0.4rem 0 0;
        color: var(--muted);
      }
      .calendar-feature-shell {
        margin-top: 0.45rem;
        display: grid;
        grid-template-columns: minmax(0, 1.75fr) minmax(250px, 0.95fr);
        gap: 0.55rem;
        align-items: start;
      }
      .calendar-feature-main {
        display: grid;
        gap: 0.42rem;
      }
      .calendar-stage {
        border: 1px solid rgba(124, 234, 216, 0.16);
        border-radius: 16px;
        background:
          radial-gradient(circle at 92% -8%, rgba(124, 234, 216, 0.08), transparent 44%),
          radial-gradient(circle at 10% -10%, rgba(109, 185, 255, 0.08), transparent 42%),
          rgba(8, 13, 23, 0.68);
        padding: 0.48rem;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.03);
      }
      .calendar-feature-rail {
        border: 1px solid rgba(124, 234, 216, 0.14);
        border-radius: 16px;
        background:
          radial-gradient(circle at 92% -10%, rgba(124, 234, 216, 0.07), transparent 42%),
          radial-gradient(circle at 10% -12%, rgba(109, 185, 255, 0.07), transparent 42%),
          rgba(8, 14, 26, 0.58);
        padding: 0.55rem;
        display: grid;
        gap: 0.45rem;
        position: sticky;
        top: 5.35rem;
      }
      .calendar-feature-meta {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 12px;
        background: rgba(255,255,255,0.03);
        padding: 0.45rem 0.5rem;
        color: var(--muted);
        line-height: 1.35;
        font-size: 0.76rem;
      }
      .calendar-feature-meta strong {
        color: var(--ink);
      }
      .calendar-feature-stats {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.38rem;
      }
      .calendar-feature-stats article {
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 12px;
        background: rgba(255,255,255,0.025);
        padding: 0.42rem 0.48rem;
        display: grid;
        gap: 0.12rem;
      }
      .calendar-feature-stats article p {
        margin: 0;
        color: var(--muted);
        font-size: 0.66rem;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }
      .calendar-feature-stats article strong {
        color: #e7f4ff;
        font-size: 0.95rem;
        line-height: 1.1;
      }
      .calendar-feature-stats article small {
        color: var(--muted);
        font-size: 0.68rem;
        line-height: 1.25;
      }
      .calendar-selected-day-card {
        border: 1px solid rgba(109, 185, 255, 0.14);
        border-radius: 14px;
        background:
          radial-gradient(circle at 90% -10%, rgba(109, 185, 255, 0.08), transparent 44%),
          rgba(255,255,255,0.02);
        padding: 0.5rem 0.55rem;
        display: grid;
        gap: 0.22rem;
      }
      .calendar-selected-day-card h3 {
        margin: 0;
        color: var(--ink);
        font-size: 0.78rem;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }
      .calendar-selected-day-card p {
        margin: 0;
        color: var(--muted);
        font-size: 0.75rem;
        line-height: 1.35;
      }
      .calendar-selected-day-list {
        list-style: none;
        margin: 0.1rem 0 0;
        padding: 0;
        display: grid;
        gap: 0.26rem;
      }
      .calendar-selected-day-list li {
        border: 1px solid rgba(255,255,255,0.05);
        border-radius: 10px;
        background: rgba(255,255,255,0.02);
        padding: 0.34rem 0.42rem;
        display: grid;
        gap: 0.08rem;
      }
      .calendar-selected-day-list li strong {
        color: var(--ink);
        font-size: 0.73rem;
      }
      .calendar-selected-day-list li small {
        color: var(--muted);
        font-size: 0.67rem;
        line-height: 1.25;
      }
      .calendar-weekdays,
      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, minmax(0, 1fr));
        gap: 0.4rem;
      }
      .calendar-weekdays span {
        color: var(--muted);
        font-size: 0.82rem;
        text-transform: uppercase;
        letter-spacing: 0.04em;
        padding: 0.2rem 0.12rem 0.1rem;
        text-align: center;
      }
      .calendar-day {
        min-height: 84px;
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.45rem;
        background: rgba(9, 15, 28, 0.82);
        transition: transform 150ms ease, border-color 150ms ease, background 150ms ease, box-shadow 150ms ease;
      }
      .calendar-day.empty {
        opacity: 0.45;
      }
      .calendar-day strong {
        display: block;
        font-size: 0.95rem;
        line-height: 1.1;
        margin-bottom: 0.12rem;
      }
      .calendar-day.is-today strong {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 1.85rem;
        height: 1.85rem;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.2);
        background: rgba(255,255,255,0.07);
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
        font-size: 0.92rem;
      }
      .calendar-day small {
        color: var(--muted);
      }
      .calendar-day .calendar-day-count.is-empty {
        visibility: hidden;
      }
      .calendar-day.has-bookings {
        border-color: rgba(124, 234, 216, 0.55);
        background: rgba(124, 234, 216, 0.1);
      }
      .calendar-day.selected {
        border-color: rgba(109, 185, 255, 0.72);
        box-shadow: inset 0 0 0 1px rgba(109,185,255,0.25);
        background: rgba(109, 185, 255, 0.12);
      }
      .calendar-day.has-bookings.is-today strong {
        border-color: rgba(124, 234, 216, 0.4);
        background: rgba(124, 234, 216, 0.12);
      }
      .calendar-day.selected.is-today strong {
        border-color: rgba(109, 185, 255, 0.5);
        background: rgba(109, 185, 255, 0.16);
        color: #d9ecff;
      }
      .calendar-day button.calendar-day-btn {
        all: unset;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 0.18rem;
        width: 100%;
        min-height: 100%;
        cursor: pointer;
        transition: transform 150ms ease;
      }
      .calendar-day-staff-dots {
        display: inline-flex;
        align-items: center;
        gap: 0.2rem;
        flex-wrap: wrap;
        margin-top: auto;
        min-height: 1rem;
      }
      .calendar-day-staff-dot {
        width: 16px;
        height: 16px;
        border-radius: 999px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: var(--staff-color, #7cead8);
        box-shadow: 0 0 0 1px rgba(255,255,255,0.12);
        color: rgba(8, 12, 20, 0.92);
        font-size: 0.54rem;
        font-weight: 700;
        line-height: 1;
      }
      .calendar-day-staff-more {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 14px;
        height: 14px;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.1);
        color: var(--muted);
        font-size: 0.6rem;
        line-height: 1;
        padding: 0 0.2rem;
      }
      .calendar-staff-legend {
        display: flex;
        align-items: center;
        gap: 0.35rem;
        flex-wrap: wrap;
        margin: 0.15rem 0 0.15rem;
        min-height: 1.4rem;
      }
      .calendar-staff-chip {
        display: inline-flex;
        align-items: center;
        gap: 0.32rem;
        border: 1px solid var(--line);
        border-radius: 999px;
        background: rgba(9, 15, 28, 0.62);
        color: var(--muted);
        font-size: 0.68rem;
        padding: 0.16rem 0.4rem 0.16rem 0.18rem;
      }
      .calendar-staff-chip .calendar-day-staff-dot {
        width: 15px;
        height: 15px;
        margin: 0;
      }
      .calendar-day:not(.empty):hover {
        transform: translateY(-2px);
        border-color: rgba(124, 234, 216, 0.34);
        background: rgba(124, 234, 216, 0.08);
        box-shadow: 0 8px 18px rgba(0, 0, 0, 0.22);
      }
      .ai-assistant-workspace {
        border: 1px solid rgba(124, 234, 216, 0.16);
        border-radius: 16px;
        background:
          radial-gradient(circle at 92% -10%, rgba(124, 234, 216, 0.08), transparent 42%),
          radial-gradient(circle at 10% -12%, rgba(109, 185, 255, 0.08), transparent 42%),
          rgba(8, 14, 26, 0.62);
        padding: 0.55rem;
        display: grid;
        gap: 0.45rem;
      }
      .ai-assistant-context {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 12px;
        background: rgba(255,255,255,0.03);
        padding: 0.45rem 0.5rem;
        color: var(--muted);
        font-size: 0.76rem;
        line-height: 1.35;
      }
      .ai-assistant-context strong {
        color: var(--ink);
      }
      .ai-assistant-scope-row {
        display: flex;
        gap: 0.35rem;
        flex-wrap: wrap;
      }
      .ai-scope-chip {
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 999px;
        background: rgba(255,255,255,0.03);
        color: var(--muted);
        padding: 0.2rem 0.48rem;
        font-size: 0.72rem;
        cursor: pointer;
        transition: border-color 140ms ease, background 140ms ease, color 140ms ease;
      }
      .ai-scope-chip.is-active {
        border-color: rgba(124, 234, 216, 0.24);
        background: rgba(124, 234, 216, 0.08);
        color: #d7fff4;
      }
      .ai-assistant-routine-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.38rem;
      }
      .ai-routine-btn {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 12px;
        background: rgba(255,255,255,0.03);
        color: var(--ink);
        padding: 0.46rem 0.5rem;
        text-align: left;
        display: grid;
        gap: 0.14rem;
        cursor: pointer;
        transition: border-color 140ms ease, background 140ms ease, transform 140ms ease;
      }
      .ai-routine-btn:hover {
        transform: translateY(-1px);
        border-color: rgba(124, 234, 216, 0.2);
        background: rgba(124, 234, 216, 0.05);
      }
      .ai-routine-btn strong {
        font-size: 0.78rem;
        line-height: 1.2;
      }
      .ai-routine-btn small {
        color: var(--muted);
        font-size: 0.69rem;
        line-height: 1.25;
      }
      .calendar-day:not(.empty):hover button.calendar-day-btn {
        transform: translateY(-1px);
      }
      .calendar-day.selected:hover {
        transform: translateY(-1px);
        box-shadow:
          inset 0 0 0 1px rgba(109,185,255,0.25),
          0 8px 18px rgba(0, 0, 0, 0.2);
      }
      .calendar-day.empty {
        pointer-events: none;
      }
      @media (min-width: 1101px) {
        body[data-role="subscriber"] .dash,
        body[data-role="admin"] .dash {
          width: min(1380px, 95vw);
          grid-template-columns: repeat(12, minmax(0, 1fr));
          align-items: start;
        }
        body[data-role="subscriber"] .dash > *,
        body[data-role="admin"] .dash > * {
          grid-column: 1 / -1;
        }
        body[data-role="subscriber"] .dash > .dash-top,
        body[data-role="admin"] .dash > .dash-top {
          order: 1;
          background:
            radial-gradient(circle at 85% -8%, rgba(109, 185, 255, 0.1), transparent 44%),
            rgba(9, 15, 28, 0.84);
          border: 1px solid rgba(124, 234, 216, 0.14);
          border-radius: 16px;
          padding: 0.75rem;
          box-shadow: 0 14px 28px rgba(0,0,0,0.2);
        }
        body[data-role="subscriber"] .dash > #dashboardQuickActionsSection,
        body[data-role="admin"] .dash > #dashboardQuickActionsSection {
          order: 2;
          grid-column: 1 / -1;
        }
        body[data-role="subscriber"] .dash > #moduleNavigatorSection,
        body[data-role="admin"] .dash > #moduleNavigatorSection {
          grid-column: 1 / -1;
          position: sticky;
          top: 0.7rem;
          background:
            radial-gradient(circle at 85% 0%, rgba(124, 234, 216, 0.08), transparent 48%),
            linear-gradient(150deg, rgba(13, 22, 39, 0.94), rgba(9, 14, 26, 0.95));
          box-shadow: 0 16px 36px rgba(0,0,0,0.32);
          z-index: 36;
        }
        body[data-role="subscriber"] .dash > #moduleNavigatorSection .module-grid,
        body[data-role="admin"] .dash > #moduleNavigatorSection .module-grid {
          grid-template-columns: repeat(6, minmax(0, 1fr));
        }
        body[data-role="subscriber"] .dash > #moduleNavigatorSection .module-group-grid,
        body[data-role="admin"] .dash > #moduleNavigatorSection .module-group-grid {
          grid-template-columns: repeat(6, minmax(0, 1fr));
        }
        body[data-role="subscriber"] .dash > #moduleNavigatorSection .module-card,
        body[data-role="admin"] .dash > #moduleNavigatorSection .module-card {
          min-height: 84px;
        }
        body[data-role="subscriber"] .dash > #subscriberCalendarSection,
        body[data-role="admin"] .dash > #subscriberCalendarSection {
          order: 3;
          grid-column: 1 / span 8;
        }
        body[data-role="subscriber"] .dash > #subscriberCalendarSection .calendar-grid,
        body[data-role="admin"] .dash > #subscriberCalendarSection .calendar-grid {
          gap: 0.45rem;
        }
        body[data-role="subscriber"] .dash > #subscriberCalendarSection {
          display: grid;
          align-content: start;
          gap: 0.35rem;
        }
        body[data-role="subscriber"] .dash > #subscriberCalendarSection .calendar-day,
        body[data-role="admin"] .dash > #subscriberCalendarSection .calendar-day {
          min-height: 92px;
        }
        body[data-role="subscriber"] .dash > #subscriberCopilotSection,
        body[data-role="admin"] .dash > #adminCopilotSection {
          order: 4;
          grid-column: 9 / -1;
          align-self: stretch;
        }
        body[data-role="subscriber"] .dash > #businessGrowthSection,
        body[data-role="admin"] .dash > #businessGrowthSection {
          order: 6;
          grid-column: 1 / -1;
        }
        body[data-role="subscriber"] .dash > #subscriberExecutivePulseSection,
        body[data-role="admin"] .dash > #subscriberExecutivePulseSection {
          order: 5;
          grid-column: 1 / -1;
        }
        body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-shell,
        body[data-role="admin"] .dash > #adminCopilotSection .copilot-shell {
          height: 100%;
        }
        body[data-role="subscriber"] .dash > #subscriberCalendarSection,
        body[data-role="admin"] .dash > #subscriberCalendarSection,
        body[data-role="subscriber"] .dash > #subscriberExecutivePulseSection,
        body[data-role="admin"] .dash > #subscriberExecutivePulseSection,
        body[data-role="subscriber"] .dash > #subscriberCopilotSection,
        body[data-role="admin"] .dash > #adminCopilotSection {
          min-height: 720px;
        }
        body[data-role="subscriber"] .dash > #subscriberCopilotSection,
        body[data-role="admin"] .dash > #adminCopilotSection {
          display: grid;
          height: 100%;
        }
        body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-shell,
        body[data-role="admin"] .dash > #adminCopilotSection .copilot-shell {
          grid-template-rows: auto auto minmax(0, 1fr);
          gap: 0.6rem;
        }
        body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-head p,
        body[data-role="admin"] .dash > #adminCopilotSection .copilot-head p {
          font-size: 0.84rem;
          line-height: 1.42;
          max-width: none;
        }
        body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-form textarea,
        body[data-role="admin"] .dash > #adminCopilotSection .copilot-form textarea {
          min-height: 72px;
          max-height: 110px;
        }
        body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-form-actions,
        body[data-role="admin"] .dash > #adminCopilotSection .copilot-form-actions {
          gap: 0.45rem;
        }
        body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-guardrail,
        body[data-role="admin"] .dash > #adminCopilotSection .copilot-guardrail {
          font-size: 0.75rem;
          line-height: 1.35;
        }
        body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-result,
        body[data-role="admin"] .dash > #adminCopilotSection .copilot-result {
          min-height: 0;
          height: 100%;
          overflow: auto;
          align-content: start;
          gap: 0.6rem;
        }
        body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-grid,
        body[data-role="admin"] .dash > #adminCopilotSection .copilot-grid {
          grid-template-columns: 1fr;
          gap: 0.55rem;
        }
        body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-card,
        body[data-role="admin"] .dash > #adminCopilotSection .copilot-card {
          padding: 0.58rem;
        }
        body[data-role="subscriber"] .dash > #subscriberCopilotSection .copilot-snapshot-grid,
        body[data-role="admin"] .dash > #adminCopilotSection .copilot-snapshot-grid {
          grid-template-columns: 1fr;
        }
      }
      @media (min-width: 1101px) {
        body[data-role="customer"] .dash {
          display: grid;
          grid-template-columns: repeat(12, minmax(0, 1fr));
          align-items: start;
        }
        body[data-role="customer"] .dash > * {
          grid-column: 1 / -1;
        }
        body[data-role="customer"] .dash > #customerJourneyActionsSection {
          grid-column: 1 / -1;
        }
        body[data-role="customer"] .dash > #customerSearchSection {
          grid-column: 1 / span 7;
        }
        body[data-role="customer"] .dash > #customerReceptionSection {
          grid-column: 8 / -1;
          align-self: start;
        }
        body[data-role="customer"] .dash > #customerReceptionSection .customer-chat-shell {
          border: 1px solid rgba(255,255,255,0.05);
          border-radius: 14px;
          background: rgba(8, 13, 23, 0.42);
          padding: 0.55rem;
        }
        body[data-role="customer"] .dash > #customerSlotsSection {
          grid-column: 1 / -1;
        }
        body[data-role="customer"] .dash > #customerLexiCalendarSection {
          grid-column: 1 / -1;
        }
        body[data-role="customer"] .dash > #customerHistorySection {
          grid-column: 1 / span 7;
        }
        body[data-role="customer"] .dash > #customerAnalyticsSection {
          grid-column: 8 / -1;
        }
      }
      .customer-search-form {
        display: grid;
        grid-template-columns: 1.4fr 1fr 1fr 0.8fr 1fr auto auto;
        gap: 0.55rem;
      }
      .customer-search-form input,
      .customer-search-form select {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.55rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
      }
      .customer-results,
      .customer-slots,
      .customer-history {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.55rem;
      }
      .customer-results li,
      .customer-slots li,
      .customer-history li {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.65rem;
        background: rgba(9, 15, 28, 0.82);
      }
      .customer-results li {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.7rem;
      }
      .customer-contact {
        margin-top: 0.6rem;
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.65rem;
        background: rgba(9, 15, 28, 0.82);
        color: var(--muted);
      }
      .customer-chat-shell {
        display: grid;
        gap: 0.6rem;
      }
      .customer-chat-head {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.75rem;
      }
      .customer-chat-kicker {
        margin: 0;
        color: #9cf5e8;
        font-size: 0.7rem;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        font-weight: 800;
      }
      .customer-chat-head strong {
        display: block;
        margin-top: 0.18rem;
        font-size: 0.95rem;
        line-height: 1.4;
      }
      .customer-chat-head small {
        max-width: 220px;
        color: var(--muted);
        line-height: 1.4;
      }
      .customer-chat-box {
        border: 1px solid rgba(255,255,255,0.11);
        border-radius: 18px;
        background:
          radial-gradient(circle at top right, rgba(124, 234, 216, 0.08), transparent 30%),
          linear-gradient(180deg, rgba(12, 18, 32, 0.96), rgba(8, 13, 24, 0.92));
        padding: 0.8rem;
        min-height: 230px;
        max-height: 340px;
        overflow: auto;
        display: grid;
        align-content: end;
        gap: 0.55rem;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.07);
        position: relative;
        isolation: isolate;
      }
      .customer-chat-box::before {
        display: none;
      }
      .customer-chat-box > * {
        position: relative;
        z-index: 1;
      }
      .customer-chat-msg {
        max-width: min(88%, 520px);
        border-radius: 16px;
        padding: 0.72rem 0.82rem;
        font-size: 0.93rem;
        line-height: 1.5;
      }
      .customer-chat-msg.user {
        justify-self: end;
        background: linear-gradient(180deg, rgba(101, 181, 255, 0.24), rgba(72, 124, 187, 0.18));
        border: 1px solid rgba(101, 181, 255, 0.38);
        color: #eff7ff;
        font-weight: 600;
      }
      .customer-chat-msg.ai {
        justify-self: start;
        background: linear-gradient(180deg, rgba(124, 234, 216, 0.08), rgba(255,255,255,0.02));
        border: 1px solid rgba(124, 234, 216, 0.24);
        color: #edf7ff;
        font-weight: 600;
      }
      .customer-chat-box .customer-chat-msg.user:last-child {
  text-shadow: none;
}
.customer-chat-box .customer-chat-msg.ai:last-child {
  text-shadow: none;
}
.customer-chat-form {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 0.55rem;
      }
      .customer-chat-form input {
        border: 1px solid var(--line);
        border-radius: 14px;
        padding: 0.7rem 0.85rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
      }
      .customer-analytics-grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 0.65rem;
      }
      .command-grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 0.7rem;
      }
      .command-card {
        border: 1px solid var(--line);
        border-radius: 12px;
        background: linear-gradient(150deg, var(--surface), var(--surface-2));
        padding: 0.75rem;
      }
      .command-card p {
        margin: 0;
        color: var(--muted);
      }
      .command-card strong {
        display: block;
        margin-top: 0.25rem;
        font-size: 1.2rem;
      }
      .action-list {
        margin: 0.8rem 0 0;
        padding: 0;
        list-style: none;
        display: grid;
        gap: 0.55rem;
      }
      .action-list li {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.6rem;
        background: rgba(9, 15, 28, 0.82);
        display: grid;
        gap: 0.45rem;
      }
      .action-list small {
        color: var(--muted);
      }
      .action-controls {
        display: flex;
        gap: 0.45rem;
        align-items: center;
        flex-wrap: wrap;
      }
      .action-controls .btn {
        padding: 0.3rem 0.65rem;
        font-size: 0.82rem;
      }
      .command-status {
        margin: 0.55rem 0 0;
        color: var(--muted);
        min-height: 1.1rem;
      }
      .staff-shell {
        display: grid;
        gap: 0.8rem;
      }
      .staff-rota-topbar {
        border: 1px solid var(--line);
        border-radius: 14px;
        padding: 0.65rem;
        background: linear-gradient(160deg, rgba(10, 18, 32, 0.85), rgba(12, 22, 36, 0.82));
        display: grid;
        gap: 0.6rem;
      }
      .staff-form {
        display: grid;
        grid-template-columns: 1.15fr 1fr 1fr 1.2fr auto;
        gap: 0.5rem;
      }
      .staff-form input,
      .staff-form select {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.55rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
      }
      .staff-rota-controls {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.55rem;
        flex-wrap: wrap;
      }
      .staff-week-nav {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        flex-wrap: wrap;
      }
      .staff-week-label {
        border: 1px solid var(--line);
        border-radius: 999px;
        padding: 0.35rem 0.7rem;
        background: rgba(9, 15, 28, 0.72);
        color: var(--ink);
        font-size: 0.8rem;
        white-space: nowrap;
      }
      .staff-rota-actions {
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        flex-wrap: wrap;
      }
      .staff-brush-group {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.25rem;
        border: 1px solid var(--line);
        border-radius: 12px;
        background: rgba(9, 15, 28, 0.62);
      }
      .staff-brush-group label {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        color: var(--muted);
        font-size: 0.72rem;
      }
      .staff-brush-select {
        border: 1px solid var(--line);
        border-radius: 8px;
        background: rgba(9, 15, 28, 0.86);
        color: var(--ink);
        padding: 0.3rem 0.45rem;
        font-size: 0.74rem;
      }
      .staff-summary {
        display: grid;
        grid-template-columns: repeat(5, minmax(0, 1fr));
        gap: 0.55rem;
      }
      .staff-summary article {
        border: 1px solid var(--line);
        border-radius: 12px;
        padding: 0.6rem;
        background:
          radial-gradient(circle at 92% -12%, rgba(124, 234, 216, 0.08), transparent 42%),
          rgba(9, 15, 28, 0.82);
      }
      .staff-summary p {
        margin: 0;
        color: var(--muted);
        font-size: 0.76rem;
      }
      .staff-summary strong {
        display: block;
        margin-top: 0.2rem;
        font-size: 1rem;
      }
      .staff-rota-board {
        display: grid;
        grid-template-columns: minmax(260px, 320px) minmax(0, 1fr);
        gap: 0.7rem;
        align-items: start;
        min-height: 0;
      }
      .staff-rota-rail,
      .staff-rota-grid-shell,
      .staff-coverage-shell {
        border: 1px solid var(--line);
        border-radius: 14px;
        background:
          radial-gradient(circle at 92% -12%, rgba(124, 234, 216, 0.06), transparent 44%),
          rgba(9, 15, 28, 0.8);
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.03);
      }
      .staff-rota-rail {
        padding: 0.6rem;
        display: grid;
        gap: 0.55rem;
        min-height: 0;
        max-height: 58vh;
        overflow: auto;
      }
      .staff-rota-rail-head,
      .staff-rota-grid-head {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.5rem;
        flex-wrap: wrap;
        position: sticky;
        top: 0;
        z-index: 2;
        margin: -0.6rem -0.6rem 0;
        padding: 0.6rem;
        border-bottom: 1px solid rgba(255,255,255,0.05);
        background:
          linear-gradient(180deg, rgba(14, 22, 36, 0.96), rgba(14, 22, 36, 0.88));
        border-top-left-radius: 14px;
        border-top-right-radius: 14px;
      }
      .staff-rota-rail-head p,
      .staff-rota-grid-head p {
        margin: 0.2rem 0 0;
        color: var(--muted);
        font-size: 0.75rem;
      }
      .staff-list {
        list-style: none;
        margin: 0;
        padding: 0.1rem 0 0;
        display: grid;
        gap: 0.5rem;
        max-height: 520px;
        overflow: auto;
      }
      .staff-list li {
        border: 1px solid var(--line);
        border-radius: 12px;
        padding: 0.55rem;
        background: rgba(9, 15, 28, 0.72);
        display: grid;
        gap: 0.45rem;
      }
      .staff-list li.is-selected {
        border-color: rgba(124, 234, 216, 0.35);
        box-shadow: 0 0 0 1px rgba(124, 234, 216, 0.12) inset;
      }
      .staff-meta-line {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.5rem;
      }
      .staff-role-pill {
        display: inline-flex;
        align-items: center;
        border-radius: 999px;
        border: 1px solid var(--line);
        padding: 0.16rem 0.45rem;
        color: var(--muted);
        font-size: 0.72rem;
        text-transform: capitalize;
      }
      .staff-color-dot {
        width: 9px;
        height: 9px;
        border-radius: 999px;
        display: inline-block;
        margin-right: 0.35rem;
        box-shadow: 0 0 0 2px rgba(255,255,255,0.04);
        background: var(--staff-color, #7cead8);
      }
      .staff-color-legend {
        display: flex;
        align-items: center;
        gap: 0.35rem;
        flex-wrap: wrap;
      }
      .staff-color-chip {
        display: inline-flex;
        align-items: center;
        gap: 0.28rem;
        border: 1px solid var(--line);
        border-radius: 999px;
        padding: 0.18rem 0.45rem;
        background: rgba(9, 15, 28, 0.58);
        color: var(--muted);
        font-size: 0.69rem;
        white-space: nowrap;
      }
      .staff-meta small {
        color: var(--muted);
        line-height: 1.35;
      }
      .staff-actions {
        display: flex;
        gap: 0.35rem;
        flex-wrap: wrap;
      }
      .staff-actions .btn {
        padding: 0.3rem 0.55rem;
        font-size: 0.74rem;
      }
      .staff-actions .btn.staff-sick {
        border-color: rgba(255, 148, 156, 0.35);
      }
      .staff-rota-grid-shell {
        padding: 0.6rem;
        display: grid;
        gap: 0.55rem;
        min-width: 0;
        min-height: 0;
        overflow: hidden;
      }
      .staff-rota-grid-scroll {
        overflow-x: auto;
        overflow-y: visible;
        border-radius: 10px;
        max-height: 58vh;
        touch-action: pan-x pan-y;
        overscroll-behavior: auto;
        -webkit-overflow-scrolling: touch;
        border: 1px solid rgba(255,255,255,0.05);
        background: rgba(6, 11, 20, 0.24);
        padding: 0.35rem;
      }
      .staff-rota-grid {
        min-width: 700px;
        display: grid;
        grid-template-columns: repeat(7, minmax(76px, 1fr));
        gap: 0.35rem;
      }
      .staff-rota-col-head,
      .staff-rota-row-head,
      .staff-rota-cell,
      .staff-rota-day-cell {
        border: 1px solid var(--line);
        border-radius: 10px;
        background: rgba(9, 15, 28, 0.7);
      }
      .staff-rota-col-head {
        padding: 0.45rem;
        text-align: center;
        display: grid;
        gap: 0.14rem;
        position: sticky;
        top: 0;
        z-index: 1;
        backdrop-filter: blur(4px);
      }
      .staff-rota-col-head strong {
        font-size: 0.82rem;
      }
      .staff-rota-col-head small {
        color: var(--muted);
        font-size: 0.7rem;
      }
      .staff-rota-row-head {
        padding: 0.5rem 0.55rem;
        display: grid;
        gap: 0.16rem;
        align-content: center;
        border-left: 3px solid var(--staff-color, rgba(124, 234, 216, 0.3));
        min-width: 0;
      }
      .staff-rota-row-head small {
        color: var(--muted);
      }
      .staff-rota-cell {
        min-height: 54px;
        padding: 0.3rem;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: border-color 150ms ease, transform 150ms ease, box-shadow 150ms ease;
        position: relative;
        touch-action: manipulation;
      }
      .staff-rota-day-cell {
        min-height: 62px;
        padding: 0.38rem;
        display: flex;
        align-items: center;
      }
      .staff-rota-day-dots {
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.28rem;
        flex-wrap: wrap;
      }
      .staff-rota-dot-btn {
        all: unset;
        width: 20px;
        height: 20px;
        border-radius: 999px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: var(--staff-color, #7cead8);
        color: rgba(8, 12, 20, 0.92);
        font-size: 0.52rem;
        font-weight: 800;
        line-height: 1;
        cursor: pointer;
        box-shadow: 0 0 0 1px rgba(255,255,255,0.16);
        transition: transform 120ms ease, box-shadow 120ms ease;
      }
      .staff-rota-dot-btn:hover {
        transform: translateY(-1px);
      }
      .staff-rota-dot-btn.is-selected {
        box-shadow:
          0 0 0 2px rgba(255,255,255,0.16),
          0 0 0 4px color-mix(in srgb, var(--staff-color, #7cead8) 34%, transparent);
      }
      .staff-rota-day-empty {
        color: var(--muted);
        font-size: 0.68rem;
        line-height: 1;
      }
      .staff-rota-cell::before {
        content: "";
        position: absolute;
        inset: 0 auto 0 0;
        width: 4px;
        border-radius: 10px 0 0 10px;
        background: var(--staff-color, rgba(124, 234, 216, 0.4));
        opacity: 0.9;
        pointer-events: none;
      }
      .staff-rota-cell:hover {
        transform: translateY(-1px);
        border-color: rgba(124, 234, 216, 0.24);
      }
      .staff-rota-cell.is-selected {
        box-shadow: 0 0 0 1px rgba(124, 234, 216, 0.14) inset;
      }
      .staff-rota-cell strong {
        font-size: 0.74rem;
      }
      .staff-rota-cell small {
        color: var(--muted);
        font-size: 0.66rem;
        line-height: 1.2;
      }
      .staff-rota-cell-shift {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.08);
        background: rgba(255,255,255,0.03);
        color: var(--muted);
        font-size: 0.62rem;
        line-height: 1;
        padding: 0.14rem 0.3rem;
        margin-left: 0.25rem;
      }
      .staff-rota-cell .staff-cell-dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        display: inline-block;
      }
      .staff-rota-cell .staff-cell-dot-lg {
        width: 14px;
        height: 14px;
        border-radius: 999px;
        display: inline-block;
        opacity: 0;
        transform: scale(0.7);
        box-shadow: 0 0 0 1px rgba(255,255,255,0.14);
        transition: opacity 120ms ease, transform 120ms ease;
      }
      .staff-rota-cell .staff-cell-dot-lg.is-visible {
        opacity: 1;
        transform: scale(1);
      }
      .staff-rota-cell[data-status="scheduled"] {
        border-color: rgba(124, 234, 216, 0.22);
        background:
          linear-gradient(180deg, color-mix(in srgb, var(--staff-color, #7cead8) 10%, transparent), transparent 70%),
          rgba(124, 234, 216, 0.08);
      }
      .staff-rota-cell[data-status="available"] {
        border-color: rgba(109, 185, 255, 0.2);
        background:
          linear-gradient(180deg, color-mix(in srgb, var(--staff-color, #6db9ff) 8%, transparent), transparent 70%),
          rgba(109, 185, 255, 0.06);
      }
      .staff-rota-cell[data-status="off"] {
        opacity: 0.85;
      }
      .staff-rota-cell[data-status="sick"] {
        border-color: rgba(255, 148, 156, 0.35);
        background: rgba(255, 148, 156, 0.1);
      }
      .staff-rota-cell[data-status="covering"] {
        border-color: rgba(255, 203, 107, 0.3);
        background: rgba(255, 203, 107, 0.1);
      }
      .staff-rota-footnote {
        margin: 0;
        color: var(--muted);
        font-size: 0.75rem;
      }
      .staff-coverage-shell {
        padding: 0.6rem;
        display: grid;
        gap: 0.55rem;
        max-height: 30vh;
        overflow: auto;
        min-height: 0;
      }
      .module-workspace-body > #staffRosterSection .staff-rota-board {
        grid-template-columns: 1fr;
      }
      .module-workspace-body > #staffRosterSection .staff-rota-rail,
      .module-workspace-body > #staffRosterSection .staff-rota-grid-shell {
        max-width: 100%;
      }
      .module-workspace-body > #staffRosterSection .staff-rota-rail {
        max-height: none;
        overflow: visible;
      }
      .module-workspace-body > #staffRosterSection .staff-rota-grid-scroll {
        max-height: none;
        overflow-x: auto;
        overflow-y: visible;
      }
      .module-workspace-body > #staffRosterSection .staff-coverage-shell {
        max-height: none;
        overflow: visible;
      }
      .module-workspace-body > #staffRosterSection .staff-list {
        max-height: none;
        overflow: visible;
      }
      .staff-coverage-strip {
        display: grid;
        grid-template-columns: repeat(7, minmax(0, 1fr));
        gap: 0.35rem;
      }
      .staff-capacity-pill {
        border: 1px solid var(--line);
        border-radius: 10px;
        background: rgba(9, 15, 28, 0.72);
        padding: 0.38rem 0.42rem;
        display: grid;
        gap: 0.12rem;
      }
      .staff-capacity-pill small {
        color: var(--muted);
        font-size: 0.68rem;
      }
      .staff-capacity-pill strong {
        font-size: 0.76rem;
      }
      .staff-capacity-pill.is-warning {
        border-color: rgba(255, 203, 107, 0.28);
        background: rgba(255, 203, 107, 0.08);
      }
      .staff-capacity-pill.is-risk {
        border-color: rgba(255, 148, 156, 0.3);
        background: rgba(255, 148, 156, 0.08);
      }
      .staff-coverage-list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.45rem;
      }
      .staff-coverage-list li {
        border: 1px solid var(--line);
        border-radius: 10px;
        background: rgba(9, 15, 28, 0.68);
        padding: 0.5rem 0.55rem;
        display: grid;
        gap: 0.2rem;
      }
      .staff-coverage-list li strong {
        font-size: 0.8rem;
      }
      .staff-coverage-list li small {
        color: var(--muted);
        line-height: 1.3;
      }
      .staff-status-note {
        margin: 0;
        color: var(--muted);
        min-height: 1rem;
      }
      @media (max-width: 1100px) {
        .staff-form {
          grid-template-columns: 1fr 1fr;
        }
        .staff-form .btn {
          grid-column: 1 / -1;
        }
        .staff-summary {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .staff-rota-board {
          grid-template-columns: 1fr;
        }
        .staff-list {
          max-height: none;
        }
      }
      @media (max-width: 640px) {
        #subscriberCalendarSection .calendar-day .calendar-day-count,
        .module-workspace-body #subscriberCalendarSection .calendar-day .calendar-day-count,
        .module-workspace-body .calendar-day .calendar-day-count {
          display: none !important;
        }
        .staff-week-nav,
        .staff-rota-actions {
          width: 100%;
        }
        .staff-week-nav .btn,
        .staff-rota-actions .btn {
          flex: 1 1 auto;
        }
        .staff-week-label {
          width: 100%;
          text-align: center;
        }
        .staff-summary {
          grid-template-columns: 1fr;
        }
        .staff-coverage-strip {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .staff-rota-grid-scroll {
          max-height: 44vh;
        }
        .staff-rota-dot-btn {
          width: 24px;
          height: 24px;
          font-size: 0.62rem;
        }
        .staff-rota-day-cell {
          min-height: 72px;
        }
        .module-workspace-body > #staffRosterSection {
          max-height: none;
        }
        .staff-rota-rail {
          max-height: 32vh;
        }
        .staff-coverage-shell {
          max-height: 24vh;
        }
      }
      .waitlist-shell {
        display: grid;
        gap: 0.8rem;
      }
      .waitlist-form {
        display: grid;
        grid-template-columns: 1.1fr 1fr 1fr 1fr 1fr auto;
        gap: 0.5rem;
      }
      .waitlist-form input {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.55rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
      }
      .waitlist-summary {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 0.55rem;
      }
      .waitlist-summary article {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.55rem;
        background: rgba(9, 15, 28, 0.82);
      }
      .waitlist-summary p {
        margin: 0;
        color: var(--muted);
      }
      .waitlist-summary strong {
        display: block;
        margin-top: 0.2rem;
      }
      .waitlist-list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.55rem;
      }
      .waitlist-list li {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.6rem;
        background: rgba(9, 15, 28, 0.82);
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.6rem;
      }
      .waitlist-meta small {
        color: var(--muted);
      }
      .waitlist-actions {
        display: flex;
        gap: 0.4rem;
      }
      .waitlist-status-note {
        margin: 0;
        color: var(--muted);
        min-height: 1rem;
      }
      .ops-shell {
        display: grid;
        gap: 0.8rem;
      }
      .ops-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.7rem;
      }
      .ops-list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.55rem;
      }
      .ops-list li {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.6rem;
        background: rgba(9, 15, 28, 0.82);
        display: grid;
        gap: 0.45rem;
      }
      .ops-list small {
        color: var(--muted);
      }
      .ops-actions {
        display: flex;
        gap: 0.4rem;
        flex-wrap: wrap;
      }
      .ops-status-note {
        margin: 0;
        color: var(--muted);
        min-height: 1rem;
      }
      .crm-shell {
        display: grid;
        gap: 0.8rem;
      }
      .crm-list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.6rem;
      }
      .crm-list li {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.6rem;
        background: rgba(9, 15, 28, 0.82);
        display: grid;
        gap: 0.4rem;
      }
      .crm-list small {
        color: var(--muted);
      }
      .crm-actions {
        display: flex;
        gap: 0.4rem;
        flex-wrap: wrap;
      }
      .crm-status-note {
        margin: 0;
        color: var(--muted);
        min-height: 1rem;
      }
      .commercial-shell {
        display: grid;
        gap: 0.8rem;
      }
      .commercial-grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 0.7rem;
      }
      .commercial-form {
        display: grid;
        gap: 0.45rem;
      }
      .commercial-form input,
      .commercial-form select {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.55rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
      }
      .commercial-list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.55rem;
      }
      .commercial-list li {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.6rem;
        background: rgba(9, 15, 28, 0.82);
        display: grid;
        gap: 0.4rem;
      }
      .commercial-list small {
        color: var(--muted);
      }
      .commercial-summary {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 0.55rem;
      }
      .commercial-summary article {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.55rem;
        background: rgba(9, 15, 28, 0.82);
      }
      .commercial-summary p {
        margin: 0;
        color: var(--muted);
      }
      .commercial-summary strong {
        display: block;
        margin-top: 0.2rem;
      }
      .commercial-actions {
        display: flex;
        gap: 0.4rem;
        flex-wrap: wrap;
      }
      .commercial-status-note {
        margin: 0;
        color: var(--muted);
        min-height: 1rem;
      }
      .revenue-shell {
        display: grid;
        gap: 0.8rem;
      }
      .revenue-summary {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 0.55rem;
      }
      .revenue-summary article {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.55rem;
        background: rgba(9, 15, 28, 0.82);
      }
      .revenue-summary p {
        margin: 0;
        color: var(--muted);
      }
      .revenue-summary strong {
        display: block;
        margin-top: 0.2rem;
      }
      .revenue-form {
        display: grid;
        grid-template-columns: 1fr 1fr auto;
        gap: 0.5rem;
      }
      .revenue-form input,
      .revenue-form select {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.55rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
      }
      .revenue-list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.55rem;
      }
      .revenue-list li {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.6rem;
        background: rgba(9, 15, 28, 0.82);
        display: grid;
        gap: 0.35rem;
      }
      .revenue-list small {
        color: var(--muted);
      }
      .revenue-status-note {
        margin: 0;
        color: var(--muted);
        min-height: 1rem;
      }
      .admin-revenue-shell {
        display: grid;
        gap: 0.85rem;
      }
      .admin-revenue-actions {
        display: flex;
        justify-content: flex-end;
        gap: 0.55rem;
        flex-wrap: wrap;
      }
      .admin-revenue-summary {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 0.55rem;
      }
      .admin-revenue-summary article {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.55rem;
        background: rgba(9, 15, 28, 0.82);
      }
      .admin-revenue-summary p {
        margin: 0;
        color: var(--muted);
      }
      .admin-revenue-summary strong {
        display: block;
        margin-top: 0.2rem;
      }
      .admin-revenue-charts {
        display: grid;
        grid-template-columns: 1.6fr 1fr;
        gap: 0.7rem;
      }
      .admin-chart-card {
        border: 1px solid var(--line);
        border-radius: 12px;
        padding: 0.7rem;
        background: rgba(9, 15, 28, 0.82);
      }
      .admin-chart-card h3 {
        margin: 0 0 0.55rem;
        font-size: 0.95rem;
      }
      .admin-chart-bars {
        display: grid;
        grid-template-columns: repeat(6, minmax(0, 1fr));
        gap: 0.45rem;
        align-items: end;
        min-height: 190px;
      }
      .admin-chart-col {
        display: grid;
        gap: 0.4rem;
        justify-items: center;
      }
      .admin-bar-stack {
        width: 100%;
        min-height: 130px;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        gap: 0.22rem;
      }
      .admin-bar {
        border-radius: 8px 8px 4px 4px;
        min-height: 8px;
      }
      .admin-bar.revenue {
        width: min(26px, 70%);
        height: var(--bar-height, 8px);
        background: linear-gradient(180deg, rgba(124, 234, 216, 0.98), rgba(124, 234, 216, 0.42));
      }
      .admin-bar.sub-cancel {
        width: 38%;
        height: var(--bar-height, 8px);
        background: linear-gradient(180deg, rgba(255, 203, 107, 0.98), rgba(255, 203, 107, 0.4));
      }
      .admin-bar.booking-cancel {
        width: 38%;
        height: var(--bar-height, 8px);
        background: linear-gradient(180deg, rgba(255, 141, 141, 0.98), rgba(255, 141, 141, 0.4));
      }
      .admin-chart-col small {
        color: var(--muted);
        text-align: center;
      }
      .admin-chart-legend {
        margin-top: 0.55rem;
        display: flex;
        flex-wrap: wrap;
        gap: 0.6rem;
        color: var(--muted);
        font-size: 0.8rem;
      }
      .admin-chart-legend span {
        display: inline-flex;
        align-items: center;
        gap: 0.3rem;
      }
      .admin-chart-dot {
        width: 10px;
        height: 10px;
        border-radius: 999px;
        display: inline-block;
      }
      .admin-chart-dot.sub {
        background: rgba(255, 203, 107, 0.95);
      }
      .admin-chart-dot.booking {
        background: rgba(255, 141, 141, 0.95);
      }
      .admin-revenue-note {
        margin: 0;
        color: var(--muted);
        min-height: 1rem;
      }
      .profit-shell {
        display: grid;
        gap: 0.8rem;
      }
      .profit-summary {
        display: grid;
        grid-template-columns: repeat(5, minmax(0, 1fr));
        gap: 0.55rem;
      }
      .profit-summary article {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.55rem;
        background: rgba(9, 15, 28, 0.82);
      }
      .profit-summary p {
        margin: 0;
        color: var(--muted);
      }
      .profit-summary strong {
        display: block;
        margin-top: 0.2rem;
      }
      .profit-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.7rem;
      }
      .profit-form {
        display: grid;
        gap: 0.45rem;
      }
      .profit-form input {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.55rem;
        background: rgba(9, 15, 28, 0.88);
        color: var(--ink);
      }
      .profit-list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.55rem;
      }
      .profit-list li {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.6rem;
        background: rgba(9, 15, 28, 0.82);
        display: grid;
        gap: 0.35rem;
      }
      .profit-list small {
        color: var(--muted);
      }
      .profit-actions {
        display: flex;
        gap: 0.4rem;
        flex-wrap: wrap;
      }
      .profit-status-note {
        margin: 0;
        color: var(--muted);
        min-height: 1rem;
      }
      .dash {
        position: relative;
        width: min(1280px, 95vw);
        margin: 1.25rem auto 2rem;
        padding-bottom: 1rem;
      }
      .dash::before {
        content: "";
        position: absolute;
        inset: -40px -30px auto -30px;
        height: 220px;
        background:
          radial-gradient(circle at 8% 10%, rgba(124, 234, 216, 0.16), transparent 36%),
          radial-gradient(circle at 70% 10%, rgba(89, 169, 255, 0.2), transparent 40%);
        pointer-events: none;
        z-index: -1;
      }
      .panel {
        position: relative;
        overflow: hidden;
        border: 1px solid rgba(156, 191, 255, 0.32);
        border-radius: 18px;
        background:
          linear-gradient(160deg, rgba(18, 29, 52, 0.9), rgba(11, 19, 35, 0.92)),
          radial-gradient(circle at 100% 0%, rgba(124, 234, 216, 0.1), transparent 42%);
        box-shadow: 0 16px 40px rgba(0, 0, 0, 0.4);
        animation: panelIn 420ms ease both;
        transition: border-color 0.22s ease, box-shadow 0.22s ease, transform 0.22s ease;
      }
      .panel::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(120deg, rgba(124, 234, 216, 0.06), transparent 32%);
        pointer-events: none;
      }
      .panel h2,
      .panel h3 {
        letter-spacing: 0.01em;
      }
      .panel-focus {
        border-color: rgba(124, 234, 216, 0.66) !important;
        box-shadow: 0 16px 44px rgba(6, 14, 28, 0.56), 0 0 0 2px rgba(124, 234, 216, 0.18);
        animation: panelFocusPulse 520ms ease;
      }
      .dash-top {
        border-color: rgba(124, 234, 216, 0.45);
        background:
          linear-gradient(145deg, rgba(16, 30, 56, 0.95), rgba(10, 20, 38, 0.95)),
          radial-gradient(circle at 85% 0%, rgba(124, 234, 216, 0.14), transparent 46%);
      }
      .dash-top h1 {
        font-family: "Sora", "Manrope", sans-serif;
        font-size: clamp(1.45rem, 2.2vw, 1.95rem);
      }
      .dash-grid .dash-card,
      .command-card,
      .staff-summary article,
      .waitlist-summary article,
      .commercial-summary article,
      .revenue-summary article,
      .profit-summary article {
        border-radius: 14px;
        border-color: rgba(156, 191, 255, 0.34);
        background: linear-gradient(160deg, rgba(15, 27, 50, 0.92), rgba(11, 20, 37, 0.92));
      }
      .bookings-list li,
      .staff-list li,
      .waitlist-list li,
      .ops-list li,
      .crm-list li,
      .commercial-list li,
      .revenue-list li,
      .profit-list li,
      .action-list li {
        border-color: rgba(156, 191, 255, 0.28);
        border-radius: 12px;
        background: linear-gradient(155deg, rgba(13, 23, 42, 0.9), rgba(9, 17, 31, 0.9));
      }
      .frontdesk-hero {
        border-color: rgba(124, 234, 216, 0.45);
        background:
          radial-gradient(circle at 10% 0%, rgba(124, 234, 216, 0.16), transparent 34%),
          radial-gradient(circle at 84% 0%, rgba(89, 169, 255, 0.18), transparent 38%),
          linear-gradient(155deg, rgba(18, 30, 54, 0.92), rgba(10, 19, 35, 0.94));
      }
      .frontdesk-contact {
        margin-bottom: 0.9rem;
        display: flex;
        justify-content: flex-end;
      }
      .frontdesk-contact .btn {
        border-radius: 10px;
        padding: 0.48rem 1rem;
      }
      .frontdesk-head {
        display: flex;
        align-items: center;
        gap: 1.15rem;
      }
      .frontdesk-logo {
        width: 72px;
        height: 72px;
        border-radius: 50%;
        background: #fff;
        box-shadow: 0 2px 10px rgba(124, 234, 216, 0.16);
      }
      .frontdesk-name {
        margin: 0;
        font-size: clamp(1.35rem, 2.2vw, 1.9rem);
        font-family: "Sora", "Manrope", sans-serif;
      }
      .frontdesk-meta {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-top: 0.2rem;
        flex-wrap: wrap;
      }
      .frontdesk-rating {
        color: #7cead8;
        font-weight: 800;
      }
      .frontdesk-columns {
        margin-top: 1.2rem;
        display: flex;
        gap: 1.2rem;
        flex-wrap: wrap;
      }
      .frontdesk-col {
        flex: 1;
        min-width: 220px;
      }
      .frontdesk-chat {
        margin-top: 1rem;
      }
      .frontdesk-chatbox {
        border: 1px solid rgba(255,255,255,0.11);
        border-radius: 14px;
        padding: 0.8rem;
        min-height: 104px;
        background-color: rgba(255,255,255,0.06);
        background-image: url("/Salon_AI_IMG.png");
        background-position: center 18%;
        background-size: cover;
        background-repeat: no-repeat;
        background-blend-mode: screen;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.07);
        position: relative;
        isolation: isolate;
        overflow: hidden;
        color: #060b13;
        font-weight: 700;
        line-height: 1.45;
        text-shadow:
          0 1px 0 rgba(255, 255, 255, 0.92),
          0 0 10px rgba(255, 255, 255, 0.78),
          0 0 18px rgba(255, 255, 255, 0.42);
      }
      .frontdesk-chatbox::before {
        display: none;
      }
      .frontdesk-chatbox > * {
        position: relative;
        z-index: 1;
      }
      .panel:nth-of-type(2) { animation-delay: 40ms; }
      .panel:nth-of-type(3) { animation-delay: 80ms; }
      .panel:nth-of-type(4) { animation-delay: 120ms; }
      .panel:nth-of-type(5) { animation-delay: 160ms; }
      .panel:nth-of-type(6) { animation-delay: 200ms; }
      .panel:nth-of-type(7) { animation-delay: 240ms; }
      .panel:nth-of-type(8) { animation-delay: 280ms; }
      .panel:nth-of-type(9) { animation-delay: 320ms; }
      @keyframes panelIn {
        from { opacity: 0; transform: translateY(8px); }
        to { opacity: 1; transform: translateY(0); }
      }
      @keyframes panelFocusPulse {
        0% { transform: translateY(0) scale(0.998); }
        45% { transform: translateY(-1px) scale(1); }
        100% { transform: translateY(0) scale(1); }
      }
      input:focus,
      select:focus {
        outline: none;
        border-color: rgba(124, 234, 216, 0.52);
        box-shadow: 0 0 0 2px rgba(124, 234, 216, 0.12);
      }
      .bookings-list li,
      .staff-list li,
      .waitlist-list li,
      .crm-list li,
      .commercial-list li,
      .revenue-list li,
      .profit-list li,
      .command-card {
        transition: border-color 0.18s ease, transform 0.18s ease;
      }
      .bookings-list li:hover,
      .staff-list li:hover,
      .waitlist-list li:hover,
      .crm-list li:hover,
      .commercial-list li:hover,
      .revenue-list li:hover,
      .profit-list li:hover,
      .command-card:hover {
        border-color: rgba(124, 234, 216, 0.45);
        transform: translateY(-1px);
      }
      .status-chip:hover {
        border-color: rgba(124, 234, 216, 0.55);
      }
      @media (max-width: 1000px) {
        .dash-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .command-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .live-cards {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .live-grid {
          grid-template-columns: 1fr;
        }
        .staff-summary {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .waitlist-summary {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .ops-grid {
          grid-template-columns: 1fr;
        }
        .commercial-grid {
          grid-template-columns: 1fr;
        }
        .commercial-summary {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .revenue-summary {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .admin-revenue-summary {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .admin-revenue-charts {
          grid-template-columns: 1fr;
        }
        .profit-summary {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .profit-grid {
          grid-template-columns: 1fr;
        }
        .customer-search-form {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .customer-analytics-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }
      @media (min-width: 701px) and (max-width: 1024px) {
        .dash {
          width: min(96vw, 96vw);
          gap: 0.78rem;
        }
        .panel {
          border-radius: 15px;
        }
        .module-grid {
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
        .module-group-grid {
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
        .module-navigator {
          position: static;
          top: auto;
          z-index: auto;
        }
        .module-navigator-inline {
          padding: 0.65rem;
        }
        .workspace-actions-grid {
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
        .customer-journey-grid {
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
        .growth-grid {
          grid-template-columns: repeat(12, minmax(0, 1fr));
        }
        .growth-card-onboarding {
          grid-column: 1 / -1;
        }
        .growth-card-compact {
          grid-column: span 6;
        }
        .onboarding-quick-actions {
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
        .onboarding-setup-grid {
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
        .live-cards {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .live-grid {
          grid-template-columns: 1fr;
        }
        .accounting-form {
          grid-template-columns: 1fr 1fr;
        }
        .executive-signal-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .executive-pulse-grid {
          grid-template-columns: 1fr;
        }
        .executive-pulse-deep-grid {
          grid-template-columns: 1fr;
        }
        .executive-finance-stats {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .copilot-grid {
          grid-template-columns: 1fr;
        }
        .copilot-snapshot-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }
      @media (max-height: 520px) and (orientation: landscape) {
        .dash {
          margin: 0.55rem auto 0.9rem;
          gap: 0.58rem;
        }
        .panel {
          padding: 0.58rem;
          border-radius: 11px;
          box-shadow: 0 8px 18px rgba(0, 0, 0, 0.26);
        }
        .panel h2 {
          font-size: 0.94rem;
        }
        .panel h3 {
          font-size: 0.88rem;
        }
        .panel p,
        .panel small,
        .panel li {
          font-size: 0.8rem;
          line-height: 1.4;
        }
        .dash-top h1 {
          font-size: 1.04rem;
        }
        .frontdesk-logo {
          width: 52px;
          height: 52px;
        }
        .frontdesk-name {
          font-size: 1.08rem;
        }
        .billing-actions {
          gap: 0.38rem;
        }
        .billing-actions .btn,
        .billing-actions select {
          min-height: 38px;
          font-size: 0.76rem;
        }
        .module-navigator {
          position: static;
          top: auto;
          z-index: auto;
        }
        .module-grid {
          grid-template-columns: repeat(3, minmax(0, 1fr));
          gap: 0.42rem;
        }
        .module-group {
          padding: 0.45rem;
          border-radius: 12px;
        }
        .module-group-grid {
          grid-template-columns: repeat(3, minmax(0, 1fr));
          gap: 0.42rem;
        }
      }
      @media (max-width: 700px) {
        .dash {
          gap: 0.7rem;
          margin: 0.85rem auto 1.25rem;
        }
        .panel {
          border-radius: 14px;
          box-shadow: 0 10px 24px rgba(0, 0, 0, 0.32);
        }
        .panel h2 {
          font-size: 1.04rem;
        }
        .panel h3 {
          font-size: 0.96rem;
        }
        .panel p,
        .panel small,
        .panel li {
          font-size: 0.88rem;
          line-height: 1.45;
        }
        .dash-top h1 {
          font-size: 1.24rem;
        }
        .dash-role-hint {
          font-size: 0.78rem;
        }
        .btn {
          font-size: 0.82rem;
          padding: 0.5rem 0.72rem;
        }
        .module-card {
          padding: 0.5rem;
        }
        .module-card strong {
          font-size: 0.88rem;
        }
        .module-card small {
          font-size: 0.76rem;
        }
        .module-card .module-card-summary {
          min-height: auto;
          -webkit-line-clamp: 3;
        }
        .workspace-actions-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
          gap: 0.45rem;
        }
        .workspace-star-grid {
          grid-template-columns: 1fr;
        }
        .workspace-star-head {
          align-items: stretch;
        }
        .workspace-star-actions {
          width: 100%;
        }
        .workspace-star-actions .btn {
          flex: 1 1 auto;
          justify-content: center;
        }
        .customer-journey-grid {
          grid-template-columns: 1fr;
          gap: 0.45rem;
        }
        .workspace-action-btn {
          padding: 0.5rem 0.52rem;
        }
        .workspace-action-btn strong {
          font-size: 0.8rem;
        }
        .workspace-action-btn small {
          font-size: 0.7rem;
        }
        .module-card-pill {
          font-size: 0.66rem;
        }
        .growth-kpis strong,
        .dash-card strong {
          font-size: 1.1rem;
        }
        .gauge-ring {
          width: 86px;
        }
        .gauge-ring::before {
          width: 62px;
        }
        .frontdesk-head {
          align-items: flex-start;
          flex-direction: column;
        }
        .dash-grid {
          grid-template-columns: 1fr;
        }
        .command-grid {
          grid-template-columns: 1fr;
        }
        .booking-filters {
          grid-template-columns: 1fr;
        }
        .accounting-form {
          grid-template-columns: 1fr;
        }
        .live-cards {
          grid-template-columns: 1fr;
        }
        .live-gauges {
          grid-template-columns: 1fr;
        }
        .live-charts {
          grid-template-columns: 1fr;
        }
        .staff-form {
          grid-template-columns: 1fr;
        }
        .waitlist-form {
          grid-template-columns: 1fr;
        }
        .accounting-list {
          grid-template-columns: 1fr;
        }
        .staff-summary {
          grid-template-columns: 1fr;
        }
        .waitlist-summary {
          grid-template-columns: 1fr;
        }
        .commercial-summary {
          grid-template-columns: 1fr;
        }
        .revenue-summary {
          grid-template-columns: 1fr;
        }
        .admin-revenue-summary {
          grid-template-columns: 1fr;
        }
        .revenue-form {
          grid-template-columns: 1fr;
        }
        .profit-summary {
          grid-template-columns: 1fr;
        }
        .customer-search-form {
          grid-template-columns: 1fr;
        }
        .customer-results li {
          flex-direction: column;
          align-items: flex-start;
        }
        .customer-chat-form {
          grid-template-columns: 1fr;
        }
        .customer-analytics-grid {
          grid-template-columns: 1fr;
        }
        .billing-actions {
          justify-content: flex-start;
        }
        .module-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .module-group-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .module-navigator-inline {
          padding: 0.62rem;
          gap: 0.7rem;
        }
        .module-group-head h3 {
          font-size: 0.72rem;
          letter-spacing: 0.06em;
        }
        .growth-grid {
          grid-template-columns: 1fr;
        }
        .growth-card-onboarding {
          grid-column: auto;
        }
        .growth-card-compact {
          grid-column: auto;
          padding: 0.58rem;
        }
        .onboarding-quick-actions {
          grid-template-columns: 1fr;
        }
        .onboarding-setup-grid {
          grid-template-columns: 1fr;
        }
        .executive-signal-grid {
          grid-template-columns: 1fr;
        }
        .executive-pulse-grid {
          grid-template-columns: 1fr;
        }
        .executive-pulse-deep-grid {
          grid-template-columns: 1fr;
        }
        .executive-gauge-grid {
          grid-template-columns: 1fr;
        }
        .executive-finance-stats,
        .executive-mini-charts {
          grid-template-columns: 1fr;
        }
        .copilot-snapshot-grid {
          grid-template-columns: 1fr;
        }
        .module-info-modal {
          padding: 0.8rem;
          border-radius: 14px;
        }
        .module-info-modal-head {
          gap: 0.55rem;
        }
        .module-info-actions {
          justify-content: stretch;
        }
        .module-info-actions .btn {
          width: 100%;
          justify-content: center;
        }
        .module-info-hint {
          width: 100%;
          margin-right: 0;
        }
        .module-workspace-modal {
          width: min(96vw, 96vw);
          max-height: 88vh;
          padding: 0.72rem;
          border-radius: 14px;
        }
        .calendar-day-modal {
          width: min(96vw, 96vw);
          max-height: 88vh;
          padding: 0.72rem;
          border-radius: 14px;
        }
        .calendar-day-summary-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        .calendar-day-layout {
          grid-template-columns: 1fr;
        }
        .module-workspace-head {
          gap: 0.5rem;
        }
        .module-workspace-actions {
          justify-content: stretch;
        }
        .module-workspace-actions .btn {
          width: 100%;
          justify-content: center;
        }
        .module-workspace-actions .module-info-hint {
          width: 100%;
          margin-right: 0;
        }
        .booking-range-toolbar {
          align-items: flex-start;
          flex-direction: column;
        }
      }
      @media (max-width: 560px) {
        .panel {
          padding: 0.72rem;
          border-radius: 12px;
          box-shadow: 0 8px 18px rgba(0, 0, 0, 0.28);
        }
        .panel h2 {
          font-size: 0.98rem;
        }
        .panel h3 {
          font-size: 0.92rem;
        }
        .billing-actions {
          gap: 0.45rem;
        }
        .billing-actions .btn,
        .billing-actions select {
          width: 100%;
          justify-content: center;
        }
        .module-grid {
          grid-template-columns: 1fr;
        }
        .module-group-grid {
          grid-template-columns: 1fr;
        }
      }
      @media (max-width: 430px) {
        .dash {
          width: min(98vw, 98vw);
          margin: 0.65rem auto 1rem;
          gap: 0.62rem;
        }
        .dash::before {
          inset: -28px -18px auto -18px;
          height: 150px;
        }
        .panel {
          padding: 0.62rem;
          border-radius: 11px;
        }
        .dash-top h1 {
          font-size: 1.08rem;
        }
        .panel h2 {
          font-size: 0.94rem;
        }
        .panel p,
        .panel small,
        .panel li {
          font-size: 0.84rem;
          line-height: 1.42;
        }
        .frontdesk-logo {
          width: 58px;
          height: 58px;
        }
        .frontdesk-name {
          font-size: 1.2rem;
        }
      }
      @media (max-width: 390px) {
        .btn {
          font-size: 0.79rem;
          padding: 0.45rem 0.62rem;
          min-height: 42px;
        }
        .billing-actions .btn,
        .billing-actions select {
          min-height: 42px;
        }
        .module-card {
          padding: 0.45rem;
        }
        .module-card strong {
          font-size: 0.84rem;
        }
        .module-card small {
          font-size: 0.73rem;
        }
        .live-chart h4 {
          font-size: 0.8rem;
        }
        .gauge-ring {
          width: 78px;
        }
        .gauge-ring::before {
          width: 56px;
        }
      }

      /* Dashboard light mode (controlled by the selector in the top bar) */
      body.dashboard-light-mode {
        --ink: #2a2230;
        --muted: #7a6c81;
        --surface: rgba(255, 255, 255, 0.9);
        --surface-2: rgba(249, 243, 250, 0.96);
        --line: rgba(145, 114, 144, 0.14);
        --line-strong: rgba(219, 137, 170, 0.3);
        --primary: #dd7fa9;
        --primary-strong: #cb6e9a;
        --teal: #6abfae;
        --gold: #d6b179;
        --glow: 0 0 0 1px rgba(219, 137, 170, 0.14), 0 0 18px rgba(219, 137, 170, 0.12);
        color: #2a2230;
        background:
          radial-gradient(circle at 8% -8%, rgba(255, 190, 214, 0.22), transparent 36%),
          radial-gradient(circle at 92% -10%, rgba(186, 232, 221, 0.2), transparent 34%),
          radial-gradient(circle at 80% 85%, rgba(244, 211, 157, 0.18), transparent 34%),
          linear-gradient(180deg, #fffafc 0%, #f9f4fb 45%, #f4eef8 100%);
      }
      body.dashboard-light-mode::before {
        background-image:
          linear-gradient(rgba(224, 157, 189, 0.12) 1px, transparent 1px),
          linear-gradient(90deg, rgba(224, 157, 189, 0.1) 1px, transparent 1px),
          radial-gradient(circle at 20% 10%, rgba(255, 206, 225, 0.16), transparent 38%),
          radial-gradient(circle at 86% 14%, rgba(197, 234, 225, 0.12), transparent 34%);
        background-size: 38px 38px, 38px 38px, auto, auto;
        mask-image: radial-gradient(circle at center, black 62%, transparent 98%);
        opacity: 0.95;
      }
      body.dashboard-light-mode .theme-toggle {
        display: none !important;
      }
      body.dashboard-light-mode .dash > .panel {
        border-color: rgba(136, 110, 141, 0.12);
        background:
          radial-gradient(circle at 92% -10%, rgba(255, 201, 220, 0.14), transparent 42%),
          radial-gradient(circle at 10% -12%, rgba(199, 236, 226, 0.12), transparent 40%),
          linear-gradient(160deg, rgba(255,255,255,0.97), rgba(250, 244, 251, 0.98));
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.92),
          0 12px 28px rgba(93, 66, 102, 0.08);
      }
      body.dashboard-light-mode .module-workspace-body > .module-popup-mounted,
      body.dashboard-light-mode .module-workspace-body > .panel {
        border-color: rgba(136, 110, 141, 0.12) !important;
        background:
          radial-gradient(circle at 92% -10%, rgba(255, 201, 220, 0.14), transparent 42%),
          radial-gradient(circle at 10% -12%, rgba(199, 236, 226, 0.12), transparent 40%),
          linear-gradient(160deg, rgba(255,255,255,0.97), rgba(250, 244, 251, 0.98)) !important;
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.92),
          0 12px 28px rgba(93, 66, 102, 0.08) !important;
        color: #2b2231 !important;
      }
      body.dashboard-light-mode .module-workspace-body .dash-top,
      body.dashboard-light-mode .module-workspace-body .workspace-actions,
      body.dashboard-light-mode .module-workspace-body .customer-journey-actions {
        border-color: rgba(144, 112, 139, 0.14) !important;
        background:
          radial-gradient(circle at 90% -12%, rgba(255, 194, 216, 0.16), transparent 42%),
          radial-gradient(circle at 12% -15%, rgba(210, 236, 230, 0.12), transparent 40%),
          linear-gradient(160deg, rgba(255,255,255,0.98), rgba(251, 246, 252, 0.99)) !important;
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.95),
          0 12px 24px rgba(95, 68, 105, 0.08) !important;
      }
      body.dashboard-light-mode .dash-top,
      body.dashboard-light-mode .workspace-actions,
      body.dashboard-light-mode .customer-journey-actions {
        border-color: rgba(144, 112, 139, 0.14);
        background:
          radial-gradient(circle at 90% -12%, rgba(255, 194, 216, 0.16), transparent 42%),
          radial-gradient(circle at 12% -15%, rgba(210, 236, 230, 0.12), transparent 40%),
          linear-gradient(160deg, rgba(255,255,255,0.98), rgba(251, 246, 252, 0.99));
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.95),
          0 12px 24px rgba(95, 68, 105, 0.08);
      }
      body.dashboard-light-mode .dash-top h1,
      body.dashboard-light-mode .panel h2,
      body.dashboard-light-mode .panel h3,
      body.dashboard-light-mode .workspace-actions-head h2,
      body.dashboard-light-mode .customer-journey-head h2 {
        color: #2b2231;
      }
      body.dashboard-light-mode .workspace-actions-badge,
      body.dashboard-light-mode .hub-module-badge,
      body.dashboard-light-mode .hub-command-pill,
      body.dashboard-light-mode .mobile-bottom-nav-item.is-active {
        color: #7b3a5b;
        border-color: rgba(219, 137, 170, 0.28);
        background: rgba(255, 206, 225, 0.2);
      }
      body.dashboard-light-mode .workspace-star-kicker {
        color: #7b3a5b;
      }
      body.dashboard-light-mode .hub-command-pill.muted {
        color: #7a6c81;
        border-color: rgba(145, 114, 144, 0.12);
        background: rgba(255,255,255,0.78);
      }
      body.dashboard-light-mode .dash-role-hint {
        color: #000000;
        border-color: transparent;
        background: transparent;
      }
      body.dashboard-light-mode .dash-action-status,
      body.dashboard-light-mode .panel p,
      body.dashboard-light-mode .panel small,
      body.dashboard-light-mode .workspace-star-head > div > p:last-child,
      body.dashboard-light-mode .workspace-star-card p,
      body.dashboard-light-mode .workspace-star-card small,
      body.dashboard-light-mode .module-card small,
      body.dashboard-light-mode .copilot-guardrail,
      body.dashboard-light-mode .calendar-legend,
      body.dashboard-light-mode .module-info-hint,
      body.dashboard-light-mode .hub-command-head p,
      body.dashboard-light-mode .hub-command-panel-head small,
      body.dashboard-light-mode .hub-command-note,
      body.dashboard-light-mode .hub-command-list li small,
      body.dashboard-light-mode .hub-auto-routine-copy small {
        color: #7a6c81;
      }
      body.dashboard-light-mode .hub-command-signal strong,
      body.dashboard-light-mode .workspace-star-card strong,
      body.dashboard-light-mode .hub-command-list li strong,
      body.dashboard-light-mode .hub-command-head h4,
      body.dashboard-light-mode .hub-command-panel-head h5,
      body.dashboard-light-mode .hub-auto-routine-copy strong {
        color: #2b2231;
      }
      body.dashboard-light-mode .ai-assistant-workspace,
      body.dashboard-light-mode .ai-assistant-context,
      body.dashboard-light-mode .ai-routine-btn {
        border-color: rgba(145, 114, 144, 0.12) !important;
        background:
          radial-gradient(circle at 92% -10%, rgba(255, 201, 220, 0.12), transparent 42%),
          radial-gradient(circle at 10% -12%, rgba(210, 236, 230, 0.08), transparent 40%),
          rgba(255,255,255,0.9) !important;
        color: #2d2330 !important;
      }
      body.dashboard-light-mode .ai-assistant-context,
      body.dashboard-light-mode .ai-routine-btn small {
        color: #6f6278 !important;
      }
      body.dashboard-light-mode .ai-assistant-context strong,
      body.dashboard-light-mode .ai-routine-btn strong {
        color: #2b2231 !important;
      }
      body.dashboard-light-mode .ai-scope-chip {
        border-color: rgba(145, 114, 144, 0.12);
        background: rgba(255,255,255,0.82);
        color: #6f6278;
      }
      body.dashboard-light-mode .ai-scope-chip.is-active {
        border-color: rgba(219, 137, 170, 0.24);
        background: rgba(255, 220, 233, 0.32);
        color: #7b3a5b;
      }
      body.dashboard-light-mode .calendar-stage,
      body.dashboard-light-mode .calendar-feature-rail,
      body.dashboard-light-mode .calendar-feature-meta,
      body.dashboard-light-mode .calendar-feature-stats article,
      body.dashboard-light-mode .calendar-selected-day-card,
      body.dashboard-light-mode .calendar-selected-day-list li {
        border-color: rgba(145, 114, 144, 0.12) !important;
        background:
          radial-gradient(circle at 92% -10%, rgba(255, 201, 220, 0.12), transparent 42%),
          radial-gradient(circle at 10% -12%, rgba(210, 236, 230, 0.08), transparent 40%),
          rgba(255,255,255,0.92) !important;
        color: #2d2330 !important;
      }
      body.dashboard-light-mode .calendar-feature-meta,
      body.dashboard-light-mode .calendar-feature-stats article p,
      body.dashboard-light-mode .calendar-feature-stats article small,
      body.dashboard-light-mode .calendar-selected-day-card p,
      body.dashboard-light-mode .calendar-selected-day-list li small {
        color: #6f6278 !important;
      }
      body.dashboard-light-mode .calendar-feature-meta strong,
      body.dashboard-light-mode .calendar-feature-stats article strong,
      body.dashboard-light-mode .calendar-selected-day-card h3,
      body.dashboard-light-mode .calendar-selected-day-list li strong {
        color: #2b2231 !important;
      }
      body.dashboard-light-mode #dashRoleHint {
        color: #2f232c !important;
        opacity: 1 !important;
        background: transparent !important;
        border: 0 !important;
        box-shadow: none !important;
        padding: 0 !important;
      }
      body.dashboard-light-mode .btn.btn-ghost,
      body.dashboard-light-mode select.btn-ghost {
        color: #4b3652;
        border-color: rgba(145, 114, 144, 0.16);
        background: rgba(255,255,255,0.9);
      }
      body.dashboard-light-mode .btn:not(.btn-ghost) {
        border-color: rgba(219, 137, 170, 0.45);
        background: linear-gradient(180deg, #f5a7c8 0%, #dd7fa9 100%);
        color: #fff8fc;
        box-shadow: 0 8px 16px rgba(190, 108, 146, 0.18);
      }
      body.dashboard-light-mode input,
      body.dashboard-light-mode select,
      body.dashboard-light-mode textarea {
        color: #342a39;
        border-color: rgba(145, 114, 144, 0.14);
        background: rgba(255,255,255,0.92);
      }
      body.dashboard-light-mode .workspace-action-btn,
      body.dashboard-light-mode .workspace-star-panel,
      body.dashboard-light-mode .workspace-star-card,
      body.dashboard-light-mode .customer-journey-link,
      body.dashboard-light-mode .module-card,
      body.dashboard-light-mode .module-group,
      body.dashboard-light-mode .module-info,
      body.dashboard-light-mode .hub-command-deck,
      body.dashboard-light-mode .hub-command-panel,
      body.dashboard-light-mode .hub-command-signal,
      body.dashboard-light-mode .hub-auto-routine,
      body.dashboard-light-mode .hub-command-list li,
      body.dashboard-light-mode .copilot-shell,
      body.dashboard-light-mode .copilot-result,
      body.dashboard-light-mode .copilot-card,
      body.dashboard-light-mode .hub-fold,
      body.dashboard-light-mode .hub-module-shell,
      body.dashboard-light-mode .module-navigator-inline,
      body.dashboard-light-mode .calendar-grid,
      body.dashboard-light-mode .customer-chat-box {
        border-color: rgba(145, 114, 144, 0.12);
        background:
          radial-gradient(circle at 92% -10%, rgba(255, 201, 220, 0.12), transparent 42%),
          radial-gradient(circle at 10% -12%, rgba(199, 236, 226, 0.08), transparent 40%),
          rgba(255,255,255,0.9);
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.85);
      }
      body.dashboard-light-mode .module-card:hover,
      body.dashboard-light-mode .workspace-action-btn:hover,
      body.dashboard-light-mode .customer-journey-link:hover {
        border-color: rgba(219, 137, 170, 0.22);
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.8),
          0 8px 18px rgba(103, 69, 103, 0.08);
      }
      body.dashboard-light-mode .calendar-day {
        border-color: rgba(145, 114, 144, 0.1);
        background: rgba(255,255,255,0.86);
      }
      body.dashboard-light-mode .calendar-day.has-bookings {
        border-color: rgba(219, 137, 170, 0.22);
        background: rgba(255, 220, 233, 0.34);
      }
      body.dashboard-light-mode .calendar-day.selected {
        border-color: rgba(194, 128, 175, 0.28);
        background: rgba(243, 211, 236, 0.42);
      }
      body.dashboard-light-mode .calendar-day.is-today strong {
        border-color: rgba(145, 114, 144, 0.16);
        background: rgba(255,255,255,0.86);
        color: #2f2635;
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.9),
          0 1px 1px rgba(90, 66, 96, 0.05);
      }
      body.dashboard-light-mode .calendar-day.has-bookings.is-today strong {
        border-color: rgba(219, 137, 170, 0.28);
        background: rgba(255, 236, 244, 0.96);
      }
      body.dashboard-light-mode .calendar-day.selected.is-today strong {
        border-color: rgba(194, 128, 175, 0.34);
        background: rgba(244, 225, 240, 0.98);
        color: #4b3650;
      }
      body.dashboard-light-mode .calendar-day-staff-dot {
        box-shadow: 0 0 0 1px rgba(255,255,255,0.75);
        color: rgba(42, 34, 48, 0.92);
      }
      body.dashboard-light-mode .calendar-day-staff-more {
        border-color: rgba(145, 114, 144, 0.12);
        background: rgba(255,255,255,0.7);
        color: #6f6278;
      }
      body.dashboard-light-mode .calendar-staff-chip {
        border-color: rgba(145, 114, 144, 0.12);
        background: rgba(255,255,255,0.78);
        color: #6f6278;
      }
      body.dashboard-light-mode .calendar-weekdays {
        background: rgba(255, 252, 255, 0.95);
        border-color: rgba(145, 114, 144, 0.08);
      }
      body.dashboard-light-mode .calendar-weekdays span {
        color: #72597a;
      }
      body.dashboard-light-mode .mobile-bottom-nav {
        border-color: rgba(145, 114, 144, 0.12);
        background:
          radial-gradient(circle at 92% -10%, rgba(255, 194, 216, 0.18), transparent 42%),
          radial-gradient(circle at 10% -12%, rgba(210, 236, 230, 0.12), transparent 40%),
          rgba(255, 250, 253, 0.95);
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.9),
          0 14px 28px rgba(95, 68, 105, 0.14);
      }
      body.dashboard-light-mode .mobile-bottom-nav-item {
        border-color: rgba(145, 114, 144, 0.1);
        background: rgba(255,255,255,0.9);
        color: #2c2431;
      }
      body.dashboard-light-mode .mobile-bottom-nav-item .mobile-nav-label {
        color: #6c5a72;
      }
      body.dashboard-light-mode .mobile-bottom-nav-item.quick-action {
        border-color: rgba(219, 137, 170, 0.3);
        background:
          radial-gradient(circle at 50% -20%, rgba(255, 215, 229, 0.25), transparent 58%),
          linear-gradient(180deg, rgba(242, 163, 198, 0.96), rgba(220, 126, 167, 0.97));
      }
      body.dashboard-light-mode .mobile-quick-sheet {
        border-color: rgba(145, 114, 144, 0.12);
        background:
          radial-gradient(circle at 92% -10%, rgba(255, 194, 216, 0.18), transparent 42%),
          radial-gradient(circle at 10% -12%, rgba(210, 236, 230, 0.12), transparent 40%),
          rgba(255, 250, 253, 0.97);
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.92),
          0 18px 32px rgba(95, 68, 105, 0.14);
      }
      body.dashboard-light-mode .mobile-quick-sheet-btn {
        border-color: rgba(145, 114, 144, 0.1);
        background: rgba(255,255,255,0.92);
        color: #2d2330;
      }
      body.dashboard-light-mode .mobile-quick-sheet-btn small {
        color: #7a6c81;
      }

      /* Light mode specificity fixes for role-targeted dashboard sections */
      body.dashboard-light-mode .dash > .dash-top,
      body.dashboard-light-mode .dash > #dashboardQuickActionsSection,
      body.dashboard-light-mode .dash > #subscriberCalendarSection,
      body.dashboard-light-mode .dash > #subscriberCopilotSection,
      body.dashboard-light-mode .dash > #adminCopilotSection,
      body.dashboard-light-mode .dash > #businessGrowthSection,
      body.dashboard-light-mode .dash > #subscriberExecutivePulseSection,
      body.dashboard-light-mode .dash > #customerSearchSection,
      body.dashboard-light-mode .dash > #customerReceptionSection,
      body.dashboard-light-mode .dash > #customerSlotsSection,
      body.dashboard-light-mode .dash > #customerHistorySection,
      body.dashboard-light-mode .dash > #customerAnalyticsSection {
        border-color: rgba(145, 114, 144, 0.12) !important;
        background:
          radial-gradient(circle at 92% -10%, rgba(255, 194, 216, 0.14), transparent 42%),
          radial-gradient(circle at 12% -12%, rgba(210, 236, 230, 0.1), transparent 40%),
          linear-gradient(160deg, rgba(255,255,255,0.97), rgba(249, 243, 250, 0.98)) !important;
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.92),
          0 12px 28px rgba(95, 68, 105, 0.08) !important;
      }
      body.dashboard-light-mode .dash > .dash-top .billing-actions .btn,
      body.dashboard-light-mode .dash > .dash-top .billing-actions select {
        background: rgba(255,255,255,0.92) !important;
        border-color: rgba(145, 114, 144, 0.14) !important;
        color: #4b3652 !important;
      }
      body.dashboard-light-mode .subscription-quick-panel {
        background:
          radial-gradient(circle at 90% -10%, rgba(127, 212, 194, 0.12), transparent 45%),
          rgba(255,255,255,0.93) !important;
        border-color: rgba(145, 114, 144, 0.14) !important;
      }
      body.dashboard-light-mode .subscription-current-summary strong {
        color: #3a2a40 !important;
      }
      body.dashboard-light-mode .subscription-current-summary small:last-child,
      body.dashboard-light-mode .subscription-mini-label,
      body.dashboard-light-mode .subscription-auto-renew {
        color: #7a6c81 !important;
      }
      body.dashboard-light-mode .dash > .dash-top .billing-actions .btn:not(.btn-ghost),
      body.dashboard-light-mode .dash > .dash-top .billing-actions #startBilling {
        background: linear-gradient(180deg, #f5a7c8 0%, #dd7fa9 100%) !important;
        border-color: rgba(219, 137, 170, 0.45) !important;
        color: #fff8fc !important;
      }
      body.dashboard-light-mode .workspace-action-btn,
      body.dashboard-light-mode .customer-journey-link {
        background:
          radial-gradient(circle at 92% -10%, rgba(255, 201, 220, 0.14), transparent 42%),
          rgba(255,255,255,0.9) !important;
        border-color: rgba(145, 114, 144, 0.12) !important;
        color: #2d2330 !important;
      }
      body.dashboard-light-mode .workspace-action-btn small,
      body.dashboard-light-mode .customer-journey-link small {
        color: #7a6c81 !important;
      }
      body.dashboard-light-mode #subscriberCalendarSection .calendar-grid,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-weekdays,
      body.dashboard-light-mode .module-workspace-body .calendar-grid,
      body.dashboard-light-mode .module-workspace-body .calendar-weekdays,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-shell,
      body.dashboard-light-mode #adminCopilotSection .copilot-shell,
      body.dashboard-light-mode .module-workspace-body .copilot-shell,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-result,
      body.dashboard-light-mode #adminCopilotSection .copilot-result,
      body.dashboard-light-mode .module-workspace-body .copilot-result,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-card,
      body.dashboard-light-mode #adminCopilotSection .copilot-card,
      body.dashboard-light-mode .module-workspace-body .copilot-card,
      body.dashboard-light-mode #businessSetupHubCard,
      body.dashboard-light-mode .hub-fold,
      body.dashboard-light-mode .hub-module-shell,
      body.dashboard-light-mode .module-navigator-inline,
      body.dashboard-light-mode .module-group,
      body.dashboard-light-mode .module-card,
      body.dashboard-light-mode .module-info {
        background:
          radial-gradient(circle at 92% -10%, rgba(255, 201, 220, 0.12), transparent 42%),
          radial-gradient(circle at 10% -12%, rgba(210, 236, 230, 0.08), transparent 40%),
          rgba(255,255,255,0.92) !important;
        border-color: rgba(145, 114, 144, 0.12) !important;
        color: #2d2330 !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .copilot-head p,
      body.dashboard-light-mode #adminCopilotSection .copilot-head p,
      body.dashboard-light-mode .module-workspace-body .copilot-head p,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-guardrail,
      body.dashboard-light-mode #adminCopilotSection .copilot-guardrail,
      body.dashboard-light-mode .module-workspace-body .copilot-guardrail,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-answer,
      body.dashboard-light-mode #adminCopilotSection .copilot-answer,
      body.dashboard-light-mode .module-workspace-body .copilot-answer,
      body.dashboard-light-mode .module-info p,
      body.dashboard-light-mode .hub-module-head p {
        color: #6f6278 !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .copilot-form textarea,
      body.dashboard-light-mode #adminCopilotSection .copilot-form textarea,
      body.dashboard-light-mode .module-workspace-body .copilot-form textarea {
        background: rgba(255,255,255,0.94) !important;
        border-color: rgba(145, 114, 144, 0.12) !important;
        color: #302734 !important;
      }
      body.dashboard-light-mode .module-workspace-body .copilot-form {
        border-color: rgba(145, 114, 144, 0.1) !important;
        background: rgba(255,255,255,0.84) !important;
      }
      body.dashboard-light-mode .module-workspace-body .copilot-head {
        border-bottom-color: rgba(145, 114, 144, 0.1) !important;
      }
      body.dashboard-light-mode .module-workspace-body .copilot-answer-links .btn {
        border-color: rgba(145, 114, 144, 0.12) !important;
        background: rgba(157, 195, 255, 0.08) !important;
      }
      body.dashboard-light-mode .module-workspace-body .copilot-form-actions .btn:not(.btn-ghost) {
        background: linear-gradient(180deg, #8fc2ff 0%, #6fa8ea 100%) !important;
        border-color: rgba(111, 168, 234, 0.35) !important;
        color: #ffffff !important;
      }
      body.dashboard-light-mode[data-role="subscriber"] .dash > #moduleNavigatorSection,
      body.dashboard-light-mode[data-role="admin"] .dash > #moduleNavigatorSection,
      body.dashboard-light-mode[data-role="subscriber"] .dash > .dash-top,
      body.dashboard-light-mode[data-role="admin"] .dash > .dash-top {
        border-color: rgba(145, 114, 144, 0.14) !important;
        background: rgba(255,255,255,0.97) !important;
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.9),
          0 12px 24px rgba(95, 68, 105, 0.08) !important;
      }
      body.dashboard-light-mode .dash > #subscriberCopilotSection {
        border-color: rgba(145, 114, 144, 0.14) !important;
        background: rgba(255,255,255,0.97) !important;
      }
      body.dashboard-light-mode .module-workspace-body > #subscriberCopilotSection {
        border-color: rgba(145, 114, 144, 0.14) !important;
        background: rgba(255,255,255,0.97) !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .copilot-shell {
        border-color: rgba(145, 114, 144, 0.1) !important;
        background: rgba(255,255,255,0.92) !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .copilot-head {
        border-bottom-color: rgba(145, 114, 144, 0.1) !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .copilot-head p {
        color: #6b5f74 !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .live-pill {
        border-color: rgba(128, 156, 212, 0.2) !important;
        background: rgba(157, 195, 255, 0.12) !important;
        color: #4a5a7a !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .copilot-form {
        border-color: rgba(145, 114, 144, 0.1) !important;
        background: rgba(255,255,255,0.84) !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .copilot-form textarea {
        background: rgba(255,255,255,0.96) !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .copilot-form-actions .btn:not(.btn-ghost) {
        background: linear-gradient(180deg, #8fc2ff 0%, #6fa8ea 100%) !important;
        border-color: rgba(111, 168, 234, 0.35) !important;
        color: #ffffff !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .copilot-guardrail {
        border-color: rgba(145, 114, 144, 0.1) !important;
        background: rgba(184, 231, 221, 0.1) !important;
        color: #61706d !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .copilot-result {
        border-color: rgba(145, 114, 144, 0.12) !important;
        background: rgba(255,255,255,0.92) !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .copilot-result h3 {
        color: #5a5d84 !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .copilot-answer {
        color: #3a3241 !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .copilot-answer-links .btn {
        border-color: rgba(145, 114, 144, 0.12) !important;
        background: rgba(157, 195, 255, 0.08) !important;
      }
      body.dashboard-light-mode .dash > #adminCopilotSection {
        border-color: rgba(145, 114, 144, 0.14) !important;
        background:
          radial-gradient(circle at 92% -10%, rgba(157, 195, 255, 0.16), transparent 42%),
          radial-gradient(circle at 12% -14%, rgba(184, 231, 221, 0.12), transparent 42%),
          linear-gradient(160deg, rgba(255,255,255,0.97), rgba(246, 249, 255, 0.98)) !important;
      }
      body.dashboard-light-mode .module-workspace-body > #adminCopilotSection {
        border-color: rgba(145, 114, 144, 0.14) !important;
        background:
          radial-gradient(circle at 92% -10%, rgba(157, 195, 255, 0.16), transparent 42%),
          radial-gradient(circle at 12% -14%, rgba(184, 231, 221, 0.12), transparent 42%),
          linear-gradient(160deg, rgba(255,255,255,0.97), rgba(246, 249, 255, 0.98)) !important;
      }
      body.dashboard-light-mode #adminCopilotSection .copilot-shell {
        border-color: rgba(145, 114, 144, 0.1) !important;
        background:
          radial-gradient(circle at 95% -10%, rgba(157, 195, 255, 0.12), transparent 46%),
          rgba(255,255,255,0.9) !important;
      }
      body.dashboard-light-mode #adminCopilotSection .copilot-head {
        border-bottom-color: rgba(145, 114, 144, 0.1) !important;
      }
      body.dashboard-light-mode #adminCopilotSection .copilot-head p {
        color: #6b5f74 !important;
      }
      body.dashboard-light-mode #adminCopilotSection .live-pill {
        border-color: rgba(128, 156, 212, 0.2) !important;
        background: rgba(157, 195, 255, 0.12) !important;
        color: #4a5a7a !important;
      }
      body.dashboard-light-mode #adminCopilotSection .copilot-form {
        border-color: rgba(145, 114, 144, 0.1) !important;
        background: rgba(255,255,255,0.84) !important;
      }
      body.dashboard-light-mode #adminCopilotSection .copilot-form textarea {
        background:
          radial-gradient(circle at 92% -10%, rgba(157, 195, 255, 0.08), transparent 48%),
          rgba(255,255,255,0.96) !important;
      }
      body.dashboard-light-mode #adminCopilotSection .copilot-form-actions .btn:not(.btn-ghost) {
        background: linear-gradient(180deg, #8fc2ff 0%, #6fa8ea 100%) !important;
        border-color: rgba(111, 168, 234, 0.35) !important;
        color: #ffffff !important;
      }
      body.dashboard-light-mode #adminCopilotSection .copilot-guardrail {
        border-color: rgba(145, 114, 144, 0.1) !important;
        background: rgba(184, 231, 221, 0.1) !important;
        color: #61706d !important;
      }
      body.dashboard-light-mode #adminCopilotSection .copilot-result {
        border-color: rgba(145, 114, 144, 0.12) !important;
        background:
          radial-gradient(circle at 92% -12%, rgba(157, 195, 255, 0.12), transparent 44%),
          rgba(255,255,255,0.92) !important;
      }
      body.dashboard-light-mode #adminCopilotSection .copilot-result h3 {
        color: #5a5d84 !important;
      }
      body.dashboard-light-mode #adminCopilotSection .copilot-answer {
        color: #3a3241 !important;
      }
      body.dashboard-light-mode #adminCopilotSection .copilot-answer-links .btn {
        border-color: rgba(145, 114, 144, 0.12) !important;
        background: rgba(157, 195, 255, 0.08) !important;
      }
      body.dashboard-light-mode #subscriberCalendarSection .calendar-day button.calendar-day-btn {
        color: #2b2231 !important;
      }
      body.dashboard-light-mode #subscriberCalendarSection .calendar-day small,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-day .calendar-day-count,
      body.dashboard-light-mode .module-card .module-card-summary {
        color: #7a6c81 !important;
      }
      body.dashboard-light-mode .dash-card,
      body.dashboard-light-mode .bookings-list li,
      body.dashboard-light-mode .staff-rota-topbar,
      body.dashboard-light-mode .staff-rota-rail,
      body.dashboard-light-mode .staff-rota-grid-shell,
      body.dashboard-light-mode .staff-coverage-shell,
      body.dashboard-light-mode .staff-week-label,
      body.dashboard-light-mode .staff-list li,
      body.dashboard-light-mode .staff-summary article,
      body.dashboard-light-mode .staff-rota-col-head,
      body.dashboard-light-mode .staff-rota-row-head,
      body.dashboard-light-mode .staff-rota-cell,
      body.dashboard-light-mode .staff-rota-day-cell,
      body.dashboard-light-mode .staff-capacity-pill,
      body.dashboard-light-mode .staff-coverage-list li,
      body.dashboard-light-mode .waitlist-list li,
      body.dashboard-light-mode .waitlist-summary article,
      body.dashboard-light-mode .crm-list li,
      body.dashboard-light-mode .commercial-list li,
      body.dashboard-light-mode .commercial-summary article,
      body.dashboard-light-mode .revenue-list li,
      body.dashboard-light-mode .revenue-summary article,
      body.dashboard-light-mode .profit-list li,
      body.dashboard-light-mode .profit-summary article,
      body.dashboard-light-mode .ops-list li,
      body.dashboard-light-mode .command-card,
      body.dashboard-light-mode .executive-card,
      body.dashboard-light-mode .executive-signal-card,
      body.dashboard-light-mode .growth-card-compact,
      body.dashboard-light-mode .growth-kpis article,
      body.dashboard-light-mode .accounting-live,
      body.dashboard-light-mode .live-cards article,
      body.dashboard-light-mode .gauge-card,
      body.dashboard-light-mode .live-chart,
      body.dashboard-light-mode .admin-revenue-summary article,
      body.dashboard-light-mode .admin-chart-card,
      body.dashboard-light-mode .customer-results li,
      body.dashboard-light-mode .customer-slots li,
      body.dashboard-light-mode .customer-history li,
      body.dashboard-light-mode .customer-contact,
      body.dashboard-light-mode .accounting-list > article {
        border-color: rgba(145, 114, 144, 0.1) !important;
        background:
          radial-gradient(circle at 92% -10%, rgba(255, 201, 220, 0.1), transparent 42%),
          rgba(255,255,255,0.92) !important;
        color: #2d2330 !important;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.9);
      }
      body.dashboard-light-mode .accounting-form input,
      body.dashboard-light-mode .accounting-form select,
      body.dashboard-light-mode .quick-filter-custom input,
      body.dashboard-light-mode .staff-form input,
      body.dashboard-light-mode .staff-form select,
      body.dashboard-light-mode .waitlist-form input,
      body.dashboard-light-mode .commercial-form input,
      body.dashboard-light-mode .commercial-form select,
      body.dashboard-light-mode .revenue-form input,
      body.dashboard-light-mode .revenue-form select,
      body.dashboard-light-mode .profit-form input {
        background: rgba(255,255,255,0.94) !important;
        border-color: rgba(145, 114, 144, 0.14) !important;
        color: #302734 !important;
      }
      body.dashboard-light-mode .timeframe-switch {
        border-color: rgba(145, 114, 144, 0.14) !important;
        background: rgba(255,255,255,0.82) !important;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.85);
      }
      body.dashboard-light-mode .timeframe-switch button {
        color: #7a6c81 !important;
      }
      body.dashboard-light-mode .staff-rota-rail-head p,
      body.dashboard-light-mode .staff-rota-grid-head p,
      body.dashboard-light-mode .staff-rota-footnote,
      body.dashboard-light-mode .staff-meta small,
      body.dashboard-light-mode .staff-rota-col-head small,
      body.dashboard-light-mode .staff-rota-row-head small,
      body.dashboard-light-mode .staff-rota-cell small,
      body.dashboard-light-mode .staff-capacity-pill small,
      body.dashboard-light-mode .staff-coverage-list li small,
      body.dashboard-light-mode .staff-role-pill,
      body.dashboard-light-mode .staff-brush-group label,
      body.dashboard-light-mode .staff-rota-cell-shift {
        color: #6f6278 !important;
      }
      body.dashboard-light-mode .staff-rota-rail-head,
      body.dashboard-light-mode .staff-rota-grid-head {
        border-bottom-color: rgba(145, 114, 144, 0.08) !important;
        background: linear-gradient(180deg, rgba(255,255,255,0.94), rgba(250, 244, 251, 0.9)) !important;
      }
      body.dashboard-light-mode .staff-rota-grid-scroll {
        border-color: rgba(145, 114, 144, 0.1) !important;
        background: rgba(255,255,255,0.58) !important;
      }
      body.dashboard-light-mode .staff-rota-col-head {
        background: rgba(255,255,255,0.84) !important;
      }
      body.dashboard-light-mode .staff-rota-dot-btn {
        color: rgba(34, 27, 39, 0.94);
        box-shadow: 0 0 0 1px rgba(255,255,255,0.78), 0 1px 2px rgba(101, 78, 105, 0.1);
      }
      body.dashboard-light-mode .staff-brush-group,
      body.dashboard-light-mode .staff-brush-select {
        border-color: rgba(145, 114, 144, 0.14) !important;
        background: rgba(255,255,255,0.86) !important;
        color: #302734 !important;
      }
      body.dashboard-light-mode .staff-rota-cell[data-status="scheduled"] {
        background: rgba(184, 231, 221, 0.18) !important;
        border-color: rgba(106, 191, 174, 0.2) !important;
      }
      body.dashboard-light-mode .staff-rota-cell[data-status="available"] {
        background: rgba(157, 195, 255, 0.16) !important;
        border-color: rgba(128, 156, 212, 0.18) !important;
      }
      body.dashboard-light-mode .staff-rota-cell[data-status="sick"] {
        background: rgba(255, 205, 211, 0.25) !important;
        border-color: rgba(223, 123, 132, 0.24) !important;
      }
      body.dashboard-light-mode .staff-rota-cell[data-status="covering"] {
        background: rgba(255, 229, 170, 0.24) !important;
        border-color: rgba(214, 164, 77, 0.24) !important;
      }
      body.dashboard-light-mode .staff-color-chip {
        border-color: rgba(145, 114, 144, 0.14) !important;
        background: rgba(255,255,255,0.82) !important;
        color: #6f6278 !important;
      }
      body.dashboard-light-mode .timeframe-switch button.active {
        color: #6d3050 !important;
        border-color: rgba(219, 137, 170, 0.3) !important;
        background: rgba(255, 198, 220, 0.28) !important;
      }
      body.dashboard-light-mode .quick-filter-group .btn.active {
        border-color: rgba(219, 137, 170, 0.3) !important;
        background: rgba(255, 198, 220, 0.22) !important;
        color: #6d3050 !important;
      }
      body.dashboard-light-mode .live-pill,
      body.dashboard-light-mode .status-chip,
      body.dashboard-light-mode .module-chip,
      body.dashboard-light-mode .onboarding-badge,
      body.dashboard-light-mode .module-card-pill,
      body.dashboard-light-mode .home-module-pill {
        color: #6b4960 !important;
        border-color: rgba(214, 136, 169, 0.22) !important;
        background: rgba(255, 216, 231, 0.22) !important;
      }
      body.dashboard-light-mode .status-chip.active,
      body.dashboard-light-mode .module-card.active,
      body.dashboard-light-mode .module-card-pill.accent,
      body.dashboard-light-mode .onboarding-badge.done {
        color: #6d3050 !important;
        border-color: rgba(219, 137, 170, 0.3) !important;
        background: rgba(255, 198, 220, 0.28) !important;
      }
      body.dashboard-light-mode .module-card-pill.soft,
      body.dashboard-light-mode .onboarding-badge.pending {
        color: #7a6c81 !important;
        border-color: rgba(145, 114, 144, 0.12) !important;
        background: rgba(255,255,255,0.72) !important;
      }
      body.dashboard-light-mode .live-dot {
        background: #d97aa7 !important;
        box-shadow: 0 0 0 6px rgba(217, 122, 167, 0.12), 0 0 14px rgba(217, 122, 167, 0.28) !important;
      }
      body.dashboard-light-mode .gauge-ring {
        filter: saturate(0.88) brightness(1.02);
      }
      body.dashboard-light-mode .gauge-ring::before {
        background:
          radial-gradient(circle at 30% 18%, rgba(255,255,255,0.94), rgba(255,255,255,0.82) 42%, rgba(248, 239, 244, 0.96) 100%);
        border: 1px solid rgba(218, 163, 189, 0.28);
      }
      body.dashboard-light-mode .gauge-card,
      body.dashboard-light-mode .executive-gauge,
      body.dashboard-light-mode .calendar-day-revenue-gauge,
      body.dashboard-light-mode .executive-card,
      body.dashboard-light-mode .onboarding-summary {
        background:
          radial-gradient(circle at 92% -10%, rgba(236, 182, 207, 0.13), transparent 46%),
          linear-gradient(180deg, rgba(255,255,255,0.97), rgba(251,244,248,0.95)) !important;
        border-color: rgba(220, 175, 197, 0.24) !important;
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.95),
          0 14px 28px rgba(177, 122, 150, 0.08) !important;
      }
      body.dashboard-light-mode .gauge-card small,
      body.dashboard-light-mode .executive-gauge-sub,
      body.dashboard-light-mode .executive-card-head small,
      body.dashboard-light-mode .executive-pulse-subtitle,
      body.dashboard-light-mode .executive-pulse-range-meta,
      body.dashboard-light-mode .executive-mini-chart-head small,
      body.dashboard-light-mode .onboarding-summary-head small,
      body.dashboard-light-mode .onboarding-summary-note {
        color: #7a6070 !important;
      }
      body.dashboard-light-mode .executive-gauge-label,
      body.dashboard-light-mode .calendar-day-revenue-gauge-top strong,
      body.dashboard-light-mode .onboarding-summary-head strong {
        color: #352631 !important;
      }
      body.dashboard-light-mode .executive-action-list li {
        background: rgba(255,255,255,0.84) !important;
        border-color: rgba(220, 175, 197, 0.18) !important;
      }
      body.dashboard-light-mode .executive-pulse-toolbar,
      body.dashboard-light-mode .executive-pulse-range-tabs,
      body.dashboard-light-mode .executive-finance-stat,
      body.dashboard-light-mode .executive-mini-chart-card,
      body.dashboard-light-mode .executive-snapshot-item,
      body.dashboard-light-mode .executive-snapshot-empty {
        background:
          radial-gradient(circle at 92% -10%, rgba(236, 182, 207, 0.1), transparent 46%),
          linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,244,249,0.96)) !important;
        border-color: rgba(220, 175, 197, 0.24) !important;
        box-shadow: none !important;
      }
      body.dashboard-light-mode .executive-pulse-range-tabs button.is-active {
        background: rgba(255, 206, 225, 0.24) !important;
        border-color: rgba(219, 137, 170, 0.32) !important;
        color: #7b3a5b !important;
      }
      body.dashboard-light-mode .executive-finance-stat p,
      body.dashboard-light-mode .executive-finance-stat small,
      body.dashboard-light-mode .executive-snapshot-item-head small,
      body.dashboard-light-mode .executive-snapshot-item p,
      body.dashboard-light-mode .executive-snapshot-item ul,
      body.dashboard-light-mode .executive-mini-bar-col small {
        color: #7a6070 !important;
      }
      body.dashboard-light-mode .executive-finance-stat strong,
      body.dashboard-light-mode .executive-mini-chart-head strong,
      body.dashboard-light-mode .executive-snapshot-item-head strong {
        color: #352631 !important;
      }
      body.dashboard-light-mode .onboarding-score-pill {
        border-color: rgba(218, 163, 189, 0.32) !important;
        background: rgba(244, 204, 222, 0.24) !important;
        color: #6e4a5f !important;
      }
      body.dashboard-light-mode .onboarding-progress-track {
        background: rgba(204, 178, 193, 0.18) !important;
        border-color: rgba(220, 175, 197, 0.2) !important;
      }
      body.dashboard-light-mode .onboarding-progress-fill {
        background: linear-gradient(90deg, rgba(216, 131, 172, 0.95), rgba(238, 199, 143, 0.95)) !important;
      }
      body.dashboard-light-mode .calendar-day-revenue-meter {
        background: rgba(191, 163, 178, 0.14) !important;
        border-color: rgba(220, 175, 197, 0.2) !important;
      }
      body.dashboard-light-mode .calendar-day-revenue-meter-fill {
        background: linear-gradient(90deg, rgba(222, 138, 177, 0.92), rgba(238, 200, 144, 0.92)) !important;
      }
      body.dashboard-light-mode .manage-modal,
      body.dashboard-light-mode .contact-admin-modal,
      body.dashboard-light-mode .module-info-modal,
      body.dashboard-light-mode .module-workspace-modal,
      body.dashboard-light-mode .calendar-day-modal {
        border-color: rgba(145, 114, 144, 0.12) !important;
        background:
          radial-gradient(circle at 92% -10%, rgba(255, 194, 216, 0.18), transparent 42%),
          radial-gradient(circle at 10% -12%, rgba(210, 236, 230, 0.1), transparent 40%),
          rgba(255, 251, 254, 0.97) !important;
        color: #2d2330 !important;
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.92),
          0 20px 34px rgba(95, 68, 105, 0.14) !important;
      }
      body.dashboard-light-mode .manage-modal-overlay {
        background: rgba(78, 59, 86, 0.18) !important;
        backdrop-filter: blur(3px);
      }
      body.dashboard-light-mode .manage-modal h3,
      body.dashboard-light-mode .module-info-modal h3,
      body.dashboard-light-mode .module-workspace-modal h3,
      body.dashboard-light-mode .calendar-day-modal h3,
      body.dashboard-light-mode .calendar-day-pane h4,
      body.dashboard-light-mode .module-info-pane h4,
      body.dashboard-light-mode .module-lexi-brief-head h4,
      body.dashboard-light-mode .module-lexi-brief-card h5 {
        color: #2d2330 !important;
      }
      body.dashboard-light-mode .module-info-close {
        border-color: rgba(145, 114, 144, 0.14) !important;
        background: rgba(255,255,255,0.74) !important;
        color: #3a2e3f !important;
      }
      body.dashboard-light-mode .module-info-close:hover {
        border-color: rgba(216, 138, 177, 0.28) !important;
        background: rgba(255, 232, 242, 0.72) !important;
      }
      body.dashboard-light-mode .manage-modal-grid label,
      body.dashboard-light-mode .module-card .module-card-job,
      body.dashboard-light-mode .module-workspace-summary,
      body.dashboard-light-mode .calendar-day-modal-head p,
      body.dashboard-light-mode .module-info-hint,
      body.dashboard-light-mode .calendar-day-stat p,
      body.dashboard-light-mode .calendar-day-pane p,
      body.dashboard-light-mode .module-lexi-brief-head p,
      body.dashboard-light-mode .module-lexi-brief-list li small,
      body.dashboard-light-mode .module-lexi-brief-foot {
        color: #6f6278 !important;
      }
      body.dashboard-light-mode .manage-modal-grid input,
      body.dashboard-light-mode .manage-modal-grid select,
      body.dashboard-light-mode .manage-modal-grid textarea {
        background: rgba(255,255,255,0.92) !important;
        border-color: rgba(145, 114, 144, 0.14) !important;
        color: #302734 !important;
      }
      body.dashboard-light-mode .module-info-pane,
      body.dashboard-light-mode .module-purpose-strip,
      body.dashboard-light-mode .module-purpose-item,
      body.dashboard-light-mode .module-lexi-brief,
      body.dashboard-light-mode .module-lexi-brief-card,
      body.dashboard-light-mode .module-lexi-brief-list li,
      body.dashboard-light-mode .module-operator-hero,
      body.dashboard-light-mode .module-operator-signal,
      body.dashboard-light-mode .module-workboard,
      body.dashboard-light-mode .module-workboard-pane,
      body.dashboard-light-mode .module-workboard-list li,
      body.dashboard-light-mode .module-workboard-automation-row,
      body.dashboard-light-mode .calendar-day-stat,
      body.dashboard-light-mode .calendar-day-pane {
        border-color: rgba(145, 114, 144, 0.1) !important;
        background: rgba(255,255,255,0.78) !important;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.75);
      }
      body.dashboard-light-mode .module-operator-label {
        color: #7f4b69 !important;
      }
      body.dashboard-light-mode .module-lexi-kicker {
        color: #7f4b69 !important;
      }
      body.dashboard-light-mode .module-operator-headline h4,
      body.dashboard-light-mode .module-operator-signal strong,
      body.dashboard-light-mode .module-operator-next h5,
      body.dashboard-light-mode .module-workboard-head h5,
      body.dashboard-light-mode .module-workboard-pane h6,
      body.dashboard-light-mode .module-workboard-list li strong,
      body.dashboard-light-mode .module-workboard-automation-row strong,
      body.dashboard-light-mode .module-lexi-brief-list li strong,
      body.dashboard-light-mode .module-lexi-brief-foot strong {
        color: #2d2330 !important;
      }
      body.dashboard-light-mode .module-operator-headline p,
      body.dashboard-light-mode .module-operator-signal p,
      body.dashboard-light-mode .module-purpose-item p,
      body.dashboard-light-mode .module-workboard-head p,
      body.dashboard-light-mode .module-workboard-list li small,
      body.dashboard-light-mode .module-purpose-item small,
      body.dashboard-light-mode .module-workboard-automation-row small {
        color: #6f6278 !important;
      }
      body.dashboard-light-mode .module-purpose-item strong {
        color: #2d2330 !important;
      }
      body.dashboard-light-mode .module-operator-next .module-info-feature-list li {
        border-color: rgba(145, 114, 144, 0.12) !important;
        background: rgba(157, 195, 255, 0.06) !important;
        color: #3a2f3f !important;
      }
      body.dashboard-light-mode .module-lexi-status-pill {
        border-color: rgba(145, 114, 144, 0.14) !important;
        background: rgba(255,255,255,0.82) !important;
        color: #4f3f57 !important;
      }
      body.dashboard-light-mode .module-lexi-status-pill.is-active {
        border-color: rgba(120, 188, 170, 0.22) !important;
        background: rgba(184, 231, 221, 0.18) !important;
        color: #37635a !important;
      }
      body.dashboard-light-mode .module-lexi-status-pill.is-attention {
        border-color: rgba(214, 164, 77, 0.22) !important;
        background: rgba(255, 229, 170, 0.24) !important;
        color: #7f5722 !important;
      }
      body.dashboard-light-mode .module-card-status {
        border-color: rgba(145, 114, 144, 0.14) !important;
        background: rgba(255,255,255,0.82) !important;
        color: #6f6278 !important;
      }
      body.dashboard-light-mode .module-card-status.is-good,
      body.dashboard-light-mode .module-chip.module-chip-status.is-good {
        border-color: rgba(120, 188, 170, 0.22) !important;
        background: rgba(184, 231, 221, 0.2) !important;
        color: #37635a !important;
      }
      body.dashboard-light-mode .module-card-status.is-attention,
      body.dashboard-light-mode .module-chip.module-chip-status.is-attention {
        border-color: rgba(214, 164, 77, 0.22) !important;
        background: rgba(255, 229, 170, 0.24) !important;
        color: #7f5722 !important;
      }
      body.dashboard-light-mode .module-card-status.is-setup,
      body.dashboard-light-mode .module-chip.module-chip-status.is-setup {
        border-color: rgba(142, 166, 225, 0.22) !important;
        background: rgba(214, 225, 255, 0.28) !important;
        color: #4b5b8d !important;
      }
      body.dashboard-light-mode .module-openclose-shell,
      body.dashboard-light-mode .module-openclose-kpi,
      body.dashboard-light-mode .module-openclose-lane,
      body.dashboard-light-mode .module-openclose-exceptions,
      body.dashboard-light-mode .openclose-check-item,
      body.dashboard-light-mode .openclose-exception {
        border-color: rgba(145, 114, 144, 0.1) !important;
        background: rgba(255,255,255,0.78) !important;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.78);
      }
      body.dashboard-light-mode .module-openclose-kpi strong,
      body.dashboard-light-mode .module-openclose-lane-head h5,
      body.dashboard-light-mode .module-openclose-exceptions-head h5,
      body.dashboard-light-mode .openclose-check-copy strong,
      body.dashboard-light-mode .openclose-exception strong {
        color: #2d2330 !important;
      }
      body.dashboard-light-mode .module-openclose-kpi p,
      body.dashboard-light-mode .module-openclose-kpi small,
      body.dashboard-light-mode .module-openclose-lane-head p,
      body.dashboard-light-mode .openclose-check-copy small,
      body.dashboard-light-mode .openclose-exception small {
        color: #6f6278 !important;
      }
      body.dashboard-light-mode .openclose-check-indicator {
        border-color: rgba(145, 114, 144, 0.14) !important;
        color: #7f4b69 !important;
        background: rgba(255,255,255,0.7) !important;
      }
      body.dashboard-light-mode .module-info-feature-list li {
        border-color: rgba(216, 138, 177, 0.18) !important;
        background: rgba(255, 223, 236, 0.18) !important;
        color: #5f4454 !important;
      }
      body.dashboard-light-mode .module-workspace-actions,
      body.dashboard-light-mode .module-info-actions {
        background: linear-gradient(180deg, rgba(255, 251, 254, 0.7), rgba(255, 248, 252, 0.96)) !important;
        border-top-color: rgba(145, 114, 144, 0.08) !important;
      }
      @media (max-width: 360px) {
        .dash-top h1 {
          font-size: 1rem;
        }
        .panel h2 {
          font-size: 0.9rem;
        }
        .panel p,
        .panel small,
        .panel li {
          font-size: 0.8rem;
        }
        .growth-kpis strong,
        .dash-card strong {
          font-size: 0.98rem;
        }
      }

      /* Premium dashboard polish pass (subscriber/admin/customer) */
      .dash {
        position: relative;
      }
      .dash::before {
        content: "";
        position: absolute;
        inset: -0.4rem 0 auto 0;
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(124, 234, 216, 0.35), transparent);
        pointer-events: none;
        opacity: 0.75;
      }
      .dash > .panel {
        transition: border-color 0.18s ease, box-shadow 0.2s ease, transform 0.2s ease;
      }
      .dash > .panel:hover {
        border-color: rgba(124, 234, 216, 0.16);
      }
      .dash-top {
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.04),
          0 18px 36px rgba(0,0,0,0.22);
      }
      .dash-top h1 {
        letter-spacing: -0.015em;
        text-wrap: balance;
      }
      .dash-top .billing-actions .btn,
      .dash-top .billing-actions select {
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
      }
      .workspace-actions,
      .customer-journey-actions {
        border-color: rgba(109, 185, 255, 0.18);
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.03),
          0 14px 30px rgba(0,0,0,0.22);
      }
      .workspace-actions-head h2,
      .customer-journey-head h2 {
        letter-spacing: -0.015em;
      }
      .workspace-action-btn,
      .customer-journey-link {
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.03);
      }
      .workspace-action-btn strong,
      .customer-journey-link strong {
        letter-spacing: -0.01em;
      }
      #subscriberCalendarSection,
      #subscriberCopilotSection,
      #adminCopilotSection {
        overflow: clip;
      }
      #subscriberCalendarSection .calendar-head h2,
      #subscriberCopilotSection .copilot-head h2,
      #adminCopilotSection .copilot-head h2,
      #businessSetupHubCard > h3,
      #customerSearchSection h2,
      #customerReceptionSection h2,
      #customerSlotsSection h2,
      #customerHistorySection h2,
      #customerAnalyticsSection h2 {
        letter-spacing: -0.015em;
      }
      #subscriberCalendarSection .calendar-nav .btn {
        min-width: 40px;
        min-height: 36px;
      }
      #subscriberCalendarSection .calendar-weekdays {
        background: rgba(8, 13, 23, 0.36);
        border: 1px solid rgba(255,255,255,0.04);
        border-radius: 12px;
        padding: 0.35rem;
      }
      #subscriberCalendarSection .calendar-weekdays span {
        color: #cfe0fb;
        font-weight: 600;
        letter-spacing: 0.01em;
      }
      .copilot-shell {
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.03);
      }
      .copilot-form textarea {
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
      }
      .copilot-result,
      .copilot-card {
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
      }
      #businessSetupHubCard {
        position: relative;
      }
      #businessSetupHubCard > h3 {
        display: inline-flex;
        align-items: center;
        gap: 0.45rem;
      }
      #businessSetupHubCard > h3::before {
        content: "";
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: radial-gradient(circle at 30% 30%, #fff, #7cead8 60%, #3a9f93);
        box-shadow: 0 0 0 6px rgba(124, 234, 216, 0.12);
      }
      .hub-fold summary {
        transition: background 0.18s ease;
      }
      .hub-fold summary:hover {
        background: rgba(255,255,255,0.02);
      }
      .hub-module-shell {
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.03),
          0 10px 20px rgba(0,0,0,0.16);
      }
      .module-navigator-inline {
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.03);
      }
      .module-card {
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
      }
      .module-card:hover {
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.02),
          0 10px 20px rgba(0,0,0,0.16);
      }
      #customerReceptionSection .customer-chat-box {
        border-radius: 14px;
        border: 1px solid rgba(255,255,255,0.11);
        background-color: rgba(255,255,255,0.06);
        background-image: url("/Salon_AI_IMG.png");
        background-position: center 18%;
        background-size: cover;
        background-repeat: no-repeat;
        background-blend-mode: screen;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.07);
      }
      body.dashboard-light-mode #customerReceptionSection .customer-chat-box {
        border-color: rgba(145, 114, 144, 0.16);
        background-color: rgba(255,255,255,0.82);
        background-image: url("/Salon_AI_IMG.png");
        background-position: center 18%;
        background-size: cover;
        background-repeat: no-repeat;
        background-blend-mode: screen;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.75);
      }
      #customerReceptionSection .customer-chat-form {
        border-top: 1px solid rgba(255,255,255,0.05);
        padding-top: 0.55rem;
      }
      #customerSearchSection .customer-results li,
      #customerSlotsSection .customer-slots li,
      #customerHistorySection .customer-history li {
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
      }

      /* Mobile-first dashboard UX pass */
      @media (max-width: 820px) {
        body {
          -webkit-tap-highlight-color: rgba(124, 234, 216, 0.14);
        }
        .dash {
          width: min(96vw, 96vw);
          margin: 0.6rem auto calc(1rem + env(safe-area-inset-bottom));
          gap: 0.65rem;
          padding-bottom: calc(5.5rem + env(safe-area-inset-bottom));
        }
        .dash::before {
          display: none;
        }
        .panel {
          border-radius: 14px;
          padding: 0.75rem;
        }
        .dash-top {
          position: sticky;
          top: 0.3rem;
          z-index: 44;
          gap: 0.65rem;
          padding: 0.68rem;
          border-radius: 14px;
          display: grid;
          grid-template-columns: 1fr;
        }
        .dash-top h1 {
          font-size: 1.08rem;
          line-height: 1.1;
        }
        .dash-role-hint {
          font-size: 0.74rem;
          padding: 0.16rem 0.45rem;
        }
        .dash-action-status {
          min-height: 0;
          font-size: 0.76rem;
        }
        .billing-actions {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 0.4rem;
          justify-content: stretch;
          width: 100%;
        }
        .billing-actions .btn,
        .billing-actions select {
          margin: 0;
          min-height: 42px;
          width: 100%;
          justify-content: center;
          font-size: 0.78rem;
        }
        #subscriptionBillingCycle,
        #subscriptionBillingProvider {
          grid-column: span 2;
        }
        .subscription-quick-panel {
          grid-column: span 2;
          min-width: 0;
        }
        .subscription-plan-actions {
          grid-template-columns: 1fr;
          align-items: stretch;
        }
        .subscription-plan-row {
          grid-template-columns: 1fr;
          align-items: start;
        }
        #manageBilling,
        #logoutBtn {
          grid-column: span 1;
        }
        #startBilling {
          grid-column: span 2;
        }

        .workspace-actions,
        .customer-journey-actions {
          gap: 0.55rem;
          padding: 0.7rem;
        }
        .workspace-actions-head,
        .customer-journey-head {
          align-items: flex-start;
          gap: 0.45rem;
        }
        .workspace-actions-head p,
        .customer-journey-head p {
          font-size: 0.76rem;
          line-height: 1.35;
        }
        .workspace-actions-meta {
          width: 100%;
          justify-content: space-between;
        }
        .workspace-back-btn {
          min-height: 34px;
        }

        .workspace-actions-grid {
          display: grid;
          grid-template-columns: unset;
          grid-auto-flow: column;
          grid-auto-columns: minmax(180px, 78vw);
          overflow-x: auto;
          gap: 0.45rem;
          padding-bottom: 0.15rem;
          scroll-snap-type: x proximity;
          scrollbar-width: none;
        }
        .workspace-actions-grid::-webkit-scrollbar {
          display: none;
        }
        .workspace-action-btn {
          min-height: 74px;
          padding: 0.55rem;
          scroll-snap-align: start;
        }

        .customer-journey-grid {
          display: grid;
          grid-template-columns: unset;
          grid-auto-flow: column;
          grid-auto-columns: minmax(190px, 82vw);
          overflow-x: auto;
          gap: 0.45rem;
          padding-bottom: 0.15rem;
          scroll-snap-type: x proximity;
          scrollbar-width: none;
        }
        .customer-journey-grid::-webkit-scrollbar {
          display: none;
        }
        .customer-journey-link {
          min-height: 72px;
          padding: 0.55rem;
          scroll-snap-align: start;
        }

        #subscriberCalendarSection .calendar-nav {
          gap: 0.3rem;
        }
        #subscriberCalendarSection .calendar-nav .btn {
          min-width: 38px;
          min-height: 38px;
          padding: 0;
        }
        #subscriberCalendarSection .calendar-grid {
          gap: 0.35rem;
          padding: 0.28rem;
        }
        .calendar-feature-shell {
          grid-template-columns: 1fr;
          gap: 0.45rem;
        }
        .calendar-feature-rail {
          position: static;
          top: auto;
          padding: 0.45rem;
        }
        .calendar-feature-stats {
          grid-template-columns: 1fr 1fr;
        }
        #subscriberCalendarSection .calendar-day {
          min-height: 70px;
          border-radius: 10px;
        }
        #subscriberCalendarSection .calendar-day button.calendar-day-btn {
          padding: 0.32rem;
        }

        #subscriberCopilotSection .copilot-shell,
        #adminCopilotSection .copilot-shell {
          padding: 0.45rem;
          gap: 0.55rem;
        }
        #subscriberCopilotSection .copilot-head p,
        #adminCopilotSection .copilot-head p {
          font-size: 0.8rem;
          line-height: 1.38;
        }
        #subscriberCopilotSection .copilot-form textarea,
        #adminCopilotSection .copilot-form textarea {
          min-height: 78px;
          max-height: 160px;
          border-radius: 12px;
          font-size: 0.9rem;
        }
        #subscriberCopilotSection .copilot-form-actions,
        #adminCopilotSection .copilot-form-actions {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 0.4rem;
          align-items: stretch;
        }
        #subscriberCopilotSection .copilot-form-actions .btn,
        #adminCopilotSection .copilot-form-actions .btn {
          min-height: 42px;
          width: 100%;
          justify-content: center;
        }
        #subscriberCopilotSection .copilot-guardrail,
        #adminCopilotSection .copilot-guardrail {
          grid-column: 1 / -1;
          font-size: 0.74rem;
          line-height: 1.3;
        }
        #subscriberCopilotSection .copilot-result,
        #adminCopilotSection .copilot-result {
          padding: 0.62rem;
          border-radius: 12px;
          gap: 0.55rem;
        }
        .ai-assistant-routine-grid {
          grid-template-columns: 1fr;
        }

        #businessGrowthSection .growth-grid {
          gap: 0.55rem;
        }
        .hub-command-deck {
          padding: 0.5rem;
          gap: 0.45rem;
        }
        .hub-command-signal-grid {
          grid-template-columns: 1fr 1fr;
          gap: 0.35rem;
        }
        .hub-command-columns {
          grid-template-columns: 1fr;
          gap: 0.45rem;
        }
        .hub-report-actions {
          display: grid;
          grid-template-columns: 1fr;
        }
        .hub-report-actions .btn {
          width: 100%;
          justify-content: center;
        }
        #businessSetupHubCard {
          padding: 0.72rem;
        }
        .hub-fold summary {
          padding: 0.55rem 0.6rem;
          gap: 0.55rem;
          align-items: flex-start;
        }
        .hub-fold summary > span {
          font-size: 0.84rem;
        }
        .hub-fold summary > small {
          font-size: 0.72rem;
          line-height: 1.25;
        }
        .hub-fold-body {
          padding: 0 0.6rem 0.6rem;
        }
        .hub-module-shell {
          padding: 0.5rem;
          gap: 0.45rem;
        }
        .hub-module-head p {
          font-size: 0.74rem;
        }
        .module-navigator-inline {
          padding: 0.5rem;
        }
        .module-group {
          padding: 0.45rem;
          border-radius: 12px;
        }
        .module-group-grid {
          display: grid;
          grid-template-columns: unset;
          grid-auto-flow: column;
          grid-auto-columns: minmax(180px, 82vw);
          overflow-x: auto;
          gap: 0.42rem;
          padding-bottom: 0.1rem;
          scroll-snap-type: x proximity;
          scrollbar-width: none;
        }
        .module-group-grid::-webkit-scrollbar {
          display: none;
        }
        .module-card {
          min-height: 86px;
          scroll-snap-align: start;
        }
        .module-info {
          padding: 0.58rem;
          border-radius: 12px;
        }

        .customer-search-form,
        .customer-chat-form {
          gap: 0.42rem;
        }
        .customer-search-form input,
        .customer-search-form select,
        .customer-chat-form input {
          min-height: 42px;
          border-radius: 12px;
        }
        .customer-search-form .btn,
        .customer-chat-form .btn {
          min-height: 42px;
          width: 100%;
          justify-content: center;
        }
        #customerReceptionSection .customer-chat-box {
          min-height: 210px;
          max-height: 44vh;
          padding: 0.55rem;
        }

        .module-info-modal,
        .module-workspace-modal,
        .calendar-day-modal {
          width: min(96vw, 96vw);
          max-height: min(88vh, calc(100dvh - 1rem));
          border-radius: 14px;
          padding: 0.7rem;
        }
        .module-info-actions,
        .module-workspace-actions {
          position: sticky;
          bottom: 0;
          background: linear-gradient(180deg, rgba(9, 15, 28, 0.68), rgba(9, 15, 28, 0.96));
          padding-top: 0.45rem;
          margin-top: 0.2rem;
          border-top: 1px solid rgba(255,255,255,0.05);
        }
        .module-info-actions .btn,
        .module-workspace-actions .btn {
          min-height: 42px;
        }
        .calendar-day-actions-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 0.35rem;
        }
        .calendar-day-actions-row .btn {
          width: 100%;
          min-height: 40px;
          justify-content: center;
        }
        .mobile-bottom-nav {
          position: fixed;
          left: 0.55rem;
          right: 0.55rem;
          bottom: calc(0.45rem + env(safe-area-inset-bottom));
          z-index: 70;
          display: grid;
          grid-template-columns: repeat(5, minmax(0, 1fr));
          gap: 0.35rem;
          padding: 0.42rem;
          border-radius: 16px;
          border: 1px solid rgba(124, 234, 216, 0.14);
          background:
            radial-gradient(circle at 12% -20%, rgba(109, 185, 255, 0.14), transparent 44%),
            radial-gradient(circle at 88% -22%, rgba(124, 234, 216, 0.12), transparent 42%),
            rgba(8, 13, 23, 0.92);
          backdrop-filter: blur(12px);
          box-shadow:
            inset 0 1px 0 rgba(255,255,255,0.03),
            0 18px 34px rgba(0,0,0,0.36);
        }
        .mobile-bottom-nav-item {
          border: 1px solid rgba(255,255,255,0.06);
          border-radius: 12px;
          background: rgba(9, 15, 28, 0.58);
          color: var(--ink);
          min-height: 52px;
          padding: 0.32rem 0.28rem;
          display: grid;
          align-content: center;
          justify-items: center;
          gap: 0.08rem;
          text-align: center;
          cursor: pointer;
          transition: border-color 0.18s ease, background 0.18s ease, transform 0.18s ease;
        }
        .mobile-bottom-nav-item:hover {
          border-color: rgba(124, 234, 216, 0.22);
        }
        .mobile-bottom-nav-item.is-active {
          border-color: rgba(124, 234, 216, 0.38);
          background:
            radial-gradient(circle at 50% -20%, rgba(124, 234, 216, 0.14), transparent 55%),
            rgba(12, 20, 36, 0.78);
          box-shadow: inset 0 1px 0 rgba(255,255,255,0.03);
        }
        .mobile-bottom-nav-item .mobile-nav-icon {
          font-size: 0.92rem;
          line-height: 1;
          opacity: 0.94;
        }
        .mobile-bottom-nav-item .mobile-nav-label {
          font-size: 0.64rem;
          line-height: 1.05;
          letter-spacing: 0.01em;
          color: #d8e5fb;
        }
        body[data-role="subscriber"] .mobile-bottom-nav,
        body[data-role="admin"] .mobile-bottom-nav {
          grid-template-columns: repeat(6, minmax(0, 1fr));
        }
        .mobile-bottom-nav-item.quick-action {
          transform: translateY(-8px);
          border-radius: 14px;
          border-color: rgba(124, 234, 216, 0.32);
          background:
            radial-gradient(circle at 50% -25%, rgba(124, 234, 216, 0.24), transparent 58%),
            linear-gradient(180deg, rgba(33, 88, 154, 0.94), rgba(20, 57, 104, 0.96));
          box-shadow:
            inset 0 1px 0 rgba(255,255,255,0.08),
            0 10px 18px rgba(0,0,0,0.28);
        }
        .mobile-bottom-nav-item.quick-action .mobile-nav-icon {
          font-size: 1.08rem;
          color: #eff8ff;
        }
        .mobile-bottom-nav-item.quick-action .mobile-nav-label {
          color: #f0f7ff;
          font-weight: 700;
        }
        .mobile-quick-sheet-overlay {
          position: fixed;
          inset: 0;
          z-index: 80;
          display: none;
          align-items: flex-end;
          justify-content: center;
          padding: 0.6rem 0.55rem calc(5.4rem + env(safe-area-inset-bottom));
          background: rgba(3, 7, 14, 0.55);
          backdrop-filter: blur(6px);
        }
        .mobile-quick-sheet-overlay.is-open {
          display: flex;
        }
        .mobile-quick-sheet {
          width: min(100%, 520px);
          border-radius: 16px;
          border: 1px solid rgba(124, 234, 216, 0.14);
          background:
            radial-gradient(circle at 10% -10%, rgba(109, 185, 255, 0.14), transparent 40%),
            radial-gradient(circle at 92% -12%, rgba(124, 234, 216, 0.12), transparent 42%),
            rgba(8, 13, 23, 0.95);
          box-shadow:
            inset 0 1px 0 rgba(255,255,255,0.04),
            0 20px 36px rgba(0,0,0,0.35);
          padding: 0.65rem;
          display: grid;
          gap: 0.55rem;
        }
        .mobile-quick-sheet-head {
          display: flex;
          align-items: flex-start;
          justify-content: space-between;
          gap: 0.55rem;
        }
        .mobile-quick-sheet-head h3 {
          margin: 0;
          font-size: 0.95rem;
          letter-spacing: -0.01em;
        }
        .mobile-quick-sheet-head p {
          margin: 0.2rem 0 0;
          color: var(--muted);
          font-size: 0.76rem;
          line-height: 1.3;
        }
        .mobile-quick-sheet-close {
          min-width: 38px;
          min-height: 38px;
          padding: 0;
          border-radius: 10px;
        }
        .mobile-quick-sheet-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 0.45rem;
        }
        .mobile-quick-sheet-btn {
          border: 1px solid rgba(255,255,255,0.07);
          border-radius: 12px;
          background: rgba(9, 15, 28, 0.7);
          color: var(--ink);
          padding: 0.55rem;
          text-align: left;
          display: grid;
          gap: 0.2rem;
          min-height: 64px;
        }
        .mobile-quick-sheet-btn-head {
          display: flex;
          align-items: center;
          gap: 0.35rem;
        }
        .mobile-quick-sheet-btn-icon {
          width: 1.2rem;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          font-size: 0.9rem;
          line-height: 1;
          opacity: 0.95;
        }
        .mobile-quick-sheet-btn strong {
          font-size: 0.8rem;
          line-height: 1.15;
        }
        .mobile-quick-sheet-btn small {
          color: var(--muted);
          font-size: 0.7rem;
          line-height: 1.2;
        }
      }

      @media (max-width: 430px) {
        .dash {
          width: min(98vw, 98vw);
          margin: 0.45rem auto calc(0.9rem + env(safe-area-inset-bottom));
        }
        .mobile-bottom-nav {
          left: 0.42rem;
          right: 0.42rem;
          bottom: calc(0.35rem + env(safe-area-inset-bottom));
          gap: 0.28rem;
          padding: 0.34rem;
          border-radius: 14px;
        }
        .mobile-bottom-nav-item.quick-action {
          transform: translateY(-6px);
        }
        .mobile-quick-sheet-overlay {
          padding: 0.45rem 0.42rem calc(5rem + env(safe-area-inset-bottom));
        }
        .mobile-quick-sheet {
          border-radius: 14px;
          padding: 0.55rem;
        }
        .mobile-quick-sheet-grid {
          grid-template-columns: 1fr;
        }
        .mobile-bottom-nav-item {
          min-height: 48px;
          border-radius: 10px;
          padding: 0.24rem 0.2rem;
        }
        .mobile-bottom-nav-item .mobile-nav-label {
          font-size: 0.6rem;
        }
        .panel {
          padding: 0.62rem;
          border-radius: 12px;
        }
        .dash-top {
          top: 0.2rem;
          padding: 0.58rem;
          border-radius: 12px;
        }
        .billing-actions {
          grid-template-columns: 1fr;
        }
        .subscription-quick-panel {
          grid-column: auto;
        }
        #subscriptionBillingCycle,
        #subscriptionBillingProvider,
        #startBilling {
          grid-column: auto;
        }
        .workspace-actions-grid {
          grid-auto-columns: minmax(170px, 86vw);
        }
        .customer-journey-grid {
          grid-auto-columns: minmax(180px, 88vw);
        }
        .module-group-grid {
          grid-auto-columns: minmax(170px, 88vw);
        }
        .calendar-day-actions-row {
          grid-template-columns: 1fr;
        }
        .calendar-feature-stats {
          grid-template-columns: 1fr;
        }
      }

      /* Lexi + Calendar redesign pass */
      .calendar-wow-strip {
        margin-top: 0.55rem;
        border: 1px solid rgba(124, 234, 216, 0.2);
        border-radius: 16px;
        background:
          radial-gradient(circle at 100% -10%, rgba(255, 199, 92, 0.08), transparent 46%),
          radial-gradient(circle at 8% -12%, rgba(109, 185, 255, 0.12), transparent 42%),
          rgba(8, 13, 23, 0.72);
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.03),
          0 14px 28px rgba(0,0,0,0.24);
        padding: 0.75rem;
        display: grid;
        gap: 0.55rem;
      }
      .calendar-wow-strip-head h3 {
        margin: 0.12rem 0 0;
        font-size: 1rem;
        line-height: 1.25;
        letter-spacing: -0.01em;
      }
      .calendar-wow-strip-head p:last-child {
        margin: 0.42rem 0 0;
        color: var(--muted);
        line-height: 1.4;
        font-size: 0.84rem;
      }
      .calendar-wow-kicker {
        margin: 0;
        color: #9cf5e8;
        font-size: 0.72rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        font-weight: 800;
      }
      .calendar-wow-strip-pills {
        display: flex;
        flex-wrap: wrap;
        gap: 0.4rem;
      }
      .calendar-wow-strip-pills span {
        border: 1px solid rgba(124, 234, 216, 0.16);
        border-radius: 999px;
        background: rgba(124, 234, 216, 0.05);
        color: #dcfff8;
        padding: 0.2rem 0.48rem;
        font-size: 0.72rem;
      }

      #subscriberCalendarSection .calendar-feature-shell {
        margin-top: 0.7rem;
        grid-template-columns: minmax(0, 1.95fr) minmax(280px, 1fr);
        gap: 0.75rem;
        flex: 1;
        align-items: stretch;
      }
      #subscriberCalendarSection {
        display: flex;
        flex-direction: column;
      }
      #subscriberCalendarSection .calendar-feature-main,
      #subscriberCalendarSection .calendar-stage {
        height: 100%;
      }
      #subscriberCalendarSection .calendar-stage {
        border-color: rgba(124, 234, 216, 0.2);
        border-radius: 18px;
        background:
          radial-gradient(circle at 92% -8%, rgba(124, 234, 216, 0.1), transparent 46%),
          radial-gradient(circle at 8% -10%, rgba(109, 185, 255, 0.12), transparent 44%),
          linear-gradient(165deg, rgba(10, 17, 31, 0.9), rgba(7, 12, 21, 0.88));
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.04),
          0 18px 34px rgba(0,0,0,0.24);
        padding: 0.62rem;
      }
      #subscriberCalendarSection .calendar-weekdays,
      #subscriberCalendarSection .calendar-grid {
        gap: 0.5rem;
      }
      #subscriberCalendarSection .calendar-weekdays span {
        border-radius: 8px;
        background: rgba(255,255,255,0.02);
        padding: 0.3rem 0.14rem 0.22rem;
        font-size: 0.74rem;
        letter-spacing: 0.08em;
      }
      #subscriberCalendarSection .calendar-day {
        min-height: 96px;
        border-radius: 14px;
        border-color: rgba(167, 193, 255, 0.16);
        background:
          radial-gradient(circle at 100% 0%, rgba(109, 185, 255, 0.04), transparent 46%),
          rgba(10, 16, 28, 0.82);
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
      }
      #subscriberCalendarSection .calendar-day strong {
        font-size: 0.98rem;
      }
      #subscriberCalendarSection .calendar-day.has-bookings {
        border-color: rgba(124, 234, 216, 0.42);
        background:
          radial-gradient(circle at 0% 100%, rgba(124, 234, 216, 0.1), transparent 55%),
          rgba(10, 17, 28, 0.86);
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.02),
          inset 0 0 0 1px rgba(124, 234, 216, 0.06);
      }
      #subscriberCalendarSection .calendar-day.selected {
        border-color: rgba(109, 185, 255, 0.62);
        background:
          radial-gradient(circle at 80% 0%, rgba(109, 185, 255, 0.16), transparent 52%),
          rgba(10, 17, 28, 0.9);
        box-shadow:
          inset 0 0 0 1px rgba(109,185,255,0.18),
          0 10px 22px rgba(18, 64, 122, 0.18);
      }
      #subscriberCalendarSection .calendar-day:not(.empty):hover {
        transform: translateY(-2px) scale(1.01);
        border-color: rgba(124, 234, 216, 0.36);
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.03),
          0 12px 22px rgba(0,0,0,0.2);
      }
      #subscriberCalendarSection .calendar-feature-rail {
        border-radius: 18px;
        border-color: rgba(167, 193, 255, 0.16);
        background:
          radial-gradient(circle at 100% 0%, rgba(109, 185, 255, 0.1), transparent 46%),
          radial-gradient(circle at 0% 100%, rgba(124, 234, 216, 0.08), transparent 46%),
          rgba(9, 14, 25, 0.78);
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.03),
          0 16px 30px rgba(0,0,0,0.22);
        padding: 0.7rem;
        gap: 0.6rem;
        align-content: start;
      }
      #subscriberCalendarSection .calendar-feature-meta,
      #subscriberCalendarSection .calendar-selected-day-card {
        border-radius: 14px;
        padding: 0.6rem;
      }
      #subscriberCalendarSection .calendar-feature-meta {
        border-color: rgba(255,255,255,0.08);
        background: rgba(255,255,255,0.03);
      }
      #subscriberCalendarSection .calendar-feature-stats {
        gap: 0.45rem;
      }
      #subscriberCalendarSection .calendar-feature-stats article {
        border-radius: 14px;
        border-color: rgba(255,255,255,0.08);
        background: rgba(255,255,255,0.03);
        padding: 0.55rem;
      }
      #subscriberCalendarSection .calendar-feature-stats article strong {
        font-size: 1.05rem;
      }
      #subscriberCalendarSection .calendar-selected-day-card {
        border-color: rgba(109, 185, 255, 0.18);
        background:
          radial-gradient(circle at 100% 0%, rgba(109, 185, 255, 0.1), transparent 52%),
          rgba(255,255,255,0.025);
      }
      #subscriberCalendarSection .calendar-selected-day-card h3 {
        font-size: 0.74rem;
        color: #cfe8ff;
      }
      #subscriberCalendarSection .calendar-feature-meta-head {
        display: grid;
        gap: 0.18rem;
        margin-bottom: 0.35rem;
      }
      #subscriberCalendarSection .calendar-feature-meta-kicker {
        margin: 0;
        color: #9cf5e8;
        font-size: 0.68rem;
        letter-spacing: 0.09em;
        text-transform: uppercase;
        font-weight: 800;
      }
      #subscriberCalendarSection .calendar-feature-meta-copy {
        margin: 0.22rem 0 0;
        color: var(--muted);
        line-height: 1.38;
        font-size: 0.78rem;
      }
      #subscriberCalendarSection .calendar-lexi-badges {
        display: flex;
        flex-wrap: wrap;
        gap: 0.35rem;
        margin-top: 0.45rem;
      }
      #subscriberCalendarSection .calendar-lexi-badges span {
        border: 1px solid rgba(255,255,255,0.08);
        background: rgba(255,255,255,0.03);
        border-radius: 999px;
        padding: 0.16rem 0.45rem;
        font-size: 0.68rem;
        color: #d8e8ff;
      }
      #subscriberCalendarSection .calendar-stat-card {
        position: relative;
        overflow: hidden;
      }
      #subscriberCalendarSection .calendar-stat-card::after {
        content: "";
        position: absolute;
        inset: auto 0 0 0;
        height: 2px;
        opacity: 0.9;
      }
      #subscriberCalendarSection .calendar-stat-card-hot::after {
        background: linear-gradient(90deg, rgba(255, 99, 99, 0.9), rgba(255, 196, 116, 0.75));
      }
      #subscriberCalendarSection .calendar-stat-card-balanced::after {
        background: linear-gradient(90deg, rgba(124, 234, 216, 0.85), rgba(109, 185, 255, 0.8));
      }
      #subscriberCalendarSection .calendar-stat-card-open::after {
        background: linear-gradient(90deg, rgba(179, 198, 230, 0.75), rgba(124, 234, 216, 0.45));
      }
      #subscriberCalendarSection .calendar-stat-card-neutral::after {
        background: rgba(255,255,255,0.12);
      }
      #subscriberCalendarSection .calendar-day.is-today {
        border-color: rgba(255, 198, 115, 0.55);
        box-shadow:
          inset 0 0 0 1px rgba(255, 198, 115, 0.16),
          0 0 0 1px rgba(255, 198, 115, 0.08);
      }
      #subscriberCalendarSection .calendar-day.is-today .calendar-day-btn strong {
        color: #ffe7b2;
      }
      #subscriberCalendarSection .calendar-day.selected::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        pointer-events: none;
        box-shadow: inset 0 0 0 1px rgba(109, 185, 255, 0.22);
        animation: lexiCalendarPulse 2.6s ease-in-out infinite;
      }
      #subscriberCalendarSection .calendar-selected-day-card {
        display: grid;
        gap: 0.52rem;
      }
      #subscriberCalendarSection .calendar-spotlight-head {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 0.5rem;
      }
      #subscriberCalendarSection .calendar-spotlight-head h3 {
        margin: 0;
      }
      #subscriberCalendarSection .calendar-spotlight-tag {
        border-radius: 999px;
        border: 1px solid rgba(109, 185, 255, 0.24);
        background: rgba(109, 185, 255, 0.08);
        color: #d8ecff;
        padding: 0.18rem 0.45rem;
        font-size: 0.68rem;
        font-weight: 700;
        white-space: nowrap;
      }
      #subscriberCalendarSection .calendar-lexi-actions {
        display: grid;
        grid-template-columns: 1fr;
        gap: 0.4rem;
      }
      #subscriberCalendarSection .calendar-lexi-action {
        justify-content: flex-start;
        text-align: left;
        border-radius: 10px;
        border-color: rgba(255,255,255,0.1);
        background: rgba(255,255,255,0.03);
        color: #eef7ff;
        font-size: 0.75rem;
        line-height: 1.25;
      }
      #subscriberCalendarSection .calendar-lexi-action:hover:not(.is-disabled) {
        border-color: rgba(124, 234, 216, 0.24);
        background: rgba(124, 234, 216, 0.07);
        transform: translateY(-1px);
      }
      #subscriberCalendarSection .calendar-lexi-action.is-disabled {
        opacity: 0.55;
        cursor: not-allowed;
      }
      #subscriberCalendarSection .calendar-lexi-command-deck {
        margin-top: 0.7rem;
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 0.6rem;
      }
      #subscriberCalendarSection .calendar-lexi-command-card {
        border: 1px solid rgba(167, 193, 255, 0.16);
        border-radius: 14px;
        background:
          radial-gradient(circle at 100% 0%, rgba(109, 185, 255, 0.08), transparent 50%),
          rgba(255,255,255,0.025);
        padding: 0.6rem;
        display: grid;
        gap: 0.35rem;
        align-content: start;
      }
      #subscriberCalendarSection .calendar-lexi-command-card h4 {
        margin: 0;
        font-size: 0.88rem;
        line-height: 1.2;
        letter-spacing: -0.01em;
      }
      #subscriberCalendarSection .calendar-lexi-command-card p {
        margin: 0;
        color: var(--muted);
        font-size: 0.77rem;
        line-height: 1.35;
      }
      #subscriberCalendarSection .calendar-lexi-command-kicker {
        color: #9cf5e8 !important;
        font-size: 0.67rem !important;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        font-weight: 800;
      }
      #subscriberCalendarSection .calendar-lexi-command-card .btn {
        justify-content: flex-start;
        text-align: left;
        margin-top: 0.1rem;
      }
      @keyframes lexiCalendarPulse {
        0%, 100% { opacity: 0.35; }
        50% { opacity: 0.95; }
      }

      #subscriberCopilotSection .copilot-shell,
      #adminCopilotSection .copilot-shell {
        gap: 0.85rem;
      }
      #subscriberCopilotSection .copilot-head,
      #adminCopilotSection .copilot-head {
        border: 1px solid rgba(167, 193, 255, 0.16);
        border-radius: 16px;
        background:
          radial-gradient(circle at 100% 0%, rgba(109, 185, 255, 0.08), transparent 48%),
          rgba(9, 14, 24, 0.58);
        padding: 0.7rem;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.03);
      }
      #subscriberCopilotSection .copilot-head h2,
      #adminCopilotSection .copilot-head h2 {
        letter-spacing: -0.02em;
      }
      .lexi-command-card {
        border: 1px solid rgba(124, 234, 216, 0.18);
        border-radius: 18px;
        background:
          radial-gradient(circle at 90% -8%, rgba(124, 234, 216, 0.08), transparent 44%),
          radial-gradient(circle at 0% 100%, rgba(109, 185, 255, 0.1), transparent 48%),
          rgba(8, 13, 23, 0.78);
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.03),
          0 16px 28px rgba(0,0,0,0.22);
        padding: 0.7rem;
        display: grid;
        grid-template-columns: 132px minmax(0, 1fr);
        gap: 0.7rem;
        align-items: stretch;
      }
      .lexi-command-card-admin {
        border-color: rgba(109, 185, 255, 0.18);
      }
      .lexi-command-card-portrait {
        border-radius: 14px;
        border: 1px solid rgba(255,255,255,0.07);
        background:
          linear-gradient(180deg, rgba(4, 7, 13, 0.08), rgba(4, 7, 13, 0.18)),
          url("/Salon_AI_IMG.png") center 18% / cover no-repeat;
        min-height: 130px;
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
      }
      .lexi-command-card-copy {
        display: grid;
        align-content: start;
        gap: 0.35rem;
      }
      .lexi-command-card-kicker {
        margin: 0;
        color: #9cf5e8;
        font-size: 0.72rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        font-weight: 800;
      }
      .lexi-command-card-copy h3 {
        margin: 0;
        font-size: 1.02rem;
        line-height: 1.22;
        letter-spacing: -0.01em;
      }
      .lexi-command-card-copy p:last-of-type {
        margin: 0;
        color: var(--muted);
        font-size: 0.84rem;
        line-height: 1.4;
      }
      .lexi-command-chip-row {
        display: flex;
        flex-wrap: wrap;
        gap: 0.35rem;
        margin-top: 0.12rem;
      }
      .lexi-command-chip-row span {
        border-radius: 999px;
        border: 1px solid rgba(124, 234, 216, 0.14);
        background: rgba(124, 234, 216, 0.05);
        color: #d8fff6;
        padding: 0.16rem 0.44rem;
        font-size: 0.69rem;
      }
      #subscriberCopilotSection .ai-assistant-workspace,
      #adminCopilotSection .ai-assistant-workspace {
        border-radius: 18px;
        border-color: rgba(124, 234, 216, 0.18);
        background:
          radial-gradient(circle at 92% -10%, rgba(124, 234, 216, 0.09), transparent 42%),
          radial-gradient(circle at 10% -12%, rgba(109, 185, 255, 0.12), transparent 42%),
          rgba(8, 14, 26, 0.74);
        padding: 0.7rem;
        gap: 0.6rem;
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.03),
          0 14px 28px rgba(0,0,0,0.18);
      }
      #subscriberCopilotSection .ai-assistant-context,
      #adminCopilotSection .ai-assistant-context {
        border-radius: 14px;
        border-color: rgba(255,255,255,0.08);
        background: rgba(255,255,255,0.03);
        padding: 0.6rem;
        font-size: 0.8rem;
        line-height: 1.45;
      }
      #subscriberCopilotSection .ai-scope-chip,
      #adminCopilotSection .ai-scope-chip {
        padding: 0.28rem 0.62rem;
        font-size: 0.74rem;
        border-color: rgba(255,255,255,0.1);
        background: rgba(255,255,255,0.03);
      }
      #subscriberCopilotSection .ai-scope-chip.is-active,
      #adminCopilotSection .ai-scope-chip.is-active {
        border-color: rgba(124, 234, 216, 0.28);
        background: rgba(124, 234, 216, 0.08);
      }
      #subscriberCopilotSection .ai-assistant-routine-grid,
      #adminCopilotSection .ai-assistant-routine-grid {
        gap: 0.5rem;
      }
      #subscriberCopilotSection .ai-routine-btn,
      #adminCopilotSection .ai-routine-btn {
        border-radius: 14px;
        border-color: rgba(255,255,255,0.08);
        background:
          radial-gradient(circle at 100% 0%, rgba(109, 185, 255, 0.04), transparent 50%),
          rgba(255,255,255,0.025);
        padding: 0.6rem;
        min-height: 78px;
        gap: 0.2rem;
      }
      #subscriberCopilotSection .ai-routine-btn strong,
      #adminCopilotSection .ai-routine-btn strong {
        font-size: 0.82rem;
      }
      #subscriberCopilotSection .ai-routine-btn small,
      #adminCopilotSection .ai-routine-btn small {
        font-size: 0.72rem;
      }
      #subscriberCopilotSection .copilot-launch-row,
      #adminCopilotSection .copilot-launch-row {
        border-radius: 14px;
        border-color: rgba(167, 193, 255, 0.16);
        background:
          radial-gradient(circle at 100% 0%, rgba(109, 185, 255, 0.06), transparent 50%),
          rgba(9, 15, 28, 0.52);
        padding: 0.75rem;
      }
      #subscriberCopilotSection .copilot-result,
      #adminCopilotSection .copilot-result {
        border-radius: 14px;
        border-color: rgba(167, 193, 255, 0.18);
        background: rgba(9, 15, 28, 0.74);
      }

      body.dashboard-light-mode .calendar-wow-strip {
        border-color: rgba(145, 114, 144, 0.14);
        background:
          radial-gradient(circle at 100% 0%, rgba(255, 201, 220, 0.14), transparent 44%),
          radial-gradient(circle at 6% -10%, rgba(199, 236, 226, 0.12), transparent 42%),
          rgba(255,255,255,0.92);
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.9),
          0 10px 22px rgba(95, 68, 105, 0.08);
      }
      body.dashboard-light-mode .calendar-wow-strip-head h3 {
        color: #36283c;
      }
      body.dashboard-light-mode .calendar-wow-strip-head p:last-child {
        color: #6e6077;
      }
      body.dashboard-light-mode .calendar-wow-kicker {
        color: #3f8a85;
      }
      body.dashboard-light-mode .calendar-wow-strip-pills span {
        border-color: rgba(145, 114, 144, 0.12);
        background: rgba(255,255,255,0.68);
        color: #544660;
      }
      body.dashboard-light-mode #subscriberCalendarSection .calendar-feature-meta-kicker {
        color: #2e8880;
      }
      body.dashboard-light-mode #subscriberCalendarSection .calendar-feature-meta-copy {
        color: #6e6077;
      }
      body.dashboard-light-mode #subscriberCalendarSection .calendar-lexi-badges span {
        border-color: rgba(145, 114, 144, 0.12);
        background: rgba(255,255,255,0.74);
        color: #544660;
      }
      body.dashboard-light-mode #subscriberCalendarSection .calendar-spotlight-tag {
        border-color: rgba(145, 114, 144, 0.14);
        background: rgba(255,255,255,0.75);
        color: #594b63;
      }
      body.dashboard-light-mode #subscriberCalendarSection .calendar-lexi-action {
        border-color: rgba(145, 114, 144, 0.14);
        background: rgba(255,255,255,0.72);
        color: #46384d;
      }
      body.dashboard-light-mode #subscriberCalendarSection .calendar-lexi-action:hover:not(.is-disabled) {
        border-color: rgba(92, 165, 156, 0.2);
        background: rgba(236, 251, 248, 0.92);
      }
      body.dashboard-light-mode #subscriberCalendarSection .calendar-lexi-command-card {
        border-color: rgba(145, 114, 144, 0.12);
        background: rgba(255,255,255,0.78);
      }
      body.dashboard-light-mode #subscriberCalendarSection .calendar-lexi-command-card p {
        color: #6e6077;
      }
      body.dashboard-light-mode #subscriberCalendarSection .calendar-lexi-command-kicker {
        color: #2e8880 !important;
      }
      body.dashboard-light-mode .lexi-command-card {
        border-color: rgba(145, 114, 144, 0.14);
        background:
          radial-gradient(circle at 100% 0%, rgba(255, 201, 220, 0.12), transparent 44%),
          radial-gradient(circle at 6% -10%, rgba(199, 236, 226, 0.1), transparent 42%),
          rgba(255,255,255,0.94);
        box-shadow:
          inset 0 1px 0 rgba(255,255,255,0.9),
          0 10px 22px rgba(95, 68, 105, 0.07);
      }
      body.dashboard-light-mode .lexi-command-card-kicker {
        color: #2e8880;
      }
      body.dashboard-light-mode .lexi-command-card-copy h3 {
        color: #36283c;
      }
      body.dashboard-light-mode .lexi-command-card-copy p:last-of-type {
        color: #6e6077;
      }
      body.dashboard-light-mode .lexi-command-chip-row span {
        border-color: rgba(145, 114, 144, 0.12);
        background: rgba(255,255,255,0.7);
        color: #554861;
      }

      @media (max-width: 1100px) {
        #subscriberCalendarSection .calendar-feature-shell {
          grid-template-columns: 1fr;
        }
        #subscriberCalendarSection .calendar-feature-rail {
          position: relative;
          top: auto;
        }
        .lexi-command-card {
          grid-template-columns: 108px minmax(0, 1fr);
        }
      }
      @media (max-width: 760px) {
        .calendar-wow-strip {
          padding: 0.62rem;
          border-radius: 14px;
        }
        .calendar-wow-strip-head h3 {
          font-size: 0.92rem;
        }
        #subscriberCalendarSection .calendar-stage,
        #subscriberCalendarSection .calendar-feature-rail {
          border-radius: 14px;
          padding: 0.55rem;
        }
        #subscriberCalendarSection .calendar-lexi-command-deck {
          grid-template-columns: 1fr;
          gap: 0.45rem;
        }
        #subscriberCalendarSection .calendar-weekdays,
        #subscriberCalendarSection .calendar-grid {
          gap: 0.35rem;
        }
        #subscriberCalendarSection .calendar-day {
          min-height: 88px;
          border-radius: 12px;
          padding: 0.4rem;
        }
        #subscriberCalendarSection .calendar-spotlight-head {
          align-items: flex-start;
          flex-direction: column;
        }
        .lexi-command-card {
          grid-template-columns: 1fr;
          gap: 0.55rem;
          padding: 0.6rem;
          border-radius: 14px;
        }
        .lexi-command-card-portrait {
          min-height: 100px;
        }
        #subscriberCopilotSection .ai-assistant-routine-grid,
        #adminCopilotSection .ai-assistant-routine-grid {
          grid-template-columns: 1fr;
        }
      }

      /* Customer Lexi calendar planner */
      .customer-lexi-calendar-shell {
        display: grid;
        grid-template-columns: minmax(250px, 0.95fr) minmax(0, 1.7fr) minmax(240px, 1fr);
        gap: 0.7rem;
        margin-top: 0.8rem;
      }
      .customer-lexi-card,
      .customer-lexi-calendar-panel,
      .customer-lexi-summary-panel {
        border: 1px solid rgba(167, 193, 255, 0.14);
        border-radius: 16px;
        background:
          radial-gradient(circle at 100% 0%, rgba(109, 185, 255, 0.08), transparent 48%),
          radial-gradient(circle at 0% 100%, rgba(124, 234, 216, 0.06), transparent 48%),
          rgba(9, 14, 25, 0.74);
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.03), 0 14px 28px rgba(0,0,0,0.16);
      }
      .customer-lexi-card {
        padding: 0.65rem;
        display: grid;
        align-content: start;
        gap: 0.55rem;
      }
      .customer-lexi-card-portrait {
        min-height: 124px;
        border-radius: 12px;
        border: 1px solid rgba(255,255,255,0.07);
        background:
          linear-gradient(180deg, rgba(4,7,13,0.08), rgba(4,7,13,0.2)),
          url("/Salon_AI_IMG.png") center 18% / cover no-repeat;
      }
      .customer-lexi-card .kicker {
        margin: 0;
        color: #9cf5e8;
        font-size: 0.7rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        font-weight: 800;
      }
      .customer-lexi-card h3 {
        margin: 0;
        font-size: 1rem;
        line-height: 1.2;
      }
      .customer-lexi-card .meta {
        margin: 0;
        color: var(--muted);
        font-size: 0.82rem;
        line-height: 1.4;
      }
      .customer-lexi-chip-row {
        display: flex;
        flex-wrap: wrap;
        gap: 0.35rem;
      }
      .customer-lexi-chip-row span {
        border-radius: 999px;
        border: 1px solid rgba(124, 234, 216, 0.14);
        background: rgba(124, 234, 216, 0.05);
        color: #dcfff8;
        padding: 0.16rem 0.45rem;
        font-size: 0.68rem;
      }
      .customer-lexi-calendar-panel {
        padding: 0.65rem;
        display: grid;
        gap: 0.55rem;
      }
      .customer-lexi-calendar-head {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.5rem;
        flex-wrap: wrap;
      }
      .customer-lexi-view-tabs {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 999px;
        background: rgba(255,255,255,0.03);
        padding: 0.18rem;
      }
      .customer-lexi-view-tab {
        border: none;
        background: transparent;
        color: var(--muted);
        border-radius: 999px;
        padding: 0.22rem 0.5rem;
        font-size: 0.7rem;
        font-weight: 700;
        cursor: pointer;
      }
      .customer-lexi-view-tab.is-active {
        background: rgba(109, 185, 255, 0.12);
        color: #e9f3ff;
        box-shadow: inset 0 0 0 1px rgba(109, 185, 255, 0.2);
      }
      .customer-lexi-calendar-month {
        margin: 0.18rem 0 0;
        color: #d7e9ff;
        font-weight: 700;
        letter-spacing: -0.01em;
      }
      .customer-lexi-calendar-meta {
        border-radius: 12px;
        border: 1px solid rgba(255,255,255,0.07);
        background: rgba(255,255,255,0.03);
        padding: 0.55rem;
        color: var(--muted);
        font-size: 0.78rem;
        line-height: 1.4;
      }
      .customer-lexi-calendar-meta strong {
        color: var(--ink);
      }
      .customer-lexi-weekdays,
      .customer-lexi-calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, minmax(0, 1fr));
        gap: 0.4rem;
      }
      .customer-lexi-weekdays span {
        text-align: center;
        font-size: 0.68rem;
        letter-spacing: 0.07em;
        color: var(--muted);
        border-radius: 8px;
        background: rgba(255,255,255,0.02);
        padding: 0.24rem 0.1rem;
      }
      .customer-lexi-day {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 12px;
        background: rgba(10, 16, 28, 0.8);
        min-height: 72px;
        padding: 0.4rem;
        position: relative;
        transition: transform 120ms ease, border-color 120ms ease, box-shadow 160ms ease;
      }
      .customer-lexi-day.empty {
        opacity: 0.35;
      }
      .customer-lexi-day-btn {
        width: 100%;
        height: 100%;
        background: transparent;
        border: none;
        padding: 0;
        color: inherit;
        display: grid;
        align-content: space-between;
        justify-items: start;
        text-align: left;
        gap: 0.25rem;
        cursor: pointer;
      }
      .customer-lexi-day.empty .customer-lexi-day-btn {
        cursor: default;
      }
      .customer-lexi-day-btn strong {
        font-size: 0.9rem;
        line-height: 1;
      }
      .customer-lexi-day-team {
        display: inline-flex;
        align-items: center;
        gap: 0.14rem;
        flex-wrap: wrap;
        min-height: 0.9rem;
      }
      .customer-lexi-day-team .calendar-day-staff-dot {
        width: 12px;
        height: 12px;
        font-size: 0;
        color: transparent;
      }
      .customer-lexi-day-signals {
        display: flex;
        flex-wrap: wrap;
        gap: 0.2rem;
      }
      .customer-lexi-day-signals span {
        border-radius: 999px;
        padding: 0.08rem 0.3rem;
        font-size: 0.62rem;
        border: 1px solid rgba(255,255,255,0.08);
        background: rgba(255,255,255,0.03);
      }
      .customer-lexi-day.has-slots {
        border-color: rgba(124, 234, 216, 0.28);
      }
      .customer-lexi-day.has-slots .slots-pill {
        border-color: rgba(124, 234, 216, 0.2);
        background: rgba(124, 234, 216, 0.08);
        color: #d7fff8;
      }
      .customer-lexi-day.has-booking {
        border-color: rgba(109, 185, 255, 0.28);
      }
      .customer-lexi-day.has-booking .booked-pill {
        border-color: rgba(109, 185, 255, 0.2);
        background: rgba(109, 185, 255, 0.08);
        color: #dcedff;
      }
      .customer-lexi-day.is-today {
        box-shadow: inset 0 0 0 1px rgba(255, 198, 115, 0.18);
      }
      .customer-lexi-day.selected {
        border-color: rgba(109, 185, 255, 0.54);
        box-shadow: 0 10px 20px rgba(18, 64, 122, 0.16), inset 0 0 0 1px rgba(109, 185, 255, 0.18);
      }
      .customer-lexi-day.selected::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        box-shadow: inset 0 0 0 1px rgba(124, 234, 216, 0.14);
        animation: lexiCalendarPulse 2.6s ease-in-out infinite;
        pointer-events: none;
      }
      .customer-lexi-day:not(.empty):hover {
        transform: translateY(-1px);
        border-color: rgba(124, 234, 216, 0.34);
      }
      .customer-lexi-summary-panel {
        padding: 0.65rem;
        display: grid;
        align-content: start;
        gap: 0.55rem;
      }
      .customer-lexi-summary-panel h3 {
        margin: 0;
        font-size: 0.92rem;
      }
      .customer-lexi-summary-panel p {
        margin: 0;
        color: var(--muted);
        font-size: 0.8rem;
        line-height: 1.4;
      }
      .customer-lexi-summary-list {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        gap: 0.4rem;
      }
      .customer-lexi-summary-list li {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 10px;
        padding: 0.5rem;
        background: rgba(255,255,255,0.025);
      }
      .customer-lexi-summary-list strong {
        display: block;
        font-size: 0.78rem;
      }
      .customer-lexi-summary-list small {
        color: var(--muted);
        font-size: 0.72rem;
      }
      .customer-lexi-summary-actions {
        display: grid;
        gap: 0.4rem;
      }
      .customer-lexi-summary-actions .btn {
        justify-content: flex-start;
        text-align: left;
      }
      .subscriber-demo-lab-head {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 0.8rem;
        flex-wrap: wrap;
      }
      .subscriber-demo-lab-grid {
        margin-top: 0.8rem;
        display: grid;
        grid-template-columns: 1.2fr 1.35fr 1fr;
        gap: 0.7rem;
      }
      .subscriber-demo-lab-card {
        border: 1px solid rgba(167, 193, 255, 0.16);
        border-radius: 14px;
        background:
          radial-gradient(circle at 100% 0%, rgba(109, 185, 255, 0.08), transparent 48%),
          rgba(255,255,255,0.025);
        padding: 0.65rem;
        display: grid;
        align-content: start;
        gap: 0.55rem;
      }
      .subscriber-demo-lab-card-head {
        display: flex;
        justify-content: space-between;
        gap: 0.4rem;
        align-items: baseline;
      }
      .subscriber-demo-lab-card-head h3 {
        margin: 0;
        font-size: 0.9rem;
      }
      .subscriber-demo-lab-card-head small {
        color: var(--muted);
        font-size: 0.72rem;
      }
      .subscriber-demo-module-list {
        display: grid;
        gap: 0.42rem;
      }
      .subscriber-demo-module-item {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 10px;
        padding: 0.5rem;
        background: rgba(255,255,255,0.02);
      }
      .subscriber-demo-module-item strong {
        display: block;
        font-size: 0.78rem;
      }
      .subscriber-demo-module-item small {
        display: block;
        margin-top: 0.15rem;
        color: var(--muted);
        line-height: 1.35;
        font-size: 0.72rem;
      }
      .subscriber-demo-account-columns {
        display: grid;
        grid-template-columns: 1fr;
        gap: 0.55rem;
      }
      .subscriber-demo-mini-heading {
        margin: 0 0 0.35rem;
        font-size: 0.7rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: #9cf5e8;
        font-weight: 800;
      }
      .subscriber-demo-table-wrap {
        border: 1px solid rgba(255,255,255,0.07);
        border-radius: 10px;
        background: rgba(255,255,255,0.02);
        overflow: auto;
      }
      .subscriber-demo-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.72rem;
      }
      .subscriber-demo-table th,
      .subscriber-demo-table td {
        text-align: left;
        padding: 0.42rem 0.45rem;
        border-bottom: 1px solid rgba(255,255,255,0.05);
        vertical-align: top;
      }
      .subscriber-demo-table th {
        color: var(--muted);
        font-weight: 700;
        font-size: 0.66rem;
        letter-spacing: 0.06em;
        text-transform: uppercase;
      }
      .subscriber-demo-table tbody tr:last-child td {
        border-bottom: none;
      }
      .subscriber-demo-launchers {
        display: grid;
        gap: 0.5rem;
      }
      .subscriber-demo-launchers .btn {
        justify-content: flex-start;
        text-align: left;
      }
      .subscriber-demo-launch-note {
        color: var(--muted);
        font-size: 0.75rem;
        line-height: 1.35;
      }
      body.dashboard-light-mode .subscriber-demo-lab-card {
        border-color: rgba(145, 114, 144, 0.12);
        background: rgba(255,255,255,0.78);
      }
      body.dashboard-light-mode .subscriber-demo-module-item,
      body.dashboard-light-mode .subscriber-demo-table-wrap {
        border-color: rgba(145, 114, 144, 0.12);
        background: rgba(255,255,255,0.72);
      }
      body.dashboard-light-mode .subscriber-demo-module-item small,
      body.dashboard-light-mode .subscriber-demo-lab-card-head small,
      body.dashboard-light-mode .subscriber-demo-launch-note,
      body.dashboard-light-mode .subscriber-demo-table th {
        color: #6e6077;
      }
      body.dashboard-light-mode .subscriber-demo-mini-heading {
        color: #2e8880;
      }
      @media (max-width: 1200px) {
        .subscriber-demo-lab-grid {
          grid-template-columns: 1fr;
        }
      }
      body.dashboard-light-mode .customer-lexi-card,
      body.dashboard-light-mode .customer-lexi-calendar-panel,
      body.dashboard-light-mode .customer-lexi-summary-panel {
        border-color: rgba(145, 114, 144, 0.14);
        background:
          radial-gradient(circle at 100% 0%, rgba(255, 201, 220, 0.1), transparent 44%),
          radial-gradient(circle at 6% -10%, rgba(199, 236, 226, 0.08), transparent 42%),
          rgba(255,255,255,0.94);
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.9), 0 10px 22px rgba(95, 68, 105, 0.06);
      }
      body.dashboard-light-mode .customer-lexi-card .kicker {
        color: #2e8880;
      }
      body.dashboard-light-mode .customer-lexi-card .meta,
      body.dashboard-light-mode .customer-lexi-calendar-meta,
      body.dashboard-light-mode .customer-lexi-summary-panel p,
      body.dashboard-light-mode .customer-lexi-summary-list small {
        color: #6e6077;
      }
      body.dashboard-light-mode .customer-lexi-calendar-month {
        color: #3b3041;
      }
      body.dashboard-light-mode .customer-lexi-view-tabs {
        border-color: rgba(145, 114, 144, 0.12);
        background: rgba(255,255,255,0.74);
      }
      body.dashboard-light-mode .customer-lexi-view-tab {
        color: #6e6077;
      }
      body.dashboard-light-mode .customer-lexi-view-tab.is-active {
        background: rgba(236, 248, 255, 0.95);
        color: #3b3041;
        box-shadow: inset 0 0 0 1px rgba(145, 114, 144, 0.12);
      }
      body.dashboard-light-mode .customer-lexi-calendar-meta strong,
      body.dashboard-light-mode .customer-lexi-summary-list strong {
        color: #3a2f40;
      }
      body.dashboard-light-mode .customer-lexi-chip-row span,
      body.dashboard-light-mode .customer-lexi-day-signals span,
      body.dashboard-light-mode .customer-lexi-summary-list li {
        border-color: rgba(145, 114, 144, 0.12);
        background: rgba(255,255,255,0.72);
        color: #554861;
      }
      body.dashboard-light-mode .customer-lexi-weekdays span,
      body.dashboard-light-mode .customer-lexi-day {
        background: rgba(255,255,255,0.72);
      }
      @media (max-width: 1100px) {
        .customer-lexi-calendar-shell {
          grid-template-columns: 1fr;
        }
      }
      @media (max-width: 760px) {
        .customer-lexi-view-tabs {
          order: 3;
          width: 100%;
          justify-content: space-between;
        }
        .customer-lexi-day {
          min-height: 64px;
          padding: 0.35rem;
        }
      }
    
      /* Final light-mode background reset for admin/subscriber dashboard panels */
      body.dashboard-light-mode #subscriberCalendarSection,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-wow-strip,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-stage,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-feature-rail,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-feature-meta,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-feature-stats article,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-selected-day-card,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-selected-day-list li,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-lexi-command-card,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-day,
      body.dashboard-light-mode #subscriberCopilotSection,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-shell,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-head,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-form,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-form textarea,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-launch-row,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-result,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-card,
      body.dashboard-light-mode #subscriberCopilotSection .ai-assistant-workspace,
      body.dashboard-light-mode #subscriberCopilotSection .ai-assistant-context,
      body.dashboard-light-mode #subscriberCopilotSection .ai-routine-btn,
      body.dashboard-light-mode #adminCopilotSection,
      body.dashboard-light-mode #adminCopilotSection .copilot-shell,
      body.dashboard-light-mode #adminCopilotSection .copilot-head,
      body.dashboard-light-mode #adminCopilotSection .copilot-form,
      body.dashboard-light-mode #adminCopilotSection .copilot-form textarea,
      body.dashboard-light-mode #adminCopilotSection .copilot-launch-row,
      body.dashboard-light-mode #adminCopilotSection .copilot-result,
      body.dashboard-light-mode #adminCopilotSection .copilot-card,
      body.dashboard-light-mode #adminCopilotSection .ai-assistant-workspace,
      body.dashboard-light-mode #adminCopilotSection .ai-assistant-context,
      body.dashboard-light-mode #adminCopilotSection .ai-routine-btn,
      body.dashboard-light-mode #businessSetupHubCard,
      body.dashboard-light-mode .hub-command-deck,
      body.dashboard-light-mode .hub-command-panel,
      body.dashboard-light-mode .hub-command-signal,
      body.dashboard-light-mode .hub-command-list li,
      body.dashboard-light-mode .hub-fold,
      body.dashboard-light-mode .hub-module-shell,
      body.dashboard-light-mode .module-navigator-inline,
      body.dashboard-light-mode .module-info,
      body.dashboard-light-mode .lexi-command-card {
        background-image: none !important;
        background-color: rgba(255,255,255,0.95) !important;
      }
      body.dashboard-light-mode #customerSearchSection,
      body.dashboard-light-mode #customerReceptionSection,
      body.dashboard-light-mode #customerSlotsSection,
      body.dashboard-light-mode #customerHistorySection,
      body.dashboard-light-mode #customerAnalyticsSection,
      body.dashboard-light-mode #customerLexiCalendarSection,
      body.dashboard-light-mode #customerReceptionSection .customer-chat-shell,
      body.dashboard-light-mode #customerReceptionSection .customer-chat-box,
      body.dashboard-light-mode #customerLexiCalendarSection .customer-lexi-card,
      body.dashboard-light-mode #customerLexiCalendarSection .customer-lexi-calendar-panel,
      body.dashboard-light-mode #customerLexiCalendarSection .customer-lexi-summary-panel,
      body.dashboard-light-mode #customerLexiCalendarSection .customer-lexi-calendar-meta,
      body.dashboard-light-mode #customerLexiCalendarSection .customer-lexi-weekdays span,
      body.dashboard-light-mode #customerLexiCalendarSection .customer-lexi-day,
      body.dashboard-light-mode #customerLexiCalendarSection .customer-lexi-summary-list li {
        background-image: none !important;
        background-color: rgba(255,255,255,0.95) !important;
      }
      body.dashboard-light-mode #subscriberCalendarSection .calendar-day.empty {
        background-color: rgba(255,255,255,0.82) !important;
      }
      /* Strong no-dark-surfaces reset for light mode across all dashboards */
      body.dashboard-light-mode #subscriberCopilotSection .copilot-head,
      body.dashboard-light-mode #adminCopilotSection .copilot-head,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-launch-row,
      body.dashboard-light-mode #adminCopilotSection .copilot-launch-row,
      body.dashboard-light-mode #subscriberCopilotSection .live-pill,
      body.dashboard-light-mode #adminCopilotSection .live-pill,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-guardrail,
      body.dashboard-light-mode #adminCopilotSection .copilot-guardrail,
      body.dashboard-light-mode #subscriberCopilotSection .copilot-answer-links .btn,
      body.dashboard-light-mode #adminCopilotSection .copilot-answer-links .btn,
      body.dashboard-light-mode #subscriberCopilotSection .ai-scope-chip,
      body.dashboard-light-mode #adminCopilotSection .ai-scope-chip,
      body.dashboard-light-mode #subscriberCopilotSection .ai-scope-chip.is-active,
      body.dashboard-light-mode #adminCopilotSection .ai-scope-chip.is-active,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-wow-strip,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-lexi-badges span,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-spotlight-tag,
      body.dashboard-light-mode #subscriberCalendarSection .calendar-lexi-action,
      body.dashboard-light-mode .lexi-command-chip-row span,
      body.dashboard-light-mode .customer-lexi-chip-row span,
      body.dashboard-light-mode .customer-lexi-day-signals span,
      body.dashboard-light-mode #customerLexiCalendarSection .customer-lexi-view-tabs,
      body.dashboard-light-mode #customerLexiCalendarSection .customer-lexi-view-tab,
      body.dashboard-light-mode #customerLexiCalendarSection .customer-lexi-view-tab.is-active,
      body.dashboard-light-mode #customerLexiCalendarSection .customer-lexi-summary-list li,
      body.dashboard-light-mode #customerLexiCalendarSection .customer-lexi-weekdays span {
        background-image: none !important;
        background: rgba(255,255,255,0.92) !important;
      }
      body.dashboard-light-mode #subscriberCopilotSection .ai-scope-chip.is-active,
      body.dashboard-light-mode #adminCopilotSection .ai-scope-chip.is-active,
      body.dashboard-light-mode #customerLexiCalendarSection .customer-lexi-view-tab.is-active {
        background: rgba(236, 244, 255, 0.96) !important;
      }
      /* Exact selector reset for main dashboard section shells (prevents dark desktop gradients winning) */
      body.dashboard-light-mode {
        background:
          radial-gradient(circle at 12% 10%, rgba(255, 150, 201, 0.24), transparent 44%),
          radial-gradient(circle at 88% 6%, rgba(255, 184, 217, 0.22), transparent 46%),
          linear-gradient(90deg, #fff0f8 0%, #fff7fc 52%, #ffffff 100%) !important;
      }
      body.dashboard-light-mode::before {
        background-image:
          linear-gradient(rgba(224, 157, 189, 0.18) 1px, transparent 1px),
          linear-gradient(90deg, rgba(224, 157, 189, 0.16) 1px, transparent 1px),
          radial-gradient(circle at 20% 10%, rgba(255, 206, 225, 0.2), transparent 40%),
          radial-gradient(circle at 86% 14%, rgba(197, 234, 225, 0.14), transparent 36%) !important;
        background-size: 38px 38px, 38px 38px, auto, auto !important;
        background-position: 0 0, 0 0, 0 0, 0 0 !important;
        opacity: 1 !important;
      }
      body.dashboard-light-mode .dash > .dash-top,
      body.dashboard-light-mode .dash > #dashboardQuickActionsSection,
      body.dashboard-light-mode .dash > #subscriberCalendarSection,
      body.dashboard-light-mode .dash > #subscriberCopilotSection,
      body.dashboard-light-mode .dash > #adminCopilotSection,
      body.dashboard-light-mode .dash > #businessGrowthSection,
      body.dashboard-light-mode .dash > #subscriberExecutivePulseSection,
      body.dashboard-light-mode .dash > #customerSearchSection,
      body.dashboard-light-mode .dash > #customerReceptionSection,
      body.dashboard-light-mode .dash > #customerSlotsSection,
      body.dashboard-light-mode .dash > #customerHistorySection,
      body.dashboard-light-mode .dash > #customerAnalyticsSection,
      body.dashboard-light-mode .dash > #customerLexiCalendarSection,
      body.dashboard-light-mode .dash > #moduleNavigatorSection {
        background-image: none !important;
        background-color: rgba(255,255,255,0.96) !important;
      }
      body.dashboard-light-mode .dash > .panel,
      body.dashboard-light-mode .dash > section.panel {
        background-image: none !important;
        background-color: rgba(255,255,255,0.96) !important;
      }
      /* 2026 redesign: unified Lexi operating system */
      body {
        background:
          radial-gradient(circle at top left, rgba(26, 201, 176, 0.14), transparent 30%),
          radial-gradient(circle at top right, rgba(255, 159, 205, 0.12), transparent 26%),
          linear-gradient(180deg, #05070d 0%, #08111d 38%, #08101a 100%);
      }

      body::before {
        content: "";
        position: fixed;
        inset: 0;
        pointer-events: none;
        background:
          linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
          linear-gradient(180deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
        background-size: 32px 32px;
        mask-image: linear-gradient(180deg, rgba(0, 0, 0, 0.35), transparent 75%);
        opacity: 0.22;
      }

      .dash {
        width: min(1320px, calc(100vw - 2rem));
        margin: 1rem auto 2rem;
        gap: 1rem;
      }

      .panel,
      .module-workspace-body > .panel,
      .module-card,
      .module-group,
      .customer-lexi-card,
      .customer-lexi-calendar-panel,
      .customer-lexi-summary-panel,
      .customer-chat-shell,
      .workspace-star-panel,
      .subscription-quick-panel,
      .hub-command-panel {
        border-radius: 22px !important;
        border: 1px solid rgba(164, 196, 255, 0.12) !important;
        background:
          radial-gradient(circle at 100% 0%, rgba(124, 234, 216, 0.08), transparent 36%),
          linear-gradient(180deg, rgba(12, 19, 33, 0.96), rgba(8, 13, 24, 0.92)) !important;
        box-shadow: 0 18px 48px rgba(0, 0, 0, 0.26);
      }

      .dash-top {
        padding: 1.25rem 1.3rem !important;
        border-radius: 26px !important;
        border: 1px solid rgba(164, 196, 255, 0.14) !important;
        background:
          radial-gradient(circle at 100% 0%, rgba(124, 234, 216, 0.12), transparent 34%),
          radial-gradient(circle at 0% 0%, rgba(255, 159, 205, 0.1), transparent 26%),
          linear-gradient(165deg, rgba(11, 18, 31, 0.98), rgba(7, 12, 21, 0.94)) !important;
      }

      .dash-top h1 {
        font-family: "Sora", "Manrope", sans-serif;
        font-size: clamp(1.2rem, 1.8vw, 1.55rem) !important;
        letter-spacing: -0.05em;
        line-height: 1.02;
        max-width: 14ch;
      }

      .dash-role-hint,
      #dashUser,
      #dashActionStatus {
        max-width: 64ch;
      }

      .billing-actions {
        padding: 0.35rem;
        border-radius: 18px;
        background: rgba(255, 255, 255, 0.04);
        border: 1px solid rgba(255, 255, 255, 0.06);
      }

      .billing-actions .btn,
      .billing-actions select {
        border-radius: 14px !important;
      }

      .workspace-actions {
        padding: 1.1rem !important;
      }

      .workspace-actions-head h2,
      #customerSearchSection h2,
      #customerReceptionSection h2,
      #customerLexiCalendarSection h2,
      #customerSlotsSection h2,
      #customerHistorySection h2,
      #customerAnalyticsSection h2 {
        font-family: "Sora", "Manrope", sans-serif;
        letter-spacing: -0.035em;
      }

      .workspace-star-panel {
        padding: 1rem;
      }

      .workspace-star-head h3 {
        font-size: 1.25rem;
      }

      .workspace-star-grid,
      .workspace-actions-grid {
        gap: 0.7rem;
      }

      .workspace-star-card,
      .workspace-action-btn {
        border-radius: 18px;
      }

      .workspace-star-card {
        min-height: 120px;
        padding: 0.85rem;
        background: rgba(255, 255, 255, 0.04);
      }

      .workspace-action-btn {
        min-height: 110px;
        padding: 0.95rem;
        background:
          radial-gradient(circle at 100% 0%, rgba(101, 182, 255, 0.1), transparent 40%),
          rgba(9, 15, 28, 0.78);
      }

      .workspace-action-btn strong {
        font-size: 0.98rem;
      }

      #moduleNavigatorSection .module-group-grid,
      #moduleNavigatorSection .module-grid {
        gap: 0.8rem !important;
      }

      .module-card {
        min-height: 170px;
        padding: 1rem !important;
      }

      .module-card strong {
        font-size: 1rem !important;
        letter-spacing: -0.02em;
      }

      .module-card .module-card-summary,
      .module-card small {
        font-size: 0.8rem !important;
        line-height: 1.45;
      }

      .module-card:hover,
      .workspace-action-btn:hover {
        transform: translateY(-3px);
      }

      #customerReceptionSection .customer-chat-shell {
        padding: 1rem;
      }

      .customer-chat-box {
        min-height: 260px;
        border-radius: 18px;
      }

      .customer-chat-form input {
        min-height: 48px;
        border-radius: 15px;
      }

      #customerLexiCalendarSection .customer-lexi-calendar-shell {
        gap: 0.85rem;
      }

      #customerLexiCalendarSection .customer-lexi-card,
      #customerLexiCalendarSection .customer-lexi-calendar-panel,
      #customerLexiCalendarSection .customer-lexi-summary-panel {
        padding: 1rem;
      }

      #customerLexiCalendarSection .customer-lexi-card h3 {
        font-size: 1.4rem;
        letter-spacing: -0.04em;
      }

      #customerLexiCalendarSection .customer-lexi-day,
      #subscriberCalendarSection .calendar-day {
        border-radius: 16px;
      }

      #customerSearchSection,
      #customerReceptionSection,
      #customerLexiCalendarSection,
      #customerSlotsSection,
      #customerHistorySection,
      #customerAnalyticsSection,
      #subscriberCalendarSection,
      #subscriberCopilotSection,
      #adminCopilotSection,
      #businessGrowthSection,
      #subscriberExecutivePulseSection,
      #moduleNavigatorSection,
      #subscriberCommandCenterSection,
      #bookingOperationsSection,
      #staffRosterSection,
      #waitlistSection,
      #profitabilitySection,
      #revenueAttributionSection,
      #commercialSection,
      #crmSection,
      #operationsInsightsSection,
      #businessProfileSection,
      #accountingIntegrationsSection,
      #socialMediaSection,
      #subscriberSubscriptionSection {
        padding: 1.15rem !important;
      }

      @media (max-width: 900px) {
        .dash-top h1 {
          max-width: none;
        }

        .billing-actions {
          width: 100%;
        }

        .workspace-action-btn,
        .module-card {
          min-height: auto;
        }
      }

      .dash-top.actions-only {
        display: flex;
        justify-content: flex-end;
        align-items: center;
      }

      .dash-top.actions-only .billing-actions {
        margin-left: auto;
      }
    </style>
  </head>
  <body>
    <a class="skip-link" href="#dashboardMain">Skip to dashboard content</a>
    <main class="dash" id="dashboardMain">
      <section class="panel frontdesk-hero" id="frontDeskSection">
        <div class="frontdesk-contact">
          <a href="/auth" class="btn">Developer Access</a>
        </div>
        <div class="frontdesk-head">
          <img id="businessLogo" src="/icons/barber.svg" alt="Business Logo" class="frontdesk-logo" />
          <div>
            <h2 id="frontDeskBusinessName" class="frontdesk-name">Business Name</h2>
            <div class="frontdesk-meta">
              <span id="frontDeskRating" class="frontdesk-rating">4.8/5</span>
              <span id="frontDeskDescription" style="color:var(--muted);font-size:1rem;">Business description goes here.</span>
            </div>
            <div id="frontDeskSocialIcons" style="margin-top:0.6rem;display:flex;gap:0.5rem;"></div>
          </div>
        </div>
        <div class="frontdesk-columns">
          <div class="frontdesk-col">
            <h3 style="margin:0 0 0.4rem 0;color:var(--ink);">Featured Services</h3>
            <div id="frontDeskServices" style="display:flex;gap:0.7rem;flex-wrap:wrap;"></div>
          </div>
          <div class="frontdesk-col">
            <h3 style="margin:0 0 0.4rem 0;color:var(--ink);">Customer Reviews</h3>
            <div id="frontDeskReviews" style="display:flex;flex-direction:column;gap:0.5rem;"></div>
          </div>
          <div class="frontdesk-col">
            <h3 style="margin:0 0 0.4rem 0;color:var(--ink);">Business Analytics</h3>
            <div id="frontDeskAnalytics" style="display:flex;flex-direction:column;gap:0.3rem;color:var(--muted);"></div>
          </div>
        </div>
        <div class="frontdesk-chat">
          <h3 style="margin:0 0 0.4rem 0;color:var(--ink);">Lexi | AI Receptionist</h3>
          <div id="frontDeskAIChat" class="frontdesk-chatbox">How can I help you today?</div>
        </div>
      </section>

      <section class="panel" id="subscriberCalendarSection">
        <div class="calendar-head">
          <h2 style="margin:0;">Booking Diary</h2>
          <div class="calendar-nav">
            <button type="button" class="btn" data-open-subscriber-lexi="booking_diary">Ask Lexi</button>
            <button id="calendarPrev" class="btn btn-ghost" type="button" aria-label="Previous month">&lt;</button>
            <p id="calendarMonthLabel" class="calendar-label">Month</p>
            <button id="calendarNext" class="btn btn-ghost" type="button" aria-label="Next month">&gt;</button>
          </div>
        </div>
        <p id="calendarLegend" class="calendar-legend">Days with bookings are highlighted.</p>
        <div class="calendar-wow-strip" aria-label="Lexi calendar planning overview">
          <div class="calendar-wow-strip-head">
            <p class="calendar-wow-kicker">Lexi Calendar Command</p>
            <h3>Plan the day, spot pressure early, and stay ahead of the diary.</h3>
            <p>
              Use the diary with Lexi to spot busy periods, empty slots, staffing gaps, and same-day recovery opportunities.
              before they become problems.</p>
          </div>
          <div class="calendar-wow-strip-pills" aria-label="Calendar outcomes">
            <span>Daily capacity view</span>
            <span>Gap recovery opportunities</span>
            <span>Staffing pressure signals</span>
            <span>Revenue-aware planning</span>
          </div>
        </div>
        <div class="calendar-feature-shell">
          <div class="calendar-feature-main">
            <div id="bookingCalendarStaffLegend" class="calendar-staff-legend" aria-label="Staff rota legend"></div>
            <div class="calendar-stage">
              <div class="calendar-weekdays" aria-hidden="true">
                <span>Mon</span>
                <span>Tue</span>
                <span>Wed</span>
                <span>Thu</span>
                <span>Fri</span>
                <span>Sat</span>
                <span>Sun</span>
              </div>
              <div id="bookingCalendarGrid" class="calendar-grid"></div>
            </div>
          </div>
          <aside class="calendar-feature-rail" aria-label="Calendar summary and selected day details">
            <div id="calendarFeatureMeta" class="calendar-feature-meta">Lexi is loading your calendar summary...</div>
            <div id="calendarFeatureStats" class="calendar-feature-stats"></div>
            <div id="calendarSelectedDaySummary" class="calendar-selected-day-card">
              <h3>Selected Day Summary</h3>
              <p>Click a date to see bookings, staffing, and revenue context for that day.</p>
            </div>
          </aside>
        </div>
        <div id="calendarLexiCommandDeck" class="calendar-lexi-command-deck" aria-live="polite">
          <div class="calendar-lexi-command-card">
            <p class="calendar-lexi-command-kicker">Lexi Command Deck</p>
            <h4>Lexi's calendar actions will appear here</h4>
            <p>Pick a date and Lexi will suggest planning actions, gap-fill ideas, and useful client communication prompts.</p>
          </div>
        </div>
      </section>

      <section class="panel" id="subscriberCopilotSection">
        <div class="copilot-shell">
          <div class="copilot-head">
            <div>
              <h2 style="margin:0;">Lexi | Business Command AI</h2>
              <p>
                Your main AI business assistant for the day-to-day running of your salon: bookings, diary planning, staffing cover,
                waitlist recovery, revenue protection, and growth actions. Replies use safe business summary data only.
              </p>
            </div>
            <span class="live-pill"><i class="live-dot"></i> Main AI assistant</span>
          </div>
          <div class="lexi-command-card" aria-label="Lexi business assistant overview">
            <div class="lexi-command-card-portrait" aria-hidden="true"></div>
            <div class="lexi-command-card-copy">
              <p class="lexi-command-card-kicker">Lexi at the center of your day</p>
              <h3>Ask once. Get a prioritized next move.</h3>
              <p>
                Lexi reads your bookings, diary pressure, staffing cover, cancellations, and growth signals to help you decide the best next step.
              </p>
              <div class="lexi-command-chip-row">
                <span>Bookings</span>
                <span>Calendar</span>
                <span>Staffing</span>
                <span>Revenue</span>
                <span>Growth</span>
              </div>
            </div>
          </div>
          <section class="ai-assistant-workspace" aria-label="Business AI workspace">
            <div id="subscriberBusinessAiContext" class="ai-assistant-context">Loading AI workspace context...</div>
            <div id="subscriberAiScopeChips" class="ai-assistant-scope-row" role="tablist" aria-label="Business AI focus">
              <button type="button" class="ai-scope-chip is-active" data-ai-role="subscriber" data-ai-scope="today">Today</button>
              <button type="button" class="ai-scope-chip" data-ai-role="subscriber" data-ai-scope="calendar">Calendar</button>
              <button type="button" class="ai-scope-chip" data-ai-role="subscriber" data-ai-scope="staff">Staff</button>
              <button type="button" class="ai-scope-chip" data-ai-role="subscriber" data-ai-scope="revenue">Revenue</button>
              <button type="button" class="ai-scope-chip" data-ai-role="subscriber" data-ai-scope="growth">Growth</button>
            </div>
            <div id="subscriberAiQuickRoutines" class="ai-assistant-routine-grid">
              <button type="button" class="ai-routine-btn" data-ai-role="subscriber" data-ai-prompt="Give me a morning plan for today. Prioritize bookings, staff cover, cancellations and revenue actions.">
                <strong>Morning Plan</strong>
                <small>Open the day with a clear action order</small>
              </button>
              <button type="button" class="ai-routine-btn" data-ai-role="subscriber" data-ai-prompt="Review my calendar and tell me where I have pressure, gaps, and opportunities this week.">
                <strong>Calendar Sweep</strong>
                <small>Diary pressure + gaps + opportunities</small>
              </button>
              <button type="button" class="ai-routine-btn" data-ai-role="subscriber" data-ai-prompt="How do I reduce cancellations and fill gaps using waitlist recovery today?">
                <strong>Fill Gaps</strong>
                <small>Waitlist recovery and cancellation actions</small>
              </button>
              <button type="button" class="ai-routine-btn" data-ai-role="subscriber" data-ai-prompt="Check staffing and capacity. Tell me if I need cover and what changes to make.">
                <strong>Staff Cover</strong>
                <small>Capacity and rota recommendations</small>
              </button>
              <button type="button" class="ai-routine-btn" data-ai-role="subscriber" data-ai-prompt="Give me a revenue protection plan for today and the next 7 days.">
                <strong>Protect Revenue</strong>
                <small>Takings, no-shows and priority actions</small>
              </button>
              <button type="button" class="ai-routine-btn" data-ai-role="subscriber" data-ai-prompt="What growth action should I run today to increase repeat bookings and reviews?">
                <strong>Growth Move</strong>
                <small>Retention, reviews and referrals</small>
              </button>
            </div>
          </section>
          <div class="copilot-launch-row">
            <button id="subscriberCopilotOpenPopup" class="btn" type="button">Ask Lexi</button>
            <span class="copilot-guardrail">Lexi can answer salon and beauty questions and use your salon dashboard context when it helps. This chat does not run platform admin checks.</span>
          </div>
          <div id="subscriberCopilotPopup" class="copilot-chat-popup-overlay home-lexi-popup-overlay" aria-hidden="true">
            <section class="copilot-chat-popup home-lexi-popup" role="dialog" aria-modal="true" aria-labelledby="subscriberCopilotPopupTitle">
              <div class="home-lexi-popup-head">
                <div>
                  <p class="home-lexi-popup-kicker">Lexi Chat</p>
                  <h3 id="subscriberCopilotPopupTitle">Ask Lexi</h3>
                  <p>Business help, beauty guidance, and day-to-day salon decisions in one focused popup.</p>
                </div>
                <button id="subscriberCopilotPopupClose" class="home-lexi-popup-close" type="button" aria-label="Close Business AI chat">x</button>
              </div>
              <div class="home-lexi-popup-body">
                <section class="lexi-avatar-shell" data-avatar-state="idle" aria-label="Lexi live assistant">
                  <div class="lexi-avatar-stage">
                    <video id="subscriberCopilotAvatarVideo" class="lexi-avatar-video" playsinline autoplay muted></video>
                    <div class="lexi-avatar-figure">
                      <div class="lexi-avatar-orb" aria-hidden="true"></div>
                      <div class="lexi-avatar-label">
                        <strong>Lexi live assistant</strong>
                        <small id="subscriberCopilotAvatarStatus">Push-to-talk is ready.</small>
                      </div>
                    </div>
                  </div>
                  <div class="lexi-avatar-meta">
                    <div class="lexi-avatar-chip-row">
                      <span class="lexi-avatar-chip">Business Hub</span>
                      <span class="lexi-avatar-chip">Subscriber</span>
                      <span class="lexi-avatar-chip is-live">Popup live</span>
                    </div>
                    <div class="lexi-avatar-note">
                      <strong>Lexi focus</strong>
                      <p>Ask about staffing, bookings, finance, cancellations, services, or general salon, barber, and beauty questions.</p>
                    </div>
                    <div class="lexi-avatar-transcript">
                      <strong>Live status</strong>
                      <p id="subscriberCopilotAvatarTranscript">Ask about bookings, operations, treatments, or business decisions from this one popup.</p>
                    </div>
                  </div>
                </section>
                <div class="home-lexi-popup-chat-slot business-lexi-popup-chat-slot">
                  <div id="subscriberCopilotMessages" class="copilot-chat-messages" aria-live="polite"></div>
                  <form id="subscriberCopilotForm" class="copilot-form business-lexi-inline-form">
                    <label class="sr-only" for="subscriberCopilotInput">Ask Lexi</label>
                    <input id="subscriberCopilotInput" type="text" placeholder="Example: What should I focus on today, or what ingredients should I avoid for color-treated hair?" required />
                    <button class="btn lexi-mic-btn" id="subscriberCopilotMicBtn" type="button">Push to Talk</button>
                    <button class="btn btn-ghost lexi-mic-btn" id="subscriberCopilotMicStopBtn" type="button" disabled>Stop</button>
                    <button id="subscriberCopilotSend" class="btn" type="submit">Ask Lexi</button>
                    <button id="subscriberCopilotClear" class="btn btn-ghost" type="button">Clear</button>
                    <span class="copilot-guardrail business-lexi-guardrail">One Lexi mode: salon and beauty guidance plus your salon dashboard context when helpful.</span>
                  </form>
                  <section id="subscriberCopilotResult" class="copilot-result copilot-result-popup" aria-live="polite">
                    <div>
                      <h3>Latest Answer</h3>
                      <div id="subscriberCopilotAnswer" class="copilot-answer">Ask about your bookings, team, waitlist, or revenue and Lexi will help you decide what to do next.</div>
                      <div id="subscriberCopilotLinks" class="copilot-answer-links" aria-label="Related business modules"></div>
                    </div>
                  </section>
                </div>
              </div>
            </section>
          </div>
        </div>
      </section>

      <section class="panel" id="adminCopilotSection">
        <div class="copilot-shell">
          <div class="copilot-head">
            <div>
              <h2 style="margin:0;">Lexi | Managed Business Command AI</h2>
              <p>
                Your main AI assistant for managed business oversight, diagnostics, subscriber support, and operational pressure,
                with recommended next actions. Replies use safe, sanitized summaries only.
              </p>
            </div>
            <span class="live-pill"><i class="live-dot"></i> Main AI assistant</span>
          </div>
          <div class="lexi-command-card lexi-command-card-admin" aria-label="Lexi managed business assistant overview">
            <div class="lexi-command-card-portrait" aria-hidden="true"></div>
            <div class="lexi-command-card-copy">
              <p class="lexi-command-card-kicker">Lexi for managed business oversight</p>
              <h3>See risk, pressure, and the fastest subscriber fix.</h3>
              <p>
                Lexi helps you review calendar pressure, revenue risk, staffing issues, and subscriber support priorities for the selected managed business.
              </p>
              <div class="lexi-command-chip-row">
                <span>Diagnostics</span>
                <span>Calendar Risk</span>
                <span>Staffing</span>
                <span>Revenue</span>
                <span>Fixes</span>
              </div>
            </div>
          </div>
          <section class="ai-assistant-workspace" aria-label="Admin business AI workspace">
            <div id="adminBusinessAiContext" class="ai-assistant-context">Loading AI workspace context...</div>
            <div id="adminAiScopeChips" class="ai-assistant-scope-row" role="tablist" aria-label="Admin AI focus">
              <button type="button" class="ai-scope-chip is-active" data-ai-role="admin" data-ai-scope="diagnostics">Diagnostics</button>
              <button type="button" class="ai-scope-chip" data-ai-role="admin" data-ai-scope="calendar">Calendar</button>
              <button type="button" class="ai-scope-chip" data-ai-role="admin" data-ai-scope="staff">Staffing</button>
              <button type="button" class="ai-scope-chip" data-ai-role="admin" data-ai-scope="revenue">Revenue</button>
              <button type="button" class="ai-scope-chip" data-ai-role="admin" data-ai-scope="risk">Risk</button>
            </div>
            <div id="adminAiQuickRoutines" class="ai-assistant-routine-grid">
              <button type="button" class="ai-routine-btn" data-ai-role="admin" data-ai-prompt="Run a diagnostics sweep for this managed business and tell me the top issues to check first.">
                <strong>Diagnostics Sweep</strong>
                <small>Managed business health and checks</small>
              </button>
              <button type="button" class="ai-routine-btn" data-ai-role="admin" data-ai-prompt="Review this business calendar and flag operational risks for the next 7 days.">
                <strong>Calendar Risk Sweep</strong>
                <small>Diary pressure and service risk signals</small>
              </button>
              <button type="button" class="ai-routine-btn" data-ai-role="admin" data-ai-prompt="Check staffing and capacity risk for this managed business and suggest actions.">
                <strong>Staffing Risk</strong>
                <small>Cover gaps and rota concerns</small>
              </button>
              <button type="button" class="ai-routine-btn" data-ai-role="admin" data-ai-prompt="Check revenue and cancellations. What should the subscriber focus on first?">
                <strong>Revenue Review</strong>
                <small>Cancellation and takings diagnostics</small>
              </button>
            </div>
          </section>
          <div class="copilot-launch-row">
            <button id="adminCopilotOpenPopup" class="btn" type="button">Ask Lexi</button>
            <span class="copilot-guardrail">Lexi can answer salon/beauty questions and use admin/managed-business context when relevant. No auto-fix actions.</span>
          </div>
          <div id="adminCopilotPopup" class="copilot-chat-popup-overlay home-lexi-popup-overlay" aria-hidden="true">
            <section class="copilot-chat-popup home-lexi-popup" role="dialog" aria-modal="true" aria-labelledby="adminCopilotPopupTitle">
              <div class="home-lexi-popup-head">
                <div>
                  <p class="home-lexi-popup-kicker">Lexi Chat</p>
                  <h3 id="adminCopilotPopupTitle">Ask Lexi</h3>
                  <p>Managed-business support, diagnostics, and salon or beauty guidance in one focused popup.</p>
                </div>
                <button id="adminCopilotPopupClose" class="home-lexi-popup-close" type="button" aria-label="Close admin Business AI chat">x</button>
              </div>
              <div class="home-lexi-popup-body">
                <section class="lexi-avatar-shell" data-avatar-state="idle" aria-label="Lexi live assistant">
                  <div class="lexi-avatar-stage">
                    <video id="adminCopilotAvatarVideo" class="lexi-avatar-video" playsinline autoplay muted></video>
                    <div class="lexi-avatar-figure">
                      <div class="lexi-avatar-orb" aria-hidden="true"></div>
                      <div class="lexi-avatar-label">
                        <strong>Lexi live assistant</strong>
                        <small id="adminCopilotAvatarStatus">Push-to-talk is ready.</small>
                      </div>
                    </div>
                  </div>
                  <div class="lexi-avatar-meta">
                    <div class="lexi-avatar-chip-row">
                      <span class="lexi-avatar-chip">Business Hub</span>
                      <span class="lexi-avatar-chip">Admin</span>
                      <span class="lexi-avatar-chip is-live">Popup live</span>
                    </div>
                    <div class="lexi-avatar-note">
                      <strong>Lexi focus</strong>
                      <p>Ask about diagnostics, staffing, bookings, revenue, subscriber pressure, or general salon, barber, and beauty questions.</p>
                    </div>
                    <div class="lexi-avatar-transcript">
                      <strong>Live status</strong>
                      <p id="adminCopilotAvatarTranscript">Ask about diagnostics, managed businesses, or day-to-day beauty business decisions from this one popup.</p>
                    </div>
                  </div>
                </section>
                <div class="home-lexi-popup-chat-slot business-lexi-popup-chat-slot">
                  <div id="adminCopilotMessages" class="copilot-chat-messages" aria-live="polite"></div>
                  <form id="adminCopilotForm" class="copilot-form business-lexi-inline-form">
                    <label class="sr-only" for="adminCopilotInput">Ask Lexi</label>
                    <input id="adminCopilotInput" type="text" placeholder="Example: Why are subscriber bookings lower today, or what should a salon do to reduce no-shows?" required />
                    <button class="btn lexi-mic-btn" id="adminCopilotMicBtn" type="button">Push to Talk</button>
                    <button class="btn btn-ghost lexi-mic-btn" id="adminCopilotMicStopBtn" type="button" disabled>Stop</button>
                    <button id="adminCopilotSend" class="btn" type="submit">Ask Lexi</button>
                    <button id="adminCopilotClear" class="btn btn-ghost" type="button">Clear</button>
                    <span class="copilot-guardrail business-lexi-guardrail">One Lexi mode: admin diagnostics + general salon, beauty, and business guidance.</span>
                  </form>
                  <section id="adminCopilotResult" class="copilot-result copilot-result-popup" aria-live="polite">
                    <div>
                      <h3>Latest Answer</h3>
                      <div id="adminCopilotAnswer" class="copilot-answer">Ask Lexi about admin diagnostics, managed-business issues, or general salon, barber, beauty, and business questions.</div>
                    </div>
                    <div class="copilot-grid">
                      <article class="copilot-card">
                        <h3>Findings</h3>
                        <ul id="adminCopilotFindings">
                          <li>No checks run yet.</li>
                        </ul>
                      </article>
                      <article class="copilot-card">
                        <h3>Suggested Fixes</h3>
                        <ul id="adminCopilotFixes">
                          <li>No suggested fixes yet.</li>
                        </ul>
                      </article>
                    </div>
                  </section>
                </div>
              </div>
            </section>
          </div>
        </div>
      </section>

      <section class="panel" id="socialMediaSection">
        <h2 style="margin-top:0;">Social Media Links</h2>
        <form id="socialMediaForm" class="accounting-form">
          <input type="text" id="facebookInput" placeholder="Facebook URL" />
          <input type="text" id="instagramInput" placeholder="Instagram URL" />
          <input type="text" id="twitterInput" placeholder="Twitter URL" />
          <input type="text" id="linkedinInput" placeholder="LinkedIn URL" />
          <input type="text" id="tiktokInput" placeholder="TikTok URL" />
          <input type="text" id="customSocialInput" placeholder="Other social media URL" />
          <input type="text" id="socialImageInput" placeholder="Profile image URL (optional)" />
          <button class="btn" type="submit">Save Social Media</button>
        </form>
        <div id="socialMediaPreview" class="accounting-list"></div>
      </section>

      <section class="panel" id="businessProfileSection">
        <div class="business-profile-launch">
          <div class="business-profile-launch-head">
            <div>
              <h2 style="margin:0;">Business Profile Setup</h2>
              <p class="accounting-note">Set up your company profile, contact details, opening hours, website details, and services in one guided popup.</p>
            </div>
            <button id="businessProfileOpenSetup" class="btn" type="button">Open Business Profile Setup</button>
          </div>
          <div class="business-profile-launch-grid">
            <article class="business-profile-launch-card">
              <h3>What this setup covers</h3>
              <p>Build a proper subscriber business profile that powers booking conversion, customer trust, and the dashboard's front desk context.</p>
              <ul class="business-profile-launch-list">
                <li>Company name, type, phone, email, and address</li>
                <li>Website details, business description, and summary text</li>
                <li>Opening hours for each day of the week</li>
                <li>Service menu setup (name, duration, and price)</li>
              </ul>
            </article>
            <article class="business-profile-launch-card">
              <h3>Setup notes</h3>
              <p>Use template defaults to quickly populate services and opening hours for your selected business type, then edit to match your real business.</p>
              <p style="margin-top:0.55rem;">This setup is for subscribers and can be updated anytime.</p>
            </article>
          </div>
        </div>
      </section>

      <div id="businessProfileSetupOverlay" class="business-profile-setup-overlay" aria-hidden="true">
        <section class="business-profile-setup-modal" role="dialog" aria-modal="true" aria-labelledby="businessProfileSetupTitle">
          <div class="business-profile-setup-head">
            <div>
              <h3 id="businessProfileSetupTitle">Business Profile &amp; Template Setup</h3>
              <p>Complete your subscriber business profile with the information customers and the AI receptionist need for booking conversion and daily operations.</p>
            </div>
            <button id="businessProfileSetupClose" class="btn btn-ghost" type="button" aria-label="Close business profile setup">Close</button>
          </div>

          <div class="business-profile-setup-layout">
            <aside class="business-profile-setup-rail" aria-label="Business profile setup guidance">
              <div class="business-profile-setup-rail-card">
                <h4>Profile Essentials</h4>
                <ul>
                  <li>Business name and business type</li>
                  <li>Phone, email, city, country, postcode, address</li>
                  <li>Accurate details improve trust and booking conversion</li>
                </ul>
              </div>
              <div class="business-profile-setup-rail-card">
                <h4>Template Setup</h4>
                <p>Use the template reset to apply default opening hours and services for salon, barbershop, or beauty setup.</p>
              </div>
              <div class="business-profile-setup-rail-card">
                <h4>Services Format</h4>
                <p>Enter one service per line using: <strong>Name | DurationMin | Price</strong></p>
              </div>
            </aside>

            <form id="businessProfileForm" class="business-profile-setup-form">
              <section class="business-profile-setup-block" aria-labelledby="businessProfileCompanyInfoTitle">
                <h4 id="businessProfileCompanyInfoTitle">Company Information</h4>
                <p>Core details for your front desk profile, directory listing, and business identity.</p>
                <div class="business-profile-setup-grid">
                  <label class="span-full">
                    Business Name
                    <input id="businessProfileName" type="text" placeholder="Business name" required />
                  </label>
                  <label>
                    Business Type
                    <select id="businessProfileType" required>
                      <option value="hair_salon">Hair Salon</option>
                      <option value="barbershop">Barbershop</option>
                      <option value="beauty_salon">Beauty Salon</option>
                    </select>
                  </label>
                  <label>
                    Phone
                    <input id="businessProfilePhone" type="text" placeholder="Phone" required />
                  </label>
                  <label>
                    Business Email
                    <input id="businessProfileEmail" type="email" placeholder="Business email" required />
                  </label>
                  <label>
                    City
                    <input id="businessProfileCity" type="text" placeholder="City" required />
                  </label>
                  <label>
                    Country
                    <input id="businessProfileCountry" type="text" placeholder="Country" required />
                  </label>
                  <label>
                    Postcode / ZIP
                    <input id="businessProfilePostcode" type="text" placeholder="Postcode / ZIP" required />
                  </label>
                  <label class="span-full">
                    Address
                    <input id="businessProfileAddress" type="text" placeholder="Address" required />
                  </label>
                </div>
              </section>

              <section class="business-profile-setup-block" aria-labelledby="businessProfileWebContentTitle">
                <h4 id="businessProfileWebContentTitle">Website &amp; Marketing Content</h4>
                <p>Optional fields for richer business profile presentation and web content setup.</p>
                <div class="business-profile-setup-grid">
                  <label class="span-full">
                    Business Description
                    <textarea id="businessProfileDescription" rows="3" placeholder="Business description"></textarea>
                  </label>
                  <label>
                    Website URL (optional)
                    <input id="businessProfileWebsiteUrl" type="text" placeholder="Website URL (optional)" />
                  </label>
                  <label>
                    Website Title (optional)
                    <input id="businessProfileWebsiteTitle" type="text" placeholder="Website title (optional)" />
                  </label>
                  <label class="span-full">
                    Website Image URL (optional)
                    <input id="businessProfileWebsiteImageUrl" type="text" placeholder="Website image URL (optional)" />
                  </label>
                  <label class="span-full">
                    Website Summary (optional)
                    <textarea id="businessProfileWebsiteSummary" rows="3" placeholder="Website summary (optional)"></textarea>
                  </label>
                </div>
              </section>

              <section class="business-profile-setup-block" aria-labelledby="businessProfileHoursTitle">
                <h4 id="businessProfileHoursTitle">Opening Hours</h4>
                <p>Enter each day using a format like <strong>09:00-18:00</strong> or <strong>Closed</strong>.</p>
                <div class="business-profile-hours-grid">
                  <label>Monday<input id="businessHoursMonday" type="text" placeholder="09:00-18:00 or Closed" /></label>
                  <label>Tuesday<input id="businessHoursTuesday" type="text" placeholder="09:00-18:00 or Closed" /></label>
                  <label>Wednesday<input id="businessHoursWednesday" type="text" placeholder="09:00-18:00 or Closed" /></label>
                  <label>Thursday<input id="businessHoursThursday" type="text" placeholder="09:00-20:00 or Closed" /></label>
                  <label>Friday<input id="businessHoursFriday" type="text" placeholder="09:00-20:00 or Closed" /></label>
                  <label>Saturday<input id="businessHoursSaturday" type="text" placeholder="10:00-17:00 or Closed" /></label>
                  <label class="span-full">Sunday<input id="businessHoursSunday" type="text" placeholder="Closed" /></label>
                </div>
              </section>

              <section class="business-profile-setup-block business-profile-services-wrap" aria-labelledby="businessProfileServicesTitle">
                <h4 id="businessProfileServicesTitle">Service Menu Setup</h4>
                <p>One service per line using: <strong>Name | DurationMin | Price</strong></p>
                <textarea
                  id="businessProfileServices"
                  rows="7"
                  placeholder="Services (one per line): Name | DurationMin | Price&#10;Example: Haircut | 45 | 60"
                  required
                ></textarea>
                <p class="accounting-note" style="margin:0;">
                  Reset to Selected Template Defaults updates your business type, description, opening hours, and services to template values. It does not change your business name, contact details, location, or website fields.
                </p>
              </section>

              <div class="business-profile-setup-actions">
                <button id="businessProfileApplyTemplate" class="btn btn-ghost" type="button">Reset to Template Defaults</button>
                <button class="btn" type="submit">Save Business Profile</button>
                <button id="businessProfileSetupCancel" class="btn btn-ghost" type="button">Close</button>
                <p id="businessProfileStatus" class="accounting-note" style="margin-left:auto;"></p>
              </div>
            </form>
          </div>
        </section>
      </div>

      <section class="panel" id="accountingIntegrationsSection">
        <h2 style="margin-top:0;">Accounting Integrations</h2>
        <p class="accounting-note">
          Link your bookkeeping platform so your team can keep financial records aligned with booking activity.
        </p>
        <div class="accounting-shell">
          <div class="accounting-actions">
            <button id="accountingBookingExportBtn" class="btn btn-ghost" type="button">Export Booking Accounting CSV</button>
            <button id="accountingPlatformExportBtn" class="btn btn-ghost" type="button">Export Platform Revenue CSV</button>
          </div>
          <div id="accountingLivePanel" class="accounting-live">
            <div class="accounting-live-head">
              <h3>Live Revenue Stream</h3>
              <div style="display:flex;align-items:center;gap:0.5rem;flex-wrap:wrap;">
                <div id="accountingTimeframeSwitch" class="timeframe-switch" role="tablist" aria-label="Live revenue timeframe">
                  <button id="accountingTfToday" class="active" type="button" data-timeframe="today">Today</button>
                  <button id="accountingTf7d" type="button" data-timeframe="7d">7 Days</button>
                  <button id="accountingTf30d" type="button" data-timeframe="30d">30 Days</button>
                </div>
                <span class="live-pill"><i class="live-dot"></i> Live every 15s</span>
              </div>
            </div>
            <div class="quick-filter-row">
              <div id="accountingQuickFilterGroup" class="quick-filter-group">
                <button id="accountingQfWeek" class="btn btn-ghost" type="button">This Week</button>
                <button id="accountingQfMonth" class="btn btn-ghost" type="button">This Month</button>
              </div>
              <div class="quick-filter-custom">
                <input id="accountingCustomFrom" type="date" />
                <input id="accountingCustomTo" type="date" />
                <button id="accountingCustomApply" class="btn btn-ghost" type="button">Custom Range</button>
              </div>
            </div>
            <div id="accountingLiveCards" class="live-cards"></div>
            <div class="live-grid">
              <div id="accountingLiveGauges" class="live-gauges"></div>
              <div class="live-charts">
                <article class="live-chart">
                  <h4>Recent Revenue Flow</h4>
                  <div id="accountingLiveRevenueBars" class="live-bars"></div>
                </article>
                <article class="live-chart">
                  <h4>Cancellation Trend</h4>
                  <div id="accountingLiveCancelBars" class="live-bars"></div>
                </article>
              </div>
            </div>
            <p id="accountingLiveNote" class="accounting-live-note"></p>
          </div>
          <form id="accountingConnectForm" class="accounting-form">
            <select id="accountingProvider" required>
              <option value="quickbooks">QuickBooks</option>
              <option value="xero">Xero</option>
              <option value="freshbooks">FreshBooks</option>
              <option value="sage">Sage</option>
            </select>
            <input id="accountingAccountLabel" type="text" placeholder="Account label (e.g., Main Ledger)" required />
            <select id="accountingSyncMode" required>
              <option value="daily">Daily sync</option>
              <option value="weekly">Weekly sync</option>
              <option value="manual">Manual sync</option>
            </select>
            <button class="btn" type="submit">Link Software</button>
          </form>
          <p id="accountingStatusNote" class="accounting-note"></p>
          <div id="accountingIntegrationsList" class="accounting-list"></div>
        </div>
      </section>

      <section class="panel dash-top" id="dashboardOverviewSection">
        <div>
          <h1 id="dashTitle" style="margin:0;">Lexi Salon Operating System</h1>
          <p id="dashUser" style="margin:0.3rem 0 0;color:var(--muted);"></p>
          <p id="dashRoleHint" class="dash-role-hint"></p>
          <p id="dashActionStatus" class="dash-action-status" aria-live="polite"></p>
          <div id="adminBusinessScope" class="admin-scope">
            <label for="adminBusinessSelect">Managed business</label>
            <select id="adminBusinessSelect" aria-label="Select managed business"></select>
            <small id="adminBusinessStatus"></small>
          </div>
        </div>
        <div class="billing-actions">
          <button id="contactAdminBtn" class="btn btn-ghost" type="button">Emergency Admin Contact</button>
          <select id="uiDensityToggle" class="btn btn-ghost" style="padding-right:2.2rem;" aria-label="Select dashboard theme mode">
            <option value="dark">Dark Mode</option>
            <option value="light">Light Mode</option>
          </select>
          <button id="logoutBtn" class="btn btn-ghost">Sign Out</button>
        </div>
      </section>

      <section class="panel workspace-actions" id="dashboardQuickActionsSection" aria-label="Top workspace actions">
        <div class="workspace-actions-head">
          <div>
            <h2>Business Control</h2>
            <p>Run the salon from one place with Lexi, the diary, and the business hub working together.</p>
          </div>
          <div class="workspace-actions-meta">
            <button type="button" class="btn" data-open-subscriber-lexi="daily_workspace">Ask Lexi</button>
            <button id="workspaceBackToDashboardBtn" class="btn btn-ghost workspace-back-btn" type="button">Back to Dashboard</button>
            <span class="workspace-actions-badge">Fast actions</span>
          </div>
        </div>
        <section class="workspace-star-panel" id="workspaceStarPanel" aria-label="Calendar and Lexi first view">
          <div class="workspace-star-head">
            <div>
              <p class="workspace-star-kicker">Start Here</p>
              <h3>Lexi + Booking Calendar</h3>
              <p id="workspaceStarSummary">Check the diary, then let Lexi tell you what needs attention, who needs follow-up, and where revenue is exposed.</p>
            </div>
            <div class="workspace-star-actions">
              <button type="button" class="btn" id="workspaceStarAskLexiBtn">Ask Lexi</button>
              <button type="button" class="btn btn-ghost" id="workspaceStarOpenCalendarBtn">Open Calendar</button>
            </div>
          </div>
          <div class="workspace-star-grid">
            <article class="workspace-star-card">
              <p>Calendar Focus</p>
              <strong id="workspaceStarCalendarFocus">No day selected yet</strong>
              <small id="workspaceStarCalendarNote">Pick a day in the calendar to sync Booking Operations and Lexi guidance.</small>
            </article>
            <article class="workspace-star-card">
              <p>Todays Diary</p>
              <strong id="workspaceStarTodayCount">0 bookings</strong>
              <small id="workspaceStarTodayRevenue">Revenue snapshot: -</small>
            </article>
            <article class="workspace-star-card">
              <p>Lexi Next Prompt</p>
              <strong id="workspaceStarLexiPrompt">Review todays bookings and tell me what needs attention first.</strong>
              <small id="workspaceStarLexiHint">Short, direct actions for the front desk.</small>
            </article>
          </div>
        </section>
        <div class="workspace-actions-grid">
          <button class="workspace-action-btn" type="button" data-module-jump="business_information">
            <strong>Business Information</strong>
            <small>Profile, hours, contact, and core setup</small>
          </button>
          <button class="workspace-action-btn" type="button" data-module-jump="staff_setup">
            <strong>Staff Setup</strong>
            <small>Team rota, coverage, and capacity</small>
          </button>
          <button class="workspace-action-btn" type="button" data-module-jump="salon_features">
            <strong>Salon Features</strong>
            <small>Services and options Lexi can offer</small>
          </button>
          <button class="workspace-action-btn" type="button" data-module-jump="social_media">
            <strong>Social Media</strong>
            <small>Linked social accounts and brand presence</small>
          </button>
          <button class="workspace-action-btn" type="button" data-module-jump="accounting">
            <strong>Accounting</strong>
            <small>Exports, accountant-ready data, and links</small>
          </button>
          <button class="workspace-action-btn" type="button" data-module-jump="finance">
            <strong>Finance</strong>
            <small>Day, week, month, and revenue views</small>
          </button>
          <button class="workspace-action-btn" type="button" data-module-jump="cancellations">
            <strong>Cancellations</strong>
            <small>Risk, rebooking, and recovery actions</small>
          </button>
        </div>
      </section>

      <section class="panel" id="subscriberFullDemoModeSection" aria-label="Subscriber full demo mode lab" style="display:none;">
        <div class="subscriber-demo-lab-head">
          <div>
            <h2 style="margin:0;">Full Demo Mode Lab</h2>
            <p id="subscriberFullDemoModeSummary" style="margin:0.35rem 0 0;color:var(--muted);">
              Turn on Full Demo Mode to load realistic mock live data across modules and explore how the full platform looks in operation.
            </p>
          </div>
          <div class="subscriber-demo-lab-badge">
            <span class="live-pill"><i class="live-dot"></i> Demo walkthrough</span>
          </div>
        </div>
        <div class="subscriber-demo-lab-grid">
          <section class="subscriber-demo-lab-card" aria-labelledby="subscriberDemoModuleGuideTitle">
            <div class="subscriber-demo-lab-card-head">
              <h3 id="subscriberDemoModuleGuideTitle">Module Guide</h3>
              <small>What each section does</small>
            </div>
            <div id="subscriberFullDemoModeModules" class="subscriber-demo-module-list" aria-live="polite"></div>
          </section>
          <section class="subscriber-demo-lab-card" aria-labelledby="subscriberDemoAccountsTitle">
            <div class="subscriber-demo-lab-card-head">
              <h3 id="subscriberDemoAccountsTitle">Mock Accounts</h3>
              <small>Customer + subscriber examples</small>
            </div>
            <div class="subscriber-demo-account-columns">
              <div>
                <p class="subscriber-demo-mini-heading">Mock Customer Accounts</p>
                <div id="subscriberDemoCustomerAccounts" class="subscriber-demo-table-wrap" aria-live="polite"></div>
              </div>
              <div>
                <p class="subscriber-demo-mini-heading">Mock Subscriber Accounts</p>
                <div id="subscriberDemoSubscriberAccounts" class="subscriber-demo-table-wrap" aria-live="polite"></div>
              </div>
            </div>
          </section>
          <section class="subscriber-demo-lab-card" aria-labelledby="subscriberDemoRolePreviewTitle">
            <div class="subscriber-demo-lab-card-head">
              <h3 id="subscriberDemoRolePreviewTitle">Role Previews</h3>
              <small>See how the app looks for each role</small>
            </div>
            <div id="subscriberFullDemoLaunchers" class="subscriber-demo-launchers" aria-live="polite"></div>
          </section>
        </div>
      </section>

      <section class="panel customer-journey-actions" id="customerJourneyActionsSection" aria-label="Customer booking journey">
        <div class="customer-journey-head">
          <div>
            <h2>Customer Control</h2>
            <p>Search, ask Lexi, choose a time, and manage bookings in a simple order.</p>
          </div>
          <div style="display:flex;align-items:center;gap:0.45rem;flex-wrap:wrap;justify-content:flex-end;">
            <a class="btn" href="#customerReceptionSection">Ask Lexi</a>
            <span class="workspace-actions-badge">Daily flow</span>
          </div>
        </div>
        <div class="customer-journey-grid">
          <a class="customer-journey-link" href="#customerSearchSection">
            <strong>Find a Business</strong>
            <small>Search by service, area, or name</small>
          </a>
          <a class="customer-journey-link" href="#customerReceptionSection">
            <strong>Ask Lexi</strong>
            <small>Ask about services, times, and booking help</small>
          </a>
          <a class="customer-journey-link" href="#customerSlotsSection">
            <strong>Choose a Time</strong>
            <small>See open slots and select what works</small>
          </a>
          <a class="customer-journey-link" href="#customerHistorySection">
            <strong>My Bookings</strong>
            <small>Review upcoming and past appointments</small>
          </a>
          <a class="customer-journey-link" href="#customerAnalyticsSection">
            <strong>My Account</strong>
            <small>See your history and booking activity</small>
          </a>
        </div>
      </section>

            <section class="panel executive-pulse" id="subscriberExecutivePulseSection">
        <div class="executive-pulse-head">
          <div>
            <h2 style="margin:0;">Business Pulse</h2>
            <p id="executivePulseSubtitle" class="executive-pulse-subtitle">
              Quick read on bookings, cancellations, revenue and next steps.
            </p>
          </div>
          <div class="executive-pulse-badge">
            <button type="button" class="btn" data-open-subscriber-lexi="executive_pulse">Ask Lexi</button>
            <span class="live-pill"><i class="live-dot"></i> Live</span>
          </div>
        </div>
        <div class="executive-pulse-toolbar" aria-label="Daily pulse controls">
          <div id="executivePulseRangeTabs" class="executive-pulse-range-tabs" role="tablist" aria-label="Pulse range">
            <button type="button" class="is-active" data-exec-range="day" role="tab" aria-selected="true">Day</button>
            <button type="button" data-exec-range="week" role="tab" aria-selected="false">Week</button>
            <button type="button" data-exec-range="month" role="tab" aria-selected="false">Month</button>
            <button type="button" data-exec-range="year" role="tab" aria-selected="false">Year</button>
          </div>
          <div class="executive-pulse-toolbar-actions">
            <div id="executivePulseRangeMeta" class="executive-pulse-range-meta" aria-live="polite">Viewing today</div>
            <button id="executivePulseSaveSnapshotBtn" type="button" class="btn btn-ghost">Save View</button>
          </div>
        </div>
        <div id="executivePulseSignals" class="executive-signal-grid"></div>
        <div class="executive-pulse-grid">
          <article class="executive-card executive-card-primary">
            <div class="executive-card-head">
              <h3>Booking Health</h3>
              <small>Completion, confirmation and cancellation mix</small>
            </div>
            <div id="executivePulseGauges" class="executive-gauge-grid"></div>
          </article>
          <article class="executive-card">
            <div class="executive-card-head">
              <h3>Activity</h3>
              <small>Booking flow for the selected range</small>
            </div>
            <div id="executivePulseBars" class="executive-bars"></div>
          </article>
          <article class="executive-card">
            <div class="executive-card-head">
              <h3>Next Moves</h3>
              <small>What needs attention now</small>
            </div>
            <ul id="executivePulseActions" class="executive-action-list"></ul>
          </article>
        </div>
        <div class="executive-pulse-deep-grid">
          <article class="executive-card executive-card-finance">
            <div class="executive-card-head">
              <h3>Finance</h3>
              <small id="executivePulseFinanceWindowLabel">Range finance summary</small>
            </div>
            <div id="executivePulseFinanceStats" class="executive-finance-stats"></div>
            <div style="display:none;">
              <small id="executivePulseRevenueChartNote"></small>
              <small id="executivePulseProfitChartNote"></small>
              <div id="executivePulseRevenueChart"></div>
              <div id="executivePulseProfitChart"></div>
            </div>
          </article>
          <article class="executive-card executive-card-snapshots">
            <div class="executive-card-head">
              <h3>Saved Views</h3>
              <small>Keep quick checkpoints for reviews</small>
            </div>
            <div id="executivePulseSnapshotList" class="executive-snapshot-list" aria-live="polite"></div>
          </article>
        </div>
      </section>
      <section class="panel" id="businessGrowthSection">
        <div class="growth-grid">
          <article class="growth-card growth-card-onboarding growth-card-feature" id="businessSetupHubCard">
            <h3>Business Hub</h3>
            <p style="margin:0;color:var(--muted);">Run setup, updates and business controls from one place.</p>
            <div style="display:flex;justify-content:flex-end;margin-top:0.45rem;">
              <button type="button" class="btn" data-open-subscriber-lexi="hub_setup">Ask Lexi</button>
            </div>
            <section class="hub-command-deck" aria-label="AI Business Command Deck">
              <div class="hub-command-head">
                <div>
                  <h4>Command Deck</h4>
                  <p>Review the signals that matter, then run the next action fast.</p>
                </div>
                <span class="hub-module-badge">Priority view</span>
              </div>
              <div id="hubCommandSignalGrid" class="hub-command-signal-grid" aria-live="polite"></div>
              <div class="hub-command-columns">
                <section class="hub-command-panel" aria-labelledby="hubReportCenterTitle">
                  <div class="hub-command-panel-head">
                    <div>
                      <h5 id="hubReportCenterTitle">Business Report Center</h5>
                      <small>Print or email a clean business report.</small>
                    </div>
                    <span id="hubReportStatusPill" class="hub-command-pill muted">Ready</span>
                  </div>
                  <div class="hub-report-actions">
                    <button id="hubPrintReportBtn" type="button" class="btn">Print PDF Report</button>
                    <button id="hubEmailReportBtn" type="button" class="btn btn-ghost">Email Report</button>
                  </div>
                  <ul id="hubReportHighlights" class="hub-command-list"></ul>
                  <p id="hubReportStatusText" class="hub-command-note">Builds from live dashboard data (bookings, staff rota, waitlist, finance and setup signals).</p>
                </section>
                <section class="hub-command-panel" aria-labelledby="hubPriorityTitle">
                  <div class="hub-command-panel-head">
                    <div>
                      <h5 id="hubPriorityTitle">Priorities</h5>
                      <small>Daily actions and automations for the salon.</small>
                    </div>
                    <button id="hubRunPrioritySweepBtn" type="button" class="btn btn-ghost">AI Sweep</button>
                  </div>
                  <ul id="hubPriorityList" class="hub-command-list"></ul>
                  <div id="hubAutoRoutines" class="hub-auto-routines" aria-live="polite"></div>
                </section>
              </div>
            </section>
            <section class="hub-module-shell" aria-label="Business Modules Workspace">
              <div class="hub-module-head">
                <div>
                  <h4>Workspaces</h4>
                  <p>Open the part of the business you want to work on now.</p>
                </div>
                <div style="display:flex;align-items:center;gap:0.45rem;flex-wrap:wrap;justify-content:flex-end;">
                  <button type="button" class="btn" data-open-subscriber-lexi="business_modules">Ask Lexi</button>
                  <span class="hub-module-badge">Main workspace</span>
                </div>
              </div>
              <section class="module-navigator module-navigator-inline" id="moduleNavigatorSection">
                <div>
                  <h2 style="margin:0;">Business Hub</h2>
                  <p id="moduleNavigatorIntro" style="margin:0.35rem 0 0;color:var(--muted);">
                    Pick a workspace and go straight into the task.
                  </p>
                </div>
                <div id="moduleCards" class="module-grid"></div>
                <article id="moduleDetails" class="module-info"></article>
              </section>
            </section>
          </article>
        </div>
      </section>

      <section class="panel" id="subscriberSubscriptionSection">
        <div class="subscription-popup-shell">
          <div>
            <h2 style="margin:0;">Live Subscription Plan</h2>
            <p style="margin:0.35rem 0 0;color:var(--muted);">Review your current subscription, renewal timing, and plan settings in one place.</p>
          </div>
          <p id="billingLiveBanner" style="margin:0;color:var(--ink);">Loading billing status...</p>
          <small id="billingLiveMeta" style="color:var(--muted);"></small>
          <small id="yearlySavingsLine" style="color:#d7fff4;"></small>
          <div id="subscriptionQuickPanel" class="subscription-quick-panel" aria-label="Subscription summary and controls">
            <div class="subscription-plan-row">
              <div class="subscription-current-summary">
                <small class="subscription-mini-label">Current Subscription</small>
                <strong id="subscriptionCurrentPlanLabel">Subscriber Monthly</strong>
                <small id="subscriptionCurrentPlanMeta">Next renewal: Not available yet</small>
              </div>
              <label class="subscription-auto-renew" for="subscriptionAutoRenewToggle">
                <input id="subscriptionAutoRenewToggle" type="checkbox" checked />
                <span>Auto renew</span>
              </label>
            </div>
            <div class="subscription-plan-actions">
              <label class="subscription-plan-select-wrap" for="subscriptionBillingCycle">
                <span class="subscription-mini-label">Change Subscription</span>
                <select id="subscriptionBillingCycle" class="btn btn-ghost" style="padding-right:2.2rem;" aria-label="Select subscription plan">
                  <option value="monthly">Monthly - GBP 29.99</option>
                  <option value="yearly">Yearly - GBP 299.99 (Save 16.6%)</option>
                </select>
              </label>
              <select id="subscriptionBillingProvider" class="btn btn-ghost" style="display:none;padding-right:2.2rem;" aria-label="Select payment provider" hidden>
                <option value="stripe">Pay with Stripe</option>
                <option value="paypal">Pay with PayPal</option>
              </select>
              <button id="startBilling" class="btn">Change Plan</button>
              <button id="manageBilling" class="btn btn-ghost">Manage Billing</button>
            </div>
            <div class="subscription-provider-connect" aria-label="Connect payment providers">
              <button id="connectStripeBillingBtn" class="btn btn-ghost" type="button">Connect Stripe</button>
              <button id="connectPayPalBillingBtn" class="btn btn-ghost" type="button">Connect PayPal</button>
            </div>
            <p id="subscriptionPaymentConnectNote" class="subscription-provider-connect-note">
              Connect a payment provider to activate secure subscriber billing and manage refunds through Stripe or PayPal.
            </p>
          </div>
        </div>
      </section>

      <section class="panel" id="first7DaysSnapshotSection">
        <div class="snapshot-popup-shell">
          <div>
            <h2 style="margin:0;">First 7 Days Snapshot</h2>
            <p style="margin:0.35rem 0 0;color:var(--muted);">A compact view of your latest booking activity, completion, cancellations, and revenue movement.</p>
          </div>
          <div id="first7DaysGrid" class="growth-kpis"></div>
          <p class="snapshot-popup-note">Use this snapshot as a quick trend check before opening bookings, calendar, or revenue modules.</p>
        </div>
      </section>

      <section class="panel" id="customerSearchSection">
        <h2 style="margin:0;">Find a Business</h2>
        <p style="margin:0.35rem 0 0;color:var(--muted);">Search, choose a business, then let Lexi help with the booking.</p>
        <form id="customerSearchForm" class="customer-search-form" style="margin-top:0.8rem;">
          <input id="customerSearchQuery" type="text" placeholder="Name, service, or specialist" aria-label="Search query" />
          <input id="customerSearchService" type="text" placeholder="Service (e.g., fade, balayage)" aria-label="Service filter" />
          <select id="customerSearchBusinessType" aria-label="Business type filter">
            <option value="">Any business type</option>
            <option value="hair_salon">Hair Salon</option>
            <option value="barbershop">Barbershop</option>
            <option value="beauty_salon">Beauty Salon</option>
          </select>
          <input id="customerSearchLocation" type="text" placeholder="City / area" aria-label="Location filter" />
          <select id="customerSearchRating" aria-label="Rating filter">
            <option value="">Any rating</option>
            <option value="4.5">4.5+</option>
            <option value="4.0">4.0+</option>
            <option value="3.5">3.5+</option>
          </select>
          <input id="customerSearchDate" type="date" aria-label="Date filter" />
          <button class="btn" type="submit">Search</button>
          <button class="btn btn-ghost" id="customerSearchReset" type="button">Reset</button>
        </form>
        <ul id="customerSearchResults" class="customer-results" style="margin-top:0.8rem;"></ul>
      </section>

      <section class="panel" id="customerReceptionSection">
        <h2 style="margin:0;">Ask Lexi</h2>
        <section class="lexi-launch-panel" style="margin-top:0.75rem;" aria-label="Open customer Lexi popup">
          <div>
            <p class="lexi-launch-kicker">Popup Experience</p>
            <strong>Open Lexi in a focused assistant window.</strong>
            <small>Ask about services, get the best time, and move into booking from one live popup.</small>
          </div>
          <div class="lexi-launch-actions">
            <button class="btn" type="button" id="customerLexiLaunchBtn">Ask Lexi</button>
            <button class="btn btn-ghost" type="button" id="customerLexiLaunchBookingBtn">Book with Lexi</button>
          </div>
        </section>
        <div class="customer-chat-shell customer-chat-inline-hidden" style="margin-top:0.75rem;">
          <div class="customer-chat-head">
            <div>
              <p class="customer-chat-kicker">AI Receptionist</p>
              <strong>Ask Lexi about services, best times, booking help, or contact details.</strong>
            </div>
            <small id="customerChatGuideHint">Choose a business first for more accurate booking guidance.</small>
          </div>
          <div id="customerReceptionMessages" class="customer-chat-box"></div>
          <form id="customerReceptionForm" class="customer-chat-form">
            <label class="sr-only" for="customerReceptionInput">Message AI receptionist</label>
            <input id="customerReceptionInput" type="text" placeholder="Example: What is the best time for a fade this week?" aria-label="Message AI receptionist" />
             <button class="btn" type="submit">Ask Lexi</button>
          </form>
        </div>
      </section>

      <section class="panel" id="customerLexiCalendarSection">
        <h2 style="margin:0;">Booking Calendar</h2>
        <p style="margin:0.35rem 0 0;color:var(--muted);">See your bookings and the selected business's available slots in one view.</p>
        <div class="customer-lexi-calendar-shell">
          <aside class="customer-lexi-card" aria-label="Lexi customer planner intro">
            <div class="customer-lexi-card-portrait" aria-hidden="true"></div>
            <p class="kicker">Lexi booking planner</p>
            <h3>Pick the best time faster.</h3>
            <p class="meta" id="customerLexiPlannerMeta">Lexi can compare your schedule with salon availability and help you choose a better slot.</p>
            <div id="customerLexiStaffLegend" class="calendar-staff-legend" aria-label="Selected salon staff legend"></div>
            <div class="customer-lexi-chip-row" aria-label="Lexi planner features">
              <span>Availability</span>
              <span>Rebooking</span>
              <span>Service timing</span>
              <span>Visit planning</span>
            </div>
            <button id="customerLexiAskNextBest" class="btn btn-ghost" type="button">Ask Lexi for my next best slot</button>
          </aside>
          <div class="customer-lexi-calendar-panel" aria-label="Customer booking and availability calendar">
            <div class="customer-lexi-calendar-head">
              <div>
                <p class="kicker" style="margin:0;color:#9cf5e8;font-size:0.68rem;letter-spacing:0.08em;text-transform:uppercase;font-weight:800;">Calendar view</p>
                <p id="customerLexiCalendarMonth" class="customer-lexi-calendar-month">Month</p>
              </div>
              <div id="customerLexiCalendarViewTabs" class="customer-lexi-view-tabs" role="tablist" aria-label="Customer Lexi calendar view">
                <button type="button" class="customer-lexi-view-tab is-active" data-customer-lexi-view="day">Day</button>
                <button type="button" class="customer-lexi-view-tab" data-customer-lexi-view="week">Week</button>
                <button type="button" class="customer-lexi-view-tab" data-customer-lexi-view="month">Month</button>
              </div>
              <div class="calendar-nav">
                <button id="customerLexiCalendarPrev" class="btn btn-ghost" type="button" aria-label="Previous month">&lt;</button>
                <button id="customerLexiCalendarNext" class="btn btn-ghost" type="button" aria-label="Next month">&gt;</button>
              </div>
            </div>
            <div id="customerLexiCalendarMeta" class="customer-lexi-calendar-meta">Lexi calendar is loading your bookings and selected salon slots...</div>
            <div class="customer-lexi-weekdays" aria-hidden="true">
              <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
            </div>
            <div id="customerLexiCalendarGrid" class="customer-lexi-calendar-grid"></div>
          </div>
          <aside id="customerLexiDaySummary" class="customer-lexi-summary-panel" aria-live="polite">
            <h3>Selected Day</h3>
            <p>Choose a date to see your bookings, available slots, and quick Lexi actions.</p>
          </aside>
        </div>
      </section>

      <section class="panel" id="customerSlotsSection">
        <h2 style="margin:0;">Times and Contact</h2>
        <p id="customerSelectedSalonLabel" style="margin:0.35rem 0 0;color:var(--muted);">Select a business from search results.</p>
        <div id="customerSalonContact" class="customer-contact"></div>
        <ul id="customerAvailableSlots" class="customer-slots" style="margin-top:0.7rem;"></ul>
      </section>

      <section class="panel" id="customerHistorySection">
        <h2 style="margin:0;">Booking History</h2>
        <p style="margin:0.35rem 0 0;color:var(--muted);">View your previous and upcoming appointments in one place.</p>
        <ul id="customerBookingHistory" class="customer-history" style="margin-top:0.75rem;"></ul>
      </section>

      <section class="panel" id="customerAnalyticsSection">
        <h2 style="margin:0;">Account Overview</h2>
        <p style="margin:0.35rem 0 0;color:var(--muted);">Personal usage trends only. No sensitive business data.</p>
        <div id="customerAnalyticsGrid" class="customer-analytics-grid" style="margin-top:0.75rem;"></div>
      </section>

      <section class="dash-grid" id="metricsGrid"></section>
      <section class="panel" id="subscriberCommandCenterSection">
        <h2 style="margin:0;">Daily Focus</h2>
        <p style="margin:0.35rem 0 0;color:var(--muted);">The key numbers and next actions for today.</p>
        <div class="command-grid" id="commandCenterCards" style="margin-top:0.8rem;"></div>
        <ul class="action-list" id="commandCenterActions"></ul>
        <p id="commandCenterStatus" class="command-status"></p>
      </section>

      <section class="panel" id="staffRosterSection">
        <h2 style="margin:0;">Staff Rota &amp; Coverage</h2>
        <p style="margin:0.35rem 0 0;color:var(--muted);">Build a weekly rota, manage team changes, and handle sickness cover without losing capacity.</p>
        <div class="staff-shell" style="margin-top:0.8rem;">
          <div class="staff-rota-topbar">
            <form id="staffRosterForm" class="staff-form">
              <input id="staffNameInput" type="text" placeholder="Add employee name" required />
              <select id="staffRoleInput">
                <option value="barber">Barber</option>
                <option value="stylist">Stylist</option>
                <option value="colorist">Colorist</option>
                <option value="esthetician">Esthetician</option>
                <option value="nail_tech">Nail Technician</option>
                <option value="lash_tech">Lash Technician</option>
                <option value="receptionist">Receptionist</option>
              </select>
              <select id="staffAvailabilityInput">
                <option value="on_duty">Available</option>
                <option value="off_duty">Off duty</option>
              </select>
              <input id="staffShiftDaysInput" type="text" placeholder="Rota days e.g. mon,tue,wed" />
              <button class="btn" type="submit">Add To Rota</button>
            </form>
            <div class="staff-rota-controls">
              <div class="staff-week-nav">
                <button id="staffWeekPrevBtn" class="btn btn-ghost" type="button" aria-label="Previous rota week">?</button>
                <button id="staffWeekTodayBtn" class="btn btn-ghost" type="button">This Week</button>
                <button id="staffWeekNextBtn" class="btn btn-ghost" type="button" aria-label="Next rota week">?</button>
                <span id="staffWeekLabel" class="staff-week-label">Loading week...</span>
              </div>
              <div class="staff-rota-actions">
                <div class="staff-brush-group" aria-label="Rota paint controls">
                  <label for="staffBrushStatusSelect">Paint
                    <select id="staffBrushStatusSelect" class="staff-brush-select">
                      <option value="scheduled">Scheduled</option>
                      <option value="available">Available</option>
                      <option value="off">Off</option>
                      <option value="sick">Sick</option>
                      <option value="covering">Covering</option>
                    </select>
                  </label>
                  <label for="staffBrushShiftSelect">Shift
                    <select id="staffBrushShiftSelect" class="staff-brush-select">
                      <option value="full">Full Day</option>
                      <option value="am">AM</option>
                      <option value="pm">PM</option>
                    </select>
                  </label>
                </div>
                <button id="staffLoadDemoRotaBtn" class="btn btn-ghost" type="button">Load Demo Rota</button>
                <button id="staffAutoCoverBtn" class="btn btn-ghost" type="button">Auto-fill Cover</button>
                <button id="staffClearWeekOverridesBtn" class="btn btn-ghost" type="button">Reset Week</button>
              </div>
            </div>
          </div>
          <div class="staff-summary" id="staffSummaryCards"></div>
          <div class="staff-rota-board">
            <div class="staff-rota-rail">
              <div class="staff-rota-rail-head">
                <div>
                  <strong>Team Rail</strong>
                  <p>Select a person, mark sick calls, and manage roster actions.</p>
                </div>
              </div>
              <ul id="staffRosterList" class="staff-list"></ul>
            </div>
            <div class="staff-rota-grid-shell">
              <div class="staff-rota-grid-head">
                <div>
                  <strong>Weekly Rota Grid</strong>
                  <p>Click cells to cycle: Scheduled, Available, Off, Sick, Covering.</p>
                </div>
                <div id="staffColorLegend" class="staff-color-legend" aria-label="Staff color legend"></div>
              </div>
              <div class="staff-rota-grid-scroll">
                <div id="staffRotaGrid" class="staff-rota-grid"></div>
              </div>
              <p class="staff-rota-footnote" id="staffRotaHint">Tip: use Manage/Edit Mode to change rota statuses or mark sickness cover.</p>
            </div>
          </div>
          <p id="staffStatusNote" class="staff-status-note"></p>
        </div>
      </section>

      <section class="panel" id="waitlistSection">
        <h2 style="margin:0;">Waitlist and Backfill</h2>
        <p style="margin:0.35rem 0 0;color:var(--muted);">Capture demand and quickly contact waitlisted clients when cancellations happen.</p>
        <div class="waitlist-shell" style="margin-top:0.8rem;">
          <form id="waitlistForm" class="waitlist-form">
            <input id="waitlistNameInput" type="text" placeholder="Customer name" required />
            <input id="waitlistPhoneInput" type="text" placeholder="Phone (optional)" />
            <input id="waitlistEmailInput" type="email" placeholder="Email (optional)" />
            <input id="waitlistServiceInput" type="text" placeholder="Service preference" />
            <input id="waitlistDateInput" type="text" placeholder="Preferred date/time (optional)" />
            <button class="btn" type="submit">Add to Waitlist</button>
          </form>
          <div class="waitlist-summary" id="waitlistSummaryCards"></div>
          <ul id="waitlistList" class="waitlist-list"></ul>
          <p id="waitlistStatusNote" class="waitlist-status-note"></p>
        </div>
      </section>

      <section class="panel" id="operationsInsightsSection">
        <h2 style="margin:0;">No-Show Risk and Rebooking</h2>
        <p style="margin:0.35rem 0 0;color:var(--muted);">Prioritize reminders for risky bookings and proactively rebook inactive clients.</p>
        <div class="ops-shell" style="margin-top:0.8rem;">
          <div class="ops-grid">
            <article>
              <h3 style="margin:0 0 0.5rem;">At-Risk Upcoming Bookings</h3>
              <ul id="noShowRiskList" class="ops-list"></ul>
            </article>
            <article>
              <h3 style="margin:0 0 0.5rem;">Rebooking Opportunities</h3>
              <ul id="rebookingPromptList" class="ops-list"></ul>
            </article>
          </div>
          <p id="operationsStatusNote" class="ops-status-note"></p>
        </div>
      </section>

      <section class="panel" id="crmSection">
        <h2 style="margin:0;">CRM and Campaign Automation</h2>
        <p style="margin:0.35rem 0 0;color:var(--muted);">Target the right clients with segment-specific re-engagement campaigns.</p>
        <div class="crm-shell" style="margin-top:0.8rem;">
          <ul id="crmSegmentsList" class="crm-list"></ul>
          <p id="crmStatusNote" class="crm-status-note"></p>
        </div>
      </section>

      <section class="panel" id="commercialSection">
        <h2 style="margin:0;">Memberships, Packages, and Gift Cards</h2>
        <p style="margin:0.35rem 0 0;color:var(--muted);">Manage recurring plans, prepaid service bundles, and gift-card balances from one place.</p>
        <div class="commercial-shell" style="margin-top:0.8rem;">
          <div id="commercialSummaryCards" class="commercial-summary"></div>
          <div class="commercial-grid">
            <article>
              <h3 style="margin:0 0 0.45rem;">Membership Plans</h3>
              <form id="membershipForm" class="commercial-form">
                <input id="membershipNameInput" type="text" placeholder="Plan name" required />
                <input id="membershipPriceInput" type="number" step="0.01" min="0" placeholder="Price" required />
                <select id="membershipCycleInput">
                  <option value="monthly">Monthly</option>
                  <option value="weekly">Weekly</option>
                  <option value="quarterly">Quarterly</option>
                  <option value="yearly">Yearly</option>
                </select>
                <input id="membershipBenefitsInput" type="text" placeholder="Benefits (optional)" />
                <button class="btn" type="submit">Save Membership</button>
              </form>
              <ul id="membershipList" class="commercial-list" style="margin-top:0.6rem;"></ul>
            </article>
            <article>
              <h3 style="margin:0 0 0.45rem;">Service Packages</h3>
              <form id="packageForm" class="commercial-form">
                <input id="packageNameInput" type="text" placeholder="Package name" required />
                <input id="packagePriceInput" type="number" step="0.01" min="0" placeholder="Price" required />
                <input id="packageSessionsInput" type="number" step="1" min="1" placeholder="Session count" required />
                <button class="btn" type="submit">Save Package</button>
              </form>
              <ul id="packageList" class="commercial-list" style="margin-top:0.6rem;"></ul>
            </article>
            <article>
              <h3 style="margin:0 0 0.45rem;">Gift Cards</h3>
              <form id="giftCardForm" class="commercial-form">
                <input id="giftPurchaserInput" type="text" placeholder="Purchaser name" required />
                <input id="giftRecipientInput" type="text" placeholder="Recipient name" required />
                <input id="giftBalanceInput" type="number" step="0.01" min="0.01" placeholder="Balance" required />
                <input id="giftExpiresInput" type="date" />
                <button class="btn" type="submit">Issue Gift Card</button>
              </form>
              <ul id="giftCardList" class="commercial-list" style="margin-top:0.6rem;"></ul>
            </article>
          </div>
          <p id="commercialStatusNote" class="commercial-status-note"></p>
        </div>
      </section>

      <section class="panel" id="revenueAttributionSection">
        <h2 style="margin:0;">Revenue Attribution and Channel ROI</h2>
        <p style="margin:0.35rem 0 0;color:var(--muted);">Track where bookings come from and compare channel spend against generated revenue.</p>
        <div class="revenue-shell" style="margin-top:0.8rem;">
          <div id="revenueSummaryCards" class="revenue-summary"></div>
          <form id="revenueSpendForm" class="revenue-form">
            <select id="revenueChannelInput">
              <option value="direct">Direct</option>
              <option value="ai_assistant">AI Assistant</option>
              <option value="instagram">Instagram</option>
              <option value="facebook">Facebook</option>
              <option value="google_ads">Google Ads</option>
              <option value="tiktok">TikTok</option>
              <option value="referral">Referral</option>
            </select>
            <input id="revenueSpendInput" type="number" step="0.01" min="0" placeholder="Channel spend" required />
            <button class="btn" type="submit">Save Spend</button>
          </form>
          <ul id="revenueChannelList" class="revenue-list"></ul>
          <p id="revenueStatusNote" class="revenue-status-note"></p>
        </div>
      </section>

      <section class="panel" id="profitabilitySection">
        <h2 style="margin:0;">Profitability and Payroll</h2>
        <p style="margin:0.35rem 0 0;color:var(--muted);">Input payroll and operating costs to estimate profit, margin, and break-even targets.</p>
        <div class="profit-shell" style="margin-top:0.8rem;">
          <div id="profitSummaryCards" class="profit-summary"></div>
          <div class="profit-grid">
            <article>
              <h3 style="margin:0 0 0.45rem;">Payroll Inputs</h3>
              <form id="profitPayrollForm" class="profit-form">
                <input id="profitStaffNameInput" type="text" placeholder="Staff name" required />
                <input id="profitStaffRoleInput" type="text" placeholder="Role (optional)" />
                <input id="profitStaffHoursInput" type="number" step="0.25" min="0" placeholder="Hours" required />
                <input id="profitStaffRateInput" type="number" step="0.01" min="0" placeholder="Hourly rate" required />
                <input id="profitStaffBonusInput" type="number" step="0.01" min="0" placeholder="Bonus (optional)" />
                <button class="btn" type="submit">Save Payroll Entry</button>
              </form>
              <ul id="profitPayrollList" class="profit-list" style="margin-top:0.6rem;"></ul>
            </article>
            <article>
              <h3 style="margin:0 0 0.45rem;">Operating Costs</h3>
              <form id="profitCostsForm" class="profit-form">
                <input id="profitRentInput" type="number" step="0.01" min="0" placeholder="Rent" />
                <input id="profitUtilitiesInput" type="number" step="0.01" min="0" placeholder="Utilities" />
                <input id="profitSoftwareInput" type="number" step="0.01" min="0" placeholder="Software" />
                <input id="profitOtherInput" type="number" step="0.01" min="0" placeholder="Other fixed costs" />
                <input id="profitCogsPercentInput" type="number" step="0.1" min="0" max="95" placeholder="COGS % (0-95)" />
                <button class="btn" type="submit">Save Cost Inputs</button>
              </form>
            </article>
          </div>
          <p id="profitStatusNote" class="profit-status-note"></p>
        </div>
      </section>

      <section class="panel" id="bookingOperationsSection">
        <h2 style="margin:0;">Booking Operations</h2>
        <div class="booking-range-toolbar" id="bookingRangeToolbar" aria-label="Booking calendar quick filters">
          <div class="quick-filter-group">
            <button id="bookingRangeToday" class="btn btn-ghost" type="button">Today</button>
            <button id="bookingRangeWeek" class="btn btn-ghost" type="button">This Week</button>
            <button id="bookingRangeMonth" class="btn btn-ghost" type="button">This Month</button>
            <button id="bookingRangeClear" class="btn btn-ghost" type="button">Clear</button>
          </div>
          <small id="bookingCalendarSelectionStatus" style="color:var(--muted);">Calendar filter: All dates</small>
        </div>
        <div class="booking-tools" id="bookingTools" style="margin-top:0.7rem;">
          <div id="bookingPendingBanner" class="booking-pending-banner" hidden>
            <strong>Pending bookings need confirmation</strong>
            <small>New booking requests from Lexi or manual entry will appear here for subscriber approval.</small>
          </div>
          <div class="booking-filters">
            <input id="bookingSearch" type="text" placeholder="Search by customer, service, or date" />
            <select id="bookingStatus">
              <option value="all">All Statuses</option>
              <option value="pending">Pending Confirmation</option>
              <option value="confirmed">Confirmed</option>
              <option value="completed">Completed</option>
              <option value="cancelled">Cancelled</option>
            </select>
            <select id="bookingSort">
              <option value="newest">Newest First</option>
              <option value="oldest">Oldest First</option>
              <option value="status">By Status</option>
            </select>
          </div>
          <div class="status-chips" id="statusChips">
            <button class="status-chip active" data-status="all" type="button">All</button>
            <button class="status-chip" data-status="pending" type="button">Pending Confirmation</button>
            <button class="status-chip" data-status="confirmed" type="button">Confirmed</button>
            <button class="status-chip" data-status="completed" type="button">Completed</button>
            <button class="status-chip" data-status="cancelled" type="button">Cancelled</button>
          </div>
          <small id="bookingsCountLabel" style="color:var(--muted);">Loading bookings...</small>
        </div>
        <ul id="bookings" class="bookings-list" style="margin-top:0.8rem;"></ul>
        <div class="booking-pager">
          <button id="loadMoreBookings" class="btn btn-ghost" type="button">Load More</button>
        </div>
      </section>
    </main>
    <nav class="mobile-bottom-nav" id="mobileBottomNav" aria-label="Mobile dashboard navigation">
      <button class="mobile-bottom-nav-item subscriber-only admin-only" type="button" data-mobile-nav-section="dashboardOverviewSection" data-mobile-nav-module="home">
        <span class="mobile-nav-icon" aria-hidden="true">H</span>
        <span class="mobile-nav-label">Home</span>
      </button>
      <button class="mobile-bottom-nav-item subscriber-only admin-only" type="button" data-mobile-nav-section="subscriberCalendarSection" data-mobile-nav-module="calendar">
        <span class="mobile-nav-icon" aria-hidden="true">D</span>
        <span class="mobile-nav-label">Diary</span>
      </button>
      <button class="mobile-bottom-nav-item subscriber-only" type="button" data-mobile-nav-section="subscriberCopilotSection" data-mobile-nav-module="subscriber_copilot">
        <span class="mobile-nav-icon" aria-hidden="true">C</span>
        <span class="mobile-nav-label">Copilot</span>
      </button>
      <button class="mobile-bottom-nav-item admin-only" type="button" data-mobile-nav-section="adminCopilotSection" data-mobile-nav-module="admin_copilot">
        <span class="mobile-nav-icon" aria-hidden="true">C</span>
        <span class="mobile-nav-label">Copilot</span>
      </button>
      <button class="mobile-bottom-nav-item quick-action" type="button" data-mobile-nav-action="quick-sheet" aria-label="Open quick actions">
        <span class="mobile-nav-icon" aria-hidden="true">+</span>
        <span class="mobile-nav-label">Quick</span>
      </button>
      <button class="mobile-bottom-nav-item subscriber-only admin-only" type="button" data-mobile-nav-section="businessGrowthSection">
        <span class="mobile-nav-icon" aria-hidden="true">G</span>
        <span class="mobile-nav-label">Hub</span>
      </button>
      <button class="mobile-bottom-nav-item subscriber-only admin-only" type="button" data-mobile-nav-section="bookingOperationsSection" data-mobile-nav-module="booking_ops">
        <span class="mobile-nav-icon" aria-hidden="true">B</span>
        <span class="mobile-nav-label">Bookings</span>
      </button>

      <button class="mobile-bottom-nav-item customer-only" type="button" data-mobile-nav-section="dashboardOverviewSection">
        <span class="mobile-nav-icon" aria-hidden="true">H</span>
        <span class="mobile-nav-label">Home</span>
      </button>
      <button class="mobile-bottom-nav-item customer-only" type="button" data-mobile-nav-section="customerSearchSection">
        <span class="mobile-nav-icon" aria-hidden="true">S</span>
        <span class="mobile-nav-label">Search</span>
      </button>
      <button class="mobile-bottom-nav-item customer-only" type="button" data-mobile-nav-section="customerReceptionSection">
        <span class="mobile-nav-icon" aria-hidden="true">C</span>
        <span class="mobile-nav-label">Chat</span>
      </button>
      <button class="mobile-bottom-nav-item customer-only" type="button" data-mobile-nav-section="customerSlotsSection">
        <span class="mobile-nav-icon" aria-hidden="true">S</span>
        <span class="mobile-nav-label">Slots</span>
      </button>
      <button class="mobile-bottom-nav-item customer-only" type="button" data-mobile-nav-section="customerHistorySection">
        <span class="mobile-nav-icon" aria-hidden="true">B</span>
        <span class="mobile-nav-label">Bookings</span>
      </button>
    </nav>
    <div class="mobile-quick-sheet-overlay" id="mobileQuickSheetOverlay" aria-hidden="true">
      <section class="mobile-quick-sheet" role="dialog" aria-modal="true" aria-labelledby="mobileQuickSheetTitle">
        <div class="mobile-quick-sheet-head">
          <div>
            <h3 id="mobileQuickSheetTitle">Quick Actions</h3>
            <p>Fast shortcuts for the things you use most during the day.</p>
          </div>
          <button class="btn btn-ghost mobile-quick-sheet-close" id="mobileQuickSheetClose" type="button" aria-label="Close quick actions">x</button>
        </div>
        <div class="mobile-quick-sheet-grid">
          <button class="mobile-quick-sheet-btn" type="button" data-mobile-quick-action="home">
            <span class="mobile-quick-sheet-btn-head"><span class="mobile-quick-sheet-btn-icon" aria-hidden="true">B</span><strong>Back to Dashboard</strong></span>
            <small>Return to your main Home view</small>
          </button>
          <button class="mobile-quick-sheet-btn" type="button" data-mobile-quick-action="today">
            <span class="mobile-quick-sheet-btn-head"><span class="mobile-quick-sheet-btn-icon" aria-hidden="true">B</span><strong>Today</strong></span>
            <small>Open today in the diary and jump into the day view</small>
          </button>
          <button class="mobile-quick-sheet-btn" type="button" data-mobile-quick-action="new-booking">
            <span class="mobile-quick-sheet-btn-head"><span class="mobile-quick-sheet-btn-icon" aria-hidden="true">+</span><strong>New Booking</strong></span>
            <small>Add a booking quickly from your phone</small>
          </button>
          <button class="mobile-quick-sheet-btn" type="button" data-mobile-quick-action="calendar">
            <span class="mobile-quick-sheet-btn-head"><span class="mobile-quick-sheet-btn-icon" aria-hidden="true">B</span><strong>Booking Diary</strong></span>
            <small>Jump to the diary and day view</small>
          </button>
          <button class="mobile-quick-sheet-btn" type="button" data-mobile-quick-action="bookings">
            <span class="mobile-quick-sheet-btn-head"><span class="mobile-quick-sheet-btn-icon" aria-hidden="true">B</span><strong>Booking Operations</strong></span>
            <small>Manage bookings and changes</small>
          </button>
          <button class="mobile-quick-sheet-btn" type="button" data-mobile-quick-action="waitlist">
            <span class="mobile-quick-sheet-btn-head"><span class="mobile-quick-sheet-btn-icon" aria-hidden="true">B</span><strong>Waitlist Recovery</strong></span>
            <small>Fill cancellations and gaps</small>
          </button>
          <button class="mobile-quick-sheet-btn" type="button" data-mobile-quick-action="copilot">
            <span class="mobile-quick-sheet-btn-head"><span class="mobile-quick-sheet-btn-icon" aria-hidden="true">B</span><strong>Open Copilot</strong></span>
            <small>Ask for guidance or checks quickly</small>
          </button>
          <button class="mobile-quick-sheet-btn" type="button" data-mobile-quick-action="hub">
            <span class="mobile-quick-sheet-btn-head"><span class="mobile-quick-sheet-btn-icon" aria-hidden="true">B</span><strong>Business Hub</strong></span>
            <small>Open setup and business modules</small>
          </button>
        </div>
      </section>
    </div>
    <footer class="footer">
      <div class="footer-links" aria-label="Legal links">
        <a href="/legal.html#privacy">Privacy Policy</a>
        <a href="/legal.html#terms">Terms &amp; Conditions</a>
        <a href="/legal.html#cookies">Cookie Policy</a>
        <a href="/legal.html#billing">Billing Policy</a>
        <a href="/legal.html#refunds">Refunds</a>
        <a href="/legal.html#ai">AI Disclosure</a>
      </div>
      <p>
        AI Salon Receptionist: AI booking software, appointment automation,
        front desk management, customer retention, and business analytics.
      </p>
    </footer>
    <style id="dashboard-light-hard-reset">
      body.dashboard-light-mode .dash > .panel,
      body.dashboard-light-mode .dash > section.panel,
      body.dashboard-light-mode .dash > #moduleNavigatorSection,
      body.dashboard-light-mode #subscriberCalendarSection,
      body.dashboard-light-mode #subscriberCopilotSection,
      body.dashboard-light-mode #adminCopilotSection,
      body.dashboard-light-mode #businessGrowthSection,
      body.dashboard-light-mode #subscriberExecutivePulseSection,
      body.dashboard-light-mode #customerSearchSection,
      body.dashboard-light-mode #customerReceptionSection,
      body.dashboard-light-mode #customerSlotsSection,
      body.dashboard-light-mode #customerHistorySection,
      body.dashboard-light-mode #customerAnalyticsSection,
      body.dashboard-light-mode #customerLexiCalendarSection,
      body.dashboard-light-mode .copilot-shell,
      body.dashboard-light-mode .copilot-head,
      body.dashboard-light-mode .copilot-form,
      body.dashboard-light-mode .copilot-form textarea,
      body.dashboard-light-mode .copilot-launch-row,
      body.dashboard-light-mode .copilot-result,
      body.dashboard-light-mode .copilot-card,
      body.dashboard-light-mode .ai-assistant-workspace,
      body.dashboard-light-mode .ai-assistant-context,
      body.dashboard-light-mode .ai-routine-btn,
      body.dashboard-light-mode .calendar-wow-strip,
      body.dashboard-light-mode .calendar-stage,
      body.dashboard-light-mode .calendar-feature-rail,
      body.dashboard-light-mode .calendar-feature-meta,
      body.dashboard-light-mode .calendar-feature-stats article,
      body.dashboard-light-mode .calendar-selected-day-card,
      body.dashboard-light-mode .calendar-selected-day-list li,
      body.dashboard-light-mode .calendar-lexi-command-card,
      body.dashboard-light-mode .calendar-day,
      body.dashboard-light-mode .hub-command-deck,
      body.dashboard-light-mode .hub-command-panel,
      body.dashboard-light-mode .hub-command-signal,
      body.dashboard-light-mode .hub-command-list li,
      body.dashboard-light-mode .hub-fold,
      body.dashboard-light-mode .hub-module-shell,
      body.dashboard-light-mode .module-navigator-inline,
      body.dashboard-light-mode .module-info,
      body.dashboard-light-mode .module-card,
      body.dashboard-light-mode .module-group,
      body.dashboard-light-mode .lexi-command-card,
      body.dashboard-light-mode .customer-lexi-card,
      body.dashboard-light-mode .customer-lexi-calendar-panel,
      body.dashboard-light-mode .customer-lexi-summary-panel,
      body.dashboard-light-mode .customer-lexi-calendar-meta,
      body.dashboard-light-mode .customer-lexi-day,
      body.dashboard-light-mode .customer-lexi-summary-list li,
      body.dashboard-light-mode .customer-chat-shell,
      body.dashboard-light-mode .customer-chat-box {
        background-image: none !important;
        background: #ffffff !important;
      }

      body.dashboard-light-mode .calendar-day.has-bookings,
      body.dashboard-light-mode .calendar-day.selected,
      body.dashboard-light-mode .customer-lexi-day.has-booking,
      body.dashboard-light-mode .customer-lexi-day.has-slots {
        background-image: none !important;
        background: #f8fbff !important;
      }

      body.dashboard-light-mode .calendar-day.empty {
        background-image: none !important;
        background: #fbfbfd !important;
      }

      body.dashboard-light-mode .dash-top,
      body.dashboard-light-mode .workspace-star-panel,
      body.dashboard-light-mode .workspace-star-card,
      body.dashboard-light-mode .workspace-action-btn,
      body.dashboard-light-mode .subscription-quick-panel,
      body.dashboard-light-mode .lexi-launch-panel,
      body.dashboard-light-mode .customer-chat-head,
      body.dashboard-light-mode .customer-chat-shell,
      body.dashboard-light-mode .customer-chat-box,
      body.dashboard-light-mode .customer-chat-msg.user,
      body.dashboard-light-mode .customer-chat-msg.ai {
        background-image: none !important;
      }

      body.dashboard-light-mode .dash-top,
      body.dashboard-light-mode .workspace-star-panel,
      body.dashboard-light-mode .workspace-action-btn,
      body.dashboard-light-mode .subscription-quick-panel,
      body.dashboard-light-mode .lexi-launch-panel,
      body.dashboard-light-mode .customer-chat-shell,
      body.dashboard-light-mode .customer-chat-box {
        background-color: rgba(255,255,255,0.96) !important;
        border-color: rgba(186, 204, 231, 0.78) !important;
        color: #24324a !important;
      }

      body.dashboard-light-mode .workspace-star-card {
        background: #f9fbff !important;
        border-color: rgba(186, 204, 231, 0.74) !important;
        color: #24324a !important;
      }

      body.dashboard-light-mode .customer-chat-msg.user {
        background: linear-gradient(180deg, rgba(231, 242, 255, 0.98), rgba(220, 236, 255, 0.98)) !important;
        border: 1px solid rgba(142, 184, 228, 0.58) !important;
        color: #24405f !important;
      }

      body.dashboard-light-mode .customer-chat-msg.ai {
        background: linear-gradient(180deg, rgba(255, 244, 248, 0.98), rgba(250, 252, 255, 0.98)) !important;
        border: 1px solid rgba(226, 181, 205, 0.46) !important;
        color: #3d4c64 !important;
      }

      body.dashboard-light-mode .customer-chat-form input,
      body.dashboard-light-mode .billing-actions .btn,
      body.dashboard-light-mode .billing-actions select {
        background: rgba(255,255,255,0.96) !important;
        border-color: rgba(186, 204, 231, 0.78) !important;
        color: #24324a !important;
      }

      body.dashboard-light-mode .customer-chat-kicker,
      body.dashboard-light-mode .workspace-star-kicker,
      body.dashboard-light-mode .lexi-launch-kicker,
      body.dashboard-light-mode .workspace-actions-badge {
        color: #b85c86 !important;
      }

      body.dashboard-light-mode .workspace-star-head h3,
      body.dashboard-light-mode .workspace-actions-head h2,
      body.dashboard-light-mode .lexi-launch-panel strong,
      body.dashboard-light-mode .customer-chat-head strong,
      body.dashboard-light-mode .dash-top h1 {
        color: #24324a !important;
      }

      body.dashboard-light-mode .customer-chat-head small,
      body.dashboard-light-mode .lexi-launch-panel small,
      body.dashboard-light-mode .workspace-star-card small,
      body.dashboard-light-mode .workspace-action-btn small,
      body.dashboard-light-mode #dashUser,
      body.dashboard-light-mode #dashRoleHint,
      body.dashboard-light-mode #dashActionStatus {
        color: #5b6d87 !important;
      }
    </style>
    <script src="/theme-toggle.js"></script>
    <script type="module" src="/dashboard.js?v=20260221"></script>
  </body>
</html>

